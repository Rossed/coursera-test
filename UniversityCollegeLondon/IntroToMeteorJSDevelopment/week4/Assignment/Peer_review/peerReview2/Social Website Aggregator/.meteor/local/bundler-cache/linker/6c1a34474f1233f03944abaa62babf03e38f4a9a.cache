[{"type":"js","data":"/* Imports for global scope */\n\nMongo = Package.mongo.Mongo;\nReactiveVar = Package['reactive-var'].ReactiveVar;\n$ = Package.jquery.$;\njQuery = Package.jquery.jQuery;\nTracker = Package.tracker.Tracker;\nDeps = Package.tracker.Deps;\nRouter = Package['iron:router'].Router;\nRouteController = Package['iron:router'].RouteController;\nHTTP = Package.http.HTTP;\nmoment = Package['momentjs:moment'].moment;\nMeteor = Package.meteor.Meteor;\nglobal = Package.meteor.global;\nmeteorEnv = Package.meteor.meteorEnv;\nWebApp = Package.webapp.WebApp;\n_ = Package.underscore._;\nDDP = Package['ddp-client'].DDP;\nLaunchScreen = Package['launch-screen'].LaunchScreen;\nBlaze = Package.ui.Blaze;\nUI = Package.ui.UI;\nHandlebars = Package.ui.Handlebars;\nSpacebars = Package.spacebars.Spacebars;\nTemplate = Package.templating.Template;\nmeteorInstall = Package.modules.meteorInstall;\nBuffer = Package.modules.Buffer;\nprocess = Package.modules.process;\nSymbol = Package['ecmascript-runtime'].Symbol;\nMap = Package['ecmascript-runtime'].Map;\nSet = Package['ecmascript-runtime'].Set;\nmeteorBabelHelpers = Package['babel-runtime'].meteorBabelHelpers;\nPromise = Package.promise.Promise;\nIron = Package['iron:core'].Iron;\nAccounts = Package['accounts-base'].Accounts;\nAutoupdate = Package.autoupdate.Autoupdate;\nReload = Package.reload.Reload;\nHTML = Package.htmljs.HTML;\n\n","servePath":"/packages/global-imports.js"},{"type":"js","data":"var require = meteorInstall({\"client\":{\"template.main.js\":function(){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                       //\n// client/template.main.js                                                                               //\n//                                                                                                       //\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                         //\n                                                                                                         // 1\nTemplate.body.addContent((function() {                                                                   // 2\n  var view = this;                                                                                       // 3\n  return \"\";                                                                                             // 4\n}));                                                                                                     // 5\nMeteor.startup(Template.body.renderToDocument);                                                          // 6\n                                                                                                         // 7\nTemplate.__checkName(\"AppLayout\");                                                                       // 8\nTemplate[\"AppLayout\"] = new Template(\"Template.AppLayout\", (function() {                                 // 9\n  var view = this;                                                                                       // 10\n  return [ Blaze._TemplateWith(function() {                                                              // 11\n    return \"navbar\";                                                                                     // 12\n  }, function() {                                                                                        // 13\n    return Spacebars.include(view.lookupTemplate(\"yield\"));                                              // 14\n  }), \"\\n    \", Blaze._TemplateWith(function() {                                                         // 15\n    return \"main\";                                                                                       // 16\n  }, function() {                                                                                        // 17\n    return Spacebars.include(view.lookupTemplate(\"yield\"));                                              // 18\n  }), \"\\n    \", Blaze._TemplateWith(function() {                                                         // 19\n    return \"form\";                                                                                       // 20\n  }, function() {                                                                                        // 21\n    return Spacebars.include(view.lookupTemplate(\"yield\"));                                              // 22\n  }), \"\\n    \", Blaze._TemplateWith(function() {                                                         // 23\n    return \"list\";                                                                                       // 24\n  }, function() {                                                                                        // 25\n    return Spacebars.include(view.lookupTemplate(\"yield\"));                                              // 26\n  }) ];                                                                                                  // 27\n}));                                                                                                     // 28\n                                                                                                         // 29\nTemplate.__checkName(\"welcome\");                                                                         // 30\nTemplate[\"welcome\"] = new Template(\"Template.welcome\", (function() {                                     // 31\n  var view = this;                                                                                       // 32\n  return HTML.DIV({                                                                                      // 33\n    \"class\": \"container\"                                                                                 // 34\n  }, \"\\n    \", HTML.H1(Blaze.View(\"lookup:username\", function() {                                        // 35\n    return Spacebars.mustache(view.lookup(\"username\"));                                                  // 36\n  }), \", welcome to siteace\"), HTML.Raw(\"\\n    <br>\\n  \"));                                              // 37\n}));                                                                                                     // 38\n                                                                                                         // 39\nTemplate.__checkName(\"navbar\");                                                                          // 40\nTemplate[\"navbar\"] = new Template(\"Template.navbar\", (function() {                                       // 41\n  var view = this;                                                                                       // 42\n  return [ HTML.Raw(\"<!-- navbar  - you will be putting the login functions here -->\\n  \"), HTML.NAV({   // 43\n    \"class\": \"navbar navbar-default\"                                                                     // 44\n  }, \"\\n    \", HTML.DIV({                                                                                // 45\n    \"class\": \"container\"                                                                                 // 46\n  }, \"\\n      \", HTML.DIV({                                                                              // 47\n    \"class\": \"navbar-header\"                                                                             // 48\n  }, \"\\n        \", HTML.A({                                                                              // 49\n    \"class\": \"navbar-brand\",                                                                             // 50\n    href: \"#\"                                                                                            // 51\n  }, \"\\n          Site Ace \", HTML.Raw(\"&nbsp;\"), \"\\n          \", Spacebars.include(view.lookupTemplate(\"loginButtons\")), \"\\n        \"), \"\\n      \"), \"\\n    \"), \"\\n  \") ];\n}));                                                                                                     // 53\n                                                                                                         // 54\nTemplate.__checkName(\"website_form\");                                                                    // 55\nTemplate[\"website_form\"] = new Template(\"Template.website_form\", (function() {                           // 56\n  var view = this;                                                                                       // 57\n  return Blaze.If(function() {                                                                           // 58\n    return Spacebars.call(view.lookup(\"currentUser\"));                                                   // 59\n  }, function() {                                                                                        // 60\n    return [ \"\\n  \", HTML.DIV({                                                                          // 61\n      \"class\": \"container\"                                                                               // 62\n    }, \"\\n    \", HTML.A({                                                                                // 63\n      \"class\": \"btn btn-default js-toggle-website-form\",                                                 // 64\n      href: \"#\"                                                                                          // 65\n    }, \"\\n        \", HTML.SPAN({                                                                         // 66\n      \"class\": \"glyphicon glyphicon-plus\",                                                               // 67\n      \"aria-hidden\": \"true\"                                                                              // 68\n    }), \"\\n    \"), \"\\n    \", HTML.DIV({                                                                  // 69\n      id: \"website_form\",                                                                                // 70\n      \"class\": \"hidden_div\"                                                                              // 71\n    }, \"\\n      \", HTML.FORM({                                                                           // 72\n      \"class\": \"js-save-website-form\"                                                                    // 73\n    }, \"\\n        \", HTML.DIV({                                                                          // 74\n      \"class\": \"form-group\"                                                                              // 75\n    }, \"\\n          \", HTML.LABEL({                                                                      // 76\n      \"for\": \"url\"                                                                                       // 77\n    }, \"Site address\"), \"\\n          \", HTML.INPUT({                                                     // 78\n      type: \"text\",                                                                                      // 79\n      \"class\": \"form-control\",                                                                           // 80\n      id: \"url\",                                                                                         // 81\n      placeholder: \"http://www.mysite.com\"                                                               // 82\n    }), \"\\n        \"), \"\\n        \", HTML.DIV({                                                          // 83\n      \"class\": \"form-group\"                                                                              // 84\n    }, \"\\n          \", HTML.LABEL({                                                                      // 85\n      \"for\": \"title\"                                                                                     // 86\n    }, \"Title\"), \"\\n          \", HTML.INPUT({                                                            // 87\n      type: \"text\",                                                                                      // 88\n      \"class\": \"form-control\",                                                                           // 89\n      id: \"title\",                                                                                       // 90\n      placeholder: \"Mysite\"                                                                              // 91\n    }), \"\\n        \"), \"\\n          \", HTML.DIV({                                                        // 92\n      \"class\": \"form-group\"                                                                              // 93\n    }, \"\\n          \", HTML.LABEL({                                                                      // 94\n      \"for\": \"description\"                                                                               // 95\n    }, \"Description\"), \"\\n          \", HTML.INPUT({                                                      // 96\n      type: \"text\",                                                                                      // 97\n      \"class\": \"form-control\",                                                                           // 98\n      id: \"description\",                                                                                 // 99\n      placeholder: \"I found this site really useful for ...\"                                             // 100\n    }), \"\\n        \"), \"\\n\\n        \", HTML.BUTTON({                                                     // 101\n      type: \"submit\",                                                                                    // 102\n      \"class\": \"btn btn-default js-toggle-website-form-submit\"                                           // 103\n    }, \"Submit\"), \"\\n      \"), \"\\n    \"), \"\\n  \"), \"\\n  \", HTML.BR(), \"\\n  \" ];                          // 104\n  });                                                                                                    // 105\n}));                                                                                                     // 106\n                                                                                                         // 107\nTemplate.__checkName(\"website_list\");                                                                    // 108\nTemplate[\"website_list\"] = new Template(\"Template.website_list\", (function() {                           // 109\n  var view = this;                                                                                       // 110\n  return HTML.OL(\"\\n  \", Blaze.Each(function() {                                                         // 111\n    return Spacebars.call(view.lookup(\"websites\"));                                                      // 112\n  }, function() {                                                                                        // 113\n    return [ \"\\n   \", Spacebars.include(view.lookupTemplate(\"website_item\")), \"\\n  \" ];                  // 114\n  }), \"\\n  \");                                                                                           // 115\n}));                                                                                                     // 116\n                                                                                                         // 117\nTemplate.__checkName(\"website_item\");                                                                    // 118\nTemplate[\"website_item\"] = new Template(\"Template.website_item\", (function() {                           // 119\n  var view = this;                                                                                       // 120\n  return HTML.DIV({                                                                                      // 121\n    \"class\": \"container\"                                                                                 // 122\n  }, \"\\n    \", HTML.DIV({                                                                                // 123\n    \"class\": \"well\"                                                                                      // 124\n  }, \"\\n      \", HTML.LI(\"\\n        \", HTML.A({                                                          // 125\n    href: function() {                                                                                   // 126\n      return Spacebars.mustache(view.lookup(\"url\"));                                                     // 127\n    },                                                                                                   // 128\n    id: \"title\"                                                                                          // 129\n  }, HTML.H3(Blaze.View(\"lookup:title\", function() {                                                     // 130\n    return Spacebars.mustache(view.lookup(\"title\"));                                                     // 131\n  }))), \"\\n        \", HTML.Raw(\"<br>\"), \"\\n        \", HTML.P({                                           // 132\n    \"class\": \"details\",                                                                                  // 133\n    style: \"font-style: italic\"                                                                          // 134\n  }, \"\\n          \", Blaze.View(\"lookup:description\", function() {                                       // 135\n    return Spacebars.mustache(view.lookup(\"description\"));                                               // 136\n  }), \"\\n        \"), HTML.Raw(\"&nbsp;\"), HTML.Raw(\"&nbsp;\"), \"\\n          \", Blaze.If(function() {       // 137\n    return Spacebars.call(view.lookup(\"currentUser\"));                                                   // 138\n  }, function() {                                                                                        // 139\n    return [ \"\\n            \", HTML.A({                                                                  // 140\n      href: function() {                                                                                 // 141\n        return [ \"/website_item/\", Spacebars.mustache(view.lookup(\"_id\")) ];                             // 142\n      },                                                                                                 // 143\n      \"class\": \"btn btn-info js-details-button details\"                                                  // 144\n    }, \"details\"), \"\\n          \" ];                                                                     // 145\n  }), \"\\n        \", HTML.Raw(\"<br>\"), HTML.Raw(\"<br>\"), \"\\n        \", HTML.P(\"\\n          \", HTML.SPAN({\n    \"class\": \"added-on\"                                                                                  // 147\n  }, \"Added: \", Blaze.View(\"lookup:createdOn\", function() {                                              // 148\n    return Spacebars.mustache(view.lookup(\"createdOn\"));                                                 // 149\n  })), \"\\n        \"), \"\\n\\n        \", HTML.Raw('<a href=\"#\" class=\"btn btn-success js-upvote\">\\n          <span class=\"glyphicon glyphicon-arrow-up\" aria-hidden=\"true\"></span>\\n        </a>'), \"\\n\\n        \", HTML.Raw('<a href=\"#\" class=\"btn btn-danger js-downvote\">\\n          <span class=\"glyphicon glyphicon-arrow-down\" aria-hidden=\"true\"></span>\\n        </a>'), \"\\n        \", HTML.Raw(\"<!-- you will be putting your up and down vote buttons in here! -->\"), \"\\n        \", HTML.Raw(\"&nbsp;\"), \"\\n        \", HTML.P({\n    style: \"display:inline-block\"                                                                        // 151\n  }, \"Up: \", Blaze.View(\"lookup:ratingUp\", function() {                                                  // 152\n    return Spacebars.mustache(view.lookup(\"ratingUp\"));                                                  // 153\n  })), HTML.Raw(\"&nbsp;\"), HTML.Raw(\"&nbsp;\"), \"\\n        \", HTML.P({                                    // 154\n    style: \"display:inline-block\"                                                                        // 155\n  }, \"Down: \", Blaze.View(\"lookup:ratingDown\", function() {                                              // 156\n    return Spacebars.mustache(view.lookup(\"ratingDown\"));                                                // 157\n  })), HTML.Raw(\"&nbsp;\"), HTML.Raw(\"&nbsp;\"), \"\\n          \\n      \"), \"\\n    \"), \"\\n  \");              // 158\n}));                                                                                                     // 159\n                                                                                                         // 160\nTemplate.__checkName(\"website\");                                                                         // 161\nTemplate[\"website\"] = new Template(\"Template.website\", (function() {                                     // 162\n  var view = this;                                                                                       // 163\n  return HTML.DIV({                                                                                      // 164\n    \"class\": \"container\"                                                                                 // 165\n  }, \"\\n    \", HTML.H2(Blaze.View(\"lookup:title\", function() {                                           // 166\n    return Spacebars.mustache(view.lookup(\"title\"));                                                     // 167\n  })), \"\\n    \", HTML.P({                                                                                // 168\n    style: \"font-style: italic\"                                                                          // 169\n  }, Blaze.View(\"lookup:description\", function() {                                                       // 170\n    return Spacebars.mustache(view.lookup(\"description\"));                                               // 171\n  })), HTML.Raw('\\n    <a href=\"#\" class=\"btn btn-success js-upvote\">\\n      <span class=\"glyphicon glyphicon-arrow-up\" aria-hidden=\"true\"></span>\\n    </a>\\n\\n    <a href=\"#\" class=\"btn btn-danger js-downvote\">\\n      <span class=\"glyphicon glyphicon-arrow-down\" aria-hidden=\"true\"></span>\\n    </a>\\n    &nbsp;    \\n    '), HTML.P({\n    style: \"display:inline-block\"                                                                        // 173\n  }, \"Up: \", Blaze.View(\"lookup:ratingUp\", function() {                                                  // 174\n    return Spacebars.mustache(view.lookup(\"ratingUp\"));                                                  // 175\n  })), HTML.Raw(\"&nbsp;&nbsp;\\n    \"), HTML.P({                                                          // 176\n    style: \"display:inline-block\"                                                                        // 177\n  }, \"Down: \", Blaze.View(\"lookup:ratingDown\", function() {                                              // 178\n    return Spacebars.mustache(view.lookup(\"ratingDown\"));                                                // 179\n  })), HTML.Raw(\"&nbsp;&nbsp;\\n    \"), HTML.P(\"\\n      \", Blaze.If(function() {                          // 180\n    return Spacebars.call(view.lookup(\"comments\"));                                                      // 181\n  }, function() {                                                                                        // 182\n    return [ \"\\n        \", HTML.H4(\"Comments from users: \"), \"\\n      \" ];                               // 183\n  }), \"\\n    \"), \"\\n    \", HTML.UL(\"\\n      \", Blaze.Each(function() {                                   // 184\n    return Spacebars.call(view.lookup(\"comments\"));                                                      // 185\n  }, function() {                                                                                        // 186\n    return [ \"\\n          \", HTML.LI(HTML.SPAN({                                                         // 187\n      \"class\": \"added-on\"                                                                                // 188\n    }, Blaze.View(\"lookup:createdOn\", function() {                                                       // 189\n      return Spacebars.mustache(view.lookup(\"createdOn\"));                                               // 190\n    }), \":\"), \" \", Blaze.View(\"lookup:comment\", function() {                                             // 191\n      return Spacebars.mustache(view.lookup(\"comment\"));                                                 // 192\n    })), \"\\n      \" ];                                                                                   // 193\n  }), \"\\n    \"), HTML.Raw(\"\\n\\n    <!-- textarea for comments -->\\n    \"), HTML.FORM({                   // 194\n    id: \"comment\",                                                                                       // 195\n    style: \"display:inline-block\"                                                                        // 196\n  }, \"\\n      \", HTML.TEXTAREA({                                                                         // 197\n    name: \"name\",                                                                                        // 198\n    rows: \"4\",                                                                                           // 199\n    cols: \"30\",                                                                                          // 200\n    autofocus: \"true\"                                                                                    // 201\n  }), HTML.Raw(\"<br>\"), \"\\n      \", HTML.Raw('<input type=\"submit\" class=\"btn btn-primary js-add-comment\" value=\"add comment\">'), \"\\n      \", HTML.Raw('<a style=\"display:inline-block\" href=\"/\" class=\"btn btn-default\">back to home</a>'), \"\\n    \"), \"\\n\\n  \");\n}));                                                                                                     // 203\n                                                                                                         // 204\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"main.js\":function(){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                       //\n// client/main.js                                                                                        //\n//                                                                                                       //\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                         //\nRouter.configure({                                                                                       // 1\n    layoutTemplate: 'AppLayout'                                                                          // 2\n});                                                                                                      // 1\n                                                                                                         //\nRouter.route('/', function () {                                                                          // 5\n    this.render('navbar', {                                                                              // 6\n        to: 'navbar'                                                                                     // 7\n    });                                                                                                  // 6\n                                                                                                         //\n    this.render('welcome', {                                                                             // 10\n        to: 'main'                                                                                       // 11\n    });                                                                                                  // 10\n                                                                                                         //\n    this.render('website_list', {                                                                        // 14\n        to: 'list'                                                                                       // 15\n    });                                                                                                  // 14\n                                                                                                         //\n    this.render('website_form', {                                                                        // 18\n        to: 'form'                                                                                       // 19\n    });                                                                                                  // 18\n});                                                                                                      // 21\n                                                                                                         //\nRouter.route('/website_item/:_id', function () {                                                         // 23\n    this.render('navbar', {                                                                              // 24\n        to: 'navbar'                                                                                     // 25\n    });                                                                                                  // 24\n                                                                                                         //\n    this.render('website', {                                                                             // 28\n        to: 'main',                                                                                      // 29\n        data: function () {                                                                              // 30\n            function data() {                                                                            // 30\n                return Websites.findOne({ _id: this.params._id });                                       // 31\n            }                                                                                            // 32\n                                                                                                         //\n            return data;                                                                                 // 30\n        }()                                                                                              // 30\n    });                                                                                                  // 28\n});                                                                                                      // 34\n                                                                                                         //\n// helper function that returns all available websites                                                   //\nTemplate.website_list.helpers({                                                                          // 37\n    websites: function () {                                                                              // 38\n        function websites() {                                                                            // 38\n            return Websites.find({}, { sort: { ratingUp: -1 } });                                        // 39\n        }                                                                                                // 40\n                                                                                                         //\n        return websites;                                                                                 // 38\n    }()                                                                                                  // 38\n});                                                                                                      // 37\n                                                                                                         //\n//helper function that returns loggedin user's username                                                  //\nTemplate.welcome.helpers({                                                                               // 44\n    username: function () {                                                                              // 45\n        function username() {                                                                            // 45\n            if (Meteor.user()) {                                                                         // 46\n                return Meteor.user().emails[0].address;                                                  // 47\n            } else {                                                                                     // 48\n                return 'anonymous internet user';                                                        // 49\n            }                                                                                            // 50\n        }                                                                                                // 51\n                                                                                                         //\n        return username;                                                                                 // 45\n    }()                                                                                                  // 45\n});                                                                                                      // 44\n                                                                                                         //\nTemplate.website_list.helpers({                                                                          // 54\n    comments: function () {                                                                              // 55\n        function comments() {                                                                            // 55\n            return Websites.find({});                                                                    // 56\n        }                                                                                                // 57\n                                                                                                         //\n        return comments;                                                                                 // 55\n    }()                                                                                                  // 55\n});                                                                                                      // 54\n                                                                                                         //\n/////                                                                                                    //\n// template events                                                                                       //\n/////                                                                                                    //\n                                                                                                         //\nTemplate.website_item.events({                                                                           // 64\n    \"click .js-upvote\": function () {                                                                    // 65\n        function clickJsUpvote(event) {                                                                  // 65\n            // example of how you can access the id for the website in the database                      //\n            // (this is the data context for the template)                                               //\n            var website_id = this._id;                                                                   // 68\n            // put the code in here to add a vote to a website!                                          //\n            var ratingUp = this.ratingUp;                                                                // 70\n            if (Meteor.user()) {                                                                         // 71\n                Websites.update({ _id: website_id }, { $inc: { ratingUp: 1 } });                         // 72\n            }                                                                                            // 73\n            return false; // prevent the button from reloading the page                                  // 74\n        }                                                                                                // 75\n                                                                                                         //\n        return clickJsUpvote;                                                                            // 65\n    }(),                                                                                                 // 65\n    \"click .js-downvote\": function () {                                                                  // 76\n        function clickJsDownvote(event) {                                                                // 76\n                                                                                                         //\n            var website_id = this._id;                                                                   // 79\n            // put the code in here to remove a vote from a website!                                     //\n            var ratingDown = this.ratingDown;                                                            // 81\n            if (Meteor.user()) {                                                                         // 82\n                Websites.update({ _id: website_id }, { $inc: { ratingDown: 1 } });                       // 83\n            }                                                                                            // 84\n            return false;                                                                                // 85\n        }                                                                                                // 86\n                                                                                                         //\n        return clickJsDownvote;                                                                          // 76\n    }()                                                                                                  // 76\n});                                                                                                      // 64\n                                                                                                         //\nTemplate.website.events({                                                                                // 89\n    \"click .js-add-comment\": function () {                                                               // 90\n        function clickJsAddComment(event) {                                                              // 90\n            var commentForm = $('#comment');                                                             // 91\n            var website_id = this._id;                                                                   // 92\n            // put the code in here to add a comment to a website!                                       //\n            var comment = $('textarea')[0].value;                                                        // 94\n            if (Meteor.user()) {                                                                         // 95\n                Websites.update({ _id: website_id }, { $push: { comments: { comment: comment, createdOn: new Date().toLocaleString() } } });\n                commentForm.reset();                                                                     // 97\n            }                                                                                            // 98\n            return false;                                                                                // 99\n        }                                                                                                // 100\n                                                                                                         //\n        return clickJsAddComment;                                                                        // 90\n    }(),                                                                                                 // 90\n    \"click .js-upvote\": function () {                                                                    // 101\n        function clickJsUpvote(event) {                                                                  // 101\n            // example of how you can access the id for the website in the database                      //\n            // (this is the data context for the template)                                               //\n            var website_id = this._id;                                                                   // 104\n            // put the code in here to add a vote to a website!                                          //\n            var ratingUp = this.ratingUp;                                                                // 106\n            if (Meteor.user()) {                                                                         // 107\n                Websites.update({ _id: website_id }, { $inc: { ratingUp: 1 } });                         // 108\n            }                                                                                            // 109\n            return false; // prevent the button from reloading the page                                  // 110\n        }                                                                                                // 111\n                                                                                                         //\n        return clickJsUpvote;                                                                            // 101\n    }(),                                                                                                 // 101\n    \"click .js-downvote\": function () {                                                                  // 112\n        function clickJsDownvote(event) {                                                                // 112\n                                                                                                         //\n            var website_id = this._id;                                                                   // 115\n            // put the code in here to remove a vote from a website!                                     //\n            var ratingDown = this.ratingDown;                                                            // 117\n            if (Meteor.user()) {                                                                         // 118\n                Websites.update({ _id: website_id }, { $inc: { ratingDown: 1 } });                       // 119\n            }                                                                                            // 120\n            return false;                                                                                // 121\n        }                                                                                                // 122\n                                                                                                         //\n        return clickJsDownvote;                                                                          // 112\n    }()                                                                                                  // 112\n});                                                                                                      // 89\n                                                                                                         //\nTemplate.website_form.events({                                                                           // 127\n    \"click .js-toggle-website-form\": function () {                                                       // 128\n        function clickJsToggleWebsiteForm(event) {                                                       // 128\n            $(\"#website_form\").toggle('slow');                                                           // 129\n        }                                                                                                // 130\n                                                                                                         //\n        return clickJsToggleWebsiteForm;                                                                 // 128\n    }(),                                                                                                 // 128\n                                                                                                         //\n    \"click .js-toggle-website-form-submit\": function () {                                                // 132\n        function clickJsToggleWebsiteFormSubmit(event) {                                                 // 132\n            $(\"#website_form\").toggle('slow');                                                           // 133\n        }                                                                                                // 134\n                                                                                                         //\n        return clickJsToggleWebsiteFormSubmit;                                                           // 132\n    }(),                                                                                                 // 132\n                                                                                                         //\n    \"submit .js-save-website-form\": function () {                                                        // 136\n        function submitJsSaveWebsiteForm(event) {                                                        // 136\n                                                                                                         //\n            // here is an example of how to get the url out of the form:                                 //\n            var url = event.target.url.value;                                                            // 139\n            var title = event.target.title.value;                                                        // 140\n            var description = event.target.description.value;                                            // 141\n            //  put your website saving code in here!                                                    //\n            if (Meteor.user()) {                                                                         // 143\n                Websites.insert({                                                                        // 144\n                    title: title,                                                                        // 145\n                    url: url,                                                                            // 146\n                    description: description,                                                            // 147\n                    createdOn: new Date().toLocaleString(),                                              // 148\n                    ratingUp: 0,                                                                         // 149\n                    ratingDown: 0                                                                        // 150\n                });                                                                                      // 144\n            }                                                                                            // 152\n            return false; // stop the form submit from reloading the page                                // 153\n        }                                                                                                // 155\n                                                                                                         //\n        return submitJsSaveWebsiteForm;                                                                  // 136\n    }()                                                                                                  // 136\n});                                                                                                      // 127\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"lib\":{\"collections.js\":function(){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                       //\n// lib/collections.js                                                                                    //\n//                                                                                                       //\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                         //\nWebsites = new Mongo.Collection(\"websites\");                                                             // 1\n                                                                                                         //\nComments = new Mongo.Collection(\"comments\");                                                             // 3\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}},{\"extensions\":[\".js\",\".json\",\".html\",\".css\"]});\nrequire(\"./client/template.main.js\");\nrequire(\"./lib/collections.js\");\nrequire(\"./client/main.js\");","servePath":"/app.js","sourceMap":{"version":3,"sources":["/client/template.main.js","/client/main.js","/lib/collections.js"],"names":[],"mappings":";;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+G;;;;;;;;;;;AC3MA,OAAO,SAAP,CAAiB;AACT,oBAAgB;AADP,CAAjB;;AAII,OAAO,KAAP,CAAa,GAAb,EAAkB,YAAY;AAC1B,SAAK,MAAL,CAAY,QAAZ,EAAsB;AAClB,YAAG;AADe,KAAtB;;AAIA,SAAK,MAAL,CAAY,SA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","file":"/app.js","sourcesContent":["\nTemplate.body.addContent((function() {\n  var view = this;\n  return \"\";\n}));\nMeteor.startup(Template.body.renderToDocument);\n\nTemplate.__checkName(\"AppLayout\");\nTemplate[\"AppLayout\"] = new Template(\"Template.AppLayout\", (function() {\n  var view = this;\n  return [ Blaze._TemplateWith(function() {\n    return \"navbar\";\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"yield\"));\n  }), \"\\n    \", Blaze._TemplateWith(function() {\n    return \"main\";\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"yield\"));\n  }), \"\\n    \", Blaze._TemplateWith(function() {\n    return \"form\";\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"yield\"));\n  }), \"\\n    \", Blaze._TemplateWith(function() {\n    return \"list\";\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"yield\"));\n  }) ];\n}));\n\nTemplate.__checkName(\"welcome\");\nTemplate[\"welcome\"] = new Template(\"Template.welcome\", (function() {\n  var view = this;\n  return HTML.DIV({\n    \"class\": \"container\"\n  }, \"\\n    \", HTML.H1(Blaze.View(\"lookup:username\", function() {\n    return Spacebars.mustache(view.lookup(\"username\"));\n  }), \", welcome to siteace\"), HTML.Raw(\"\\n    <br>\\n  \"));\n}));\n\nTemplate.__checkName(\"navbar\");\nTemplate[\"navbar\"] = new Template(\"Template.navbar\", (function() {\n  var view = this;\n  return [ HTML.Raw(\"<!-- navbar  - you will be putting the login functions here -->\\n  \"), HTML.NAV({\n    \"class\": \"navbar navbar-default\"\n  }, \"\\n    \", HTML.DIV({\n    \"class\": \"container\"\n  }, \"\\n      \", HTML.DIV({\n    \"class\": \"navbar-header\"\n  }, \"\\n        \", HTML.A({\n    \"class\": \"navbar-brand\",\n    href: \"#\"\n  }, \"\\n          Site Ace \", HTML.Raw(\"&nbsp;\"), \"\\n          \", Spacebars.include(view.lookupTemplate(\"loginButtons\")), \"\\n        \"), \"\\n      \"), \"\\n    \"), \"\\n  \") ];\n}));\n\nTemplate.__checkName(\"website_form\");\nTemplate[\"website_form\"] = new Template(\"Template.website_form\", (function() {\n  var view = this;\n  return Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"currentUser\"));\n  }, function() {\n    return [ \"\\n  \", HTML.DIV({\n      \"class\": \"container\"\n    }, \"\\n    \", HTML.A({\n      \"class\": \"btn btn-default js-toggle-website-form\",\n      href: \"#\"\n    }, \"\\n        \", HTML.SPAN({\n      \"class\": \"glyphicon glyphicon-plus\",\n      \"aria-hidden\": \"true\"\n    }), \"\\n    \"), \"\\n    \", HTML.DIV({\n      id: \"website_form\",\n      \"class\": \"hidden_div\"\n    }, \"\\n      \", HTML.FORM({\n      \"class\": \"js-save-website-form\"\n    }, \"\\n        \", HTML.DIV({\n      \"class\": \"form-group\"\n    }, \"\\n          \", HTML.LABEL({\n      \"for\": \"url\"\n    }, \"Site address\"), \"\\n          \", HTML.INPUT({\n      type: \"text\",\n      \"class\": \"form-control\",\n      id: \"url\",\n      placeholder: \"http://www.mysite.com\"\n    }), \"\\n        \"), \"\\n        \", HTML.DIV({\n      \"class\": \"form-group\"\n    }, \"\\n          \", HTML.LABEL({\n      \"for\": \"title\"\n    }, \"Title\"), \"\\n          \", HTML.INPUT({\n      type: \"text\",\n      \"class\": \"form-control\",\n      id: \"title\",\n      placeholder: \"Mysite\"\n    }), \"\\n        \"), \"\\n          \", HTML.DIV({\n      \"class\": \"form-group\"\n    }, \"\\n          \", HTML.LABEL({\n      \"for\": \"description\"\n    }, \"Description\"), \"\\n          \", HTML.INPUT({\n      type: \"text\",\n      \"class\": \"form-control\",\n      id: \"description\",\n      placeholder: \"I found this site really useful for ...\"\n    }), \"\\n        \"), \"\\n\\n        \", HTML.BUTTON({\n      type: \"submit\",\n      \"class\": \"btn btn-default js-toggle-website-form-submit\"\n    }, \"Submit\"), \"\\n      \"), \"\\n    \"), \"\\n  \"), \"\\n  \", HTML.BR(), \"\\n  \" ];\n  });\n}));\n\nTemplate.__checkName(\"website_list\");\nTemplate[\"website_list\"] = new Template(\"Template.website_list\", (function() {\n  var view = this;\n  return HTML.OL(\"\\n  \", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"websites\"));\n  }, function() {\n    return [ \"\\n   \", Spacebars.include(view.lookupTemplate(\"website_item\")), \"\\n  \" ];\n  }), \"\\n  \");\n}));\n\nTemplate.__checkName(\"website_item\");\nTemplate[\"website_item\"] = new Template(\"Template.website_item\", (function() {\n  var view = this;\n  return HTML.DIV({\n    \"class\": \"container\"\n  }, \"\\n    \", HTML.DIV({\n    \"class\": \"well\"\n  }, \"\\n      \", HTML.LI(\"\\n        \", HTML.A({\n    href: function() {\n      return Spacebars.mustache(view.lookup(\"url\"));\n    },\n    id: \"title\"\n  }, HTML.H3(Blaze.View(\"lookup:title\", function() {\n    return Spacebars.mustache(view.lookup(\"title\"));\n  }))), \"\\n        \", HTML.Raw(\"<br>\"), \"\\n        \", HTML.P({\n    \"class\": \"details\",\n    style: \"font-style: italic\"\n  }, \"\\n          \", Blaze.View(\"lookup:description\", function() {\n    return Spacebars.mustache(view.lookup(\"description\"));\n  }), \"\\n        \"), HTML.Raw(\"&nbsp;\"), HTML.Raw(\"&nbsp;\"), \"\\n          \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"currentUser\"));\n  }, function() {\n    return [ \"\\n            \", HTML.A({\n      href: function() {\n        return [ \"/website_item/\", Spacebars.mustache(view.lookup(\"_id\")) ];\n      },\n      \"class\": \"btn btn-info js-details-button details\"\n    }, \"details\"), \"\\n          \" ];\n  }), \"\\n        \", HTML.Raw(\"<br>\"), HTML.Raw(\"<br>\"), \"\\n        \", HTML.P(\"\\n          \", HTML.SPAN({\n    \"class\": \"added-on\"\n  }, \"Added: \", Blaze.View(\"lookup:createdOn\", function() {\n    return Spacebars.mustache(view.lookup(\"createdOn\"));\n  })), \"\\n        \"), \"\\n\\n        \", HTML.Raw('<a href=\"#\" class=\"btn btn-success js-upvote\">\\n          <span class=\"glyphicon glyphicon-arrow-up\" aria-hidden=\"true\"></span>\\n        </a>'), \"\\n\\n        \", HTML.Raw('<a href=\"#\" class=\"btn btn-danger js-downvote\">\\n          <span class=\"glyphicon glyphicon-arrow-down\" aria-hidden=\"true\"></span>\\n        </a>'), \"\\n        \", HTML.Raw(\"<!-- you will be putting your up and down vote buttons in here! -->\"), \"\\n        \", HTML.Raw(\"&nbsp;\"), \"\\n        \", HTML.P({\n    style: \"display:inline-block\"\n  }, \"Up: \", Blaze.View(\"lookup:ratingUp\", function() {\n    return Spacebars.mustache(view.lookup(\"ratingUp\"));\n  })), HTML.Raw(\"&nbsp;\"), HTML.Raw(\"&nbsp;\"), \"\\n        \", HTML.P({\n    style: \"display:inline-block\"\n  }, \"Down: \", Blaze.View(\"lookup:ratingDown\", function() {\n    return Spacebars.mustache(view.lookup(\"ratingDown\"));\n  })), HTML.Raw(\"&nbsp;\"), HTML.Raw(\"&nbsp;\"), \"\\n          \\n      \"), \"\\n    \"), \"\\n  \");\n}));\n\nTemplate.__checkName(\"website\");\nTemplate[\"website\"] = new Template(\"Template.website\", (function() {\n  var view = this;\n  return HTML.DIV({\n    \"class\": \"container\"\n  }, \"\\n    \", HTML.H2(Blaze.View(\"lookup:title\", function() {\n    return Spacebars.mustache(view.lookup(\"title\"));\n  })), \"\\n    \", HTML.P({\n    style: \"font-style: italic\"\n  }, Blaze.View(\"lookup:description\", function() {\n    return Spacebars.mustache(view.lookup(\"description\"));\n  })), HTML.Raw('\\n    <a href=\"#\" class=\"btn btn-success js-upvote\">\\n      <span class=\"glyphicon glyphicon-arrow-up\" aria-hidden=\"true\"></span>\\n    </a>\\n\\n    <a href=\"#\" class=\"btn btn-danger js-downvote\">\\n      <span class=\"glyphicon glyphicon-arrow-down\" aria-hidden=\"true\"></span>\\n    </a>\\n    &nbsp;    \\n    '), HTML.P({\n    style: \"display:inline-block\"\n  }, \"Up: \", Blaze.View(\"lookup:ratingUp\", function() {\n    return Spacebars.mustache(view.lookup(\"ratingUp\"));\n  })), HTML.Raw(\"&nbsp;&nbsp;\\n    \"), HTML.P({\n    style: \"display:inline-block\"\n  }, \"Down: \", Blaze.View(\"lookup:ratingDown\", function() {\n    return Spacebars.mustache(view.lookup(\"ratingDown\"));\n  })), HTML.Raw(\"&nbsp;&nbsp;\\n    \"), HTML.P(\"\\n      \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"comments\"));\n  }, function() {\n    return [ \"\\n        \", HTML.H4(\"Comments from users: \"), \"\\n      \" ];\n  }), \"\\n    \"), \"\\n    \", HTML.UL(\"\\n      \", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"comments\"));\n  }, function() {\n    return [ \"\\n          \", HTML.LI(HTML.SPAN({\n      \"class\": \"added-on\"\n    }, Blaze.View(\"lookup:createdOn\", function() {\n      return Spacebars.mustache(view.lookup(\"createdOn\"));\n    }), \":\"), \" \", Blaze.View(\"lookup:comment\", function() {\n      return Spacebars.mustache(view.lookup(\"comment\"));\n    })), \"\\n      \" ];\n  }), \"\\n    \"), HTML.Raw(\"\\n\\n    <!-- textarea for comments -->\\n    \"), HTML.FORM({\n    id: \"comment\",\n    style: \"display:inline-block\"\n  }, \"\\n      \", HTML.TEXTAREA({\n    name: \"name\",\n    rows: \"4\",\n    cols: \"30\",\n    autofocus: \"true\"\n  }), HTML.Raw(\"<br>\"), \"\\n      \", HTML.Raw('<input type=\"submit\" class=\"btn btn-primary js-add-comment\" value=\"add comment\">'), \"\\n      \", HTML.Raw('<a style=\"display:inline-block\" href=\"/\" class=\"btn btn-default\">back to home</a>'), \"\\n    \"), \"\\n\\n  \");\n}));\n","Router.configure({\n        layoutTemplate: 'AppLayout'\n    });\n\n    Router.route('/', function () {\n        this.render('navbar', {\n            to:'navbar'\n        });\n\n        this.render('welcome', {\n        to:'main'\n      });\n\n        this.render('website_list', {\n            to:'list'\n        });\n\n        this.render('website_form', {\n        to:'form'\n      });\n    });\n\n    Router.route('/website_item/:_id', function () {\n        this.render('navbar', {\n            to:'navbar'\n        });\n\n        this.render('website', {\n            to:'main',\n            data: function() {\n                return Websites.findOne({_id: this.params._id});\n            }\n        });\n    });\n\n    // helper function that returns all available websites\n    Template.website_list.helpers({\n        websites:function(){\n            return Websites.find({}, {sort: {ratingUp:-1}});\n        },\n    });\n\n    //helper function that returns loggedin user's username\n  Template.welcome.helpers({\n            username: function() {\n                if(Meteor.user()) {\n                    return Meteor.user().emails[0].address;\n                } else {\n                    return 'anonymous internet user';\n                }\n        }\n    });\n\n    Template.website_list.helpers({\n        comments:function(){\n            return Websites.find({});\n        },\n    });\n\n    /////\n    // template events\n    /////\n\n    Template.website_item.events({\n        \"click .js-upvote\":function(event){\n            // example of how you can access the id for the website in the database\n            // (this is the data context for the template)\n            var website_id = this._id;\n            // put the code in here to add a vote to a website!\n            var ratingUp = this.ratingUp;\n            if(Meteor.user()) {\n                Websites.update({_id:website_id}, {$inc: {ratingUp: 1}});\n          }\n            return false;// prevent the button from reloading the page\n        },\n        \"click .js-downvote\":function(event){\n\n\n            var website_id = this._id;\n            // put the code in here to remove a vote from a website!\n            var ratingDown = this.ratingDown;\n            if(Meteor.user()) {\n                Websites.update({_id:website_id}, {$inc: {ratingDown: 1}});\n          }\n            return false;\n        }\n    });\n\n    Template.website.events({\n        \"click .js-add-comment\":function(event){\n            var commentForm = $('#comment');\n            var website_id = this._id;\n            // put the code in here to add a comment to a website!\n            var comment = $('textarea')[0].value;\n            if(Meteor.user()) {\n                Websites.update({_id:website_id}, {$push: {comments: {comment:comment, createdOn:new Date().toLocaleString()}}});\n                commentForm.reset();        \n            }\n            return false;\n        },\n        \"click .js-upvote\":function(event){\n            // example of how you can access the id for the website in the database\n            // (this is the data context for the template)\n            var website_id = this._id;\n            // put the code in here to add a vote to a website!\n            var ratingUp = this.ratingUp;\n            if(Meteor.user()) {\n                Websites.update({_id:website_id}, {$inc: {ratingUp: 1}});\n          }\n            return false;// prevent the button from reloading the page\n        },\n        \"click .js-downvote\":function(event){\n\n\n            var website_id = this._id;\n            // put the code in here to remove a vote from a website!\n            var ratingDown = this.ratingDown;\n            if(Meteor.user()) {\n                Websites.update({_id:website_id}, {$inc: {ratingDown: 1}});\n          }\n            return false;\n        }\n    });\n\n\n\n    Template.website_form.events({\n        \"click .js-toggle-website-form\":function(event){\n            $(\"#website_form\").toggle('slow');\n        },\n\n        \"click .js-toggle-website-form-submit\":function(event){\n            $(\"#website_form\").toggle('slow');\n        },\n\n        \"submit .js-save-website-form\":function(event){\n\n            // here is an example of how to get the url out of the form:\n            var url = event.target.url.value;\n            var title = event.target.title.value;\n            var description = event.target.description.value;\n            //  put your website saving code in here!\n            if(Meteor.user()) {\n                Websites.insert({\n                    title: title,\n                    url: url,\n                    description: description,\n                    createdOn:new Date().toLocaleString(),\n                    ratingUp:0,\n                    ratingDown:0\n                });\n            }\n            return false;// stop the form submit from reloading the page\n\n        }\n    });\n\n\n\n","Websites = new Mongo.Collection(\"websites\");\r\n\r\nComments = new Mongo.Collection(\"comments\");\r\n\r\n"]}}]