{"version":3,"sources":["meteor://ðŸ’»app/packages/mizzao_sharejs/.npm/package/node_modules/share/node_modules/browserchannel/dist/bcsocket-uncompressed.js","meteor://ðŸ’»app/packages/mizzao_sharejs/.npm/package/node_modules/share/webclient/share.uncompressed.js","meteor://ðŸ’»app/packages/mizzao_sharejs/.npm/package/node_modules/share/webclient/textarea.js","meteor://ðŸ’»app/packages/mizzao_sharejs/template.sharejs-templates.js","meteor://ðŸ’»app/packages/mizzao_sharejs/sharejs-client.coffee"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4H;;;;;;;;;;;;;;;;;;AC5tFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4H;;;;;;;;;;;;;;;;;;ACzyCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2H;;;;;;;;;;;;;;;;;;AClHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0H;;;;;;;;;;;;;;;;;;;AChBA;EAAA;;;AAAM;AAEJ;;EAAA,aAAa;WACX;MAAA,QAAQ,OAAO,MAAM,CAAC,QAAQ,CAAC,IAAvB,GAA8B,UAAtC;MACA,uDAAgB,MAAM,CAAC,kBAAP,IAAoB,IADpC;;EADW;;EAIA,0BAAC,UAAD;AAEX;IAAA,WAAW,IAAI,KAAK,CAAC;IAErB,UAAU,CAAC,WAAX,CAAuB;aACrB,IAAI,CAAC,OAAL,CAAa;AACX;QAAA,OAAO,KAAK,CAAC,OAAN;eACP,QAAQ,CAAC,GAAT,CAAa,IAAI,CAAC,KAAlB;MAFW,CAAb;IADqB,CAAvB;IAKA,UAAU,CAAC,eAAX,CAA2B;aAAA;eACzB,KAAI,CAAC,OAAL;MADyB;IAAA,QAA3B;IAGA,IAAC,UAAD,GAAa;IACb,IAAC,SAAD,GAAY;IAGZ,SAAS,KAAK,CAAC,OAAN,CAAc,UAAd;IACT,IAAC,eAAD,GAAkB,MAAM,CAAC;IACzB,IAAC,gBAAD,GAAmB,MAAM,CAAC;EAlBf;;6BAoBb,SAAQ;AACN;IAAA,IAAsC,IAAC,UAAvC;AAAA,YAAU,UAAM,iBAAN,EAAV;;IACA,YAAY;IACZ,IAAC,UAAD,GAAa;IAEb,IAAC,KAAD,GAAQ,IAAC,WAAD;IACR,IAAC,KAAI,CAAC,WAAN,CAAkB;MAChB,SAAS,CAAC,QAAV,CAAoB,IAAI,CAAC,SAAL,EAApB;aAEA,IAAI,CAAC,OAAL,CAAa;AAGX;QAAA,QAAQ,SAAS,CAAC,QAAQ,CAAC,GAAnB;QAGR,SAAS,CAAC,UAAV;QACA,IAA4B,KAA5B;iBAAA,SAAS,CAAC,OAAV,CAAkB,KAAlB;;MAPW,CAAb;IAHgB,CAAlB;AAYA,WAAO,IAAC;EAlBF;;6BAqBR,WAAU,SAAC,OAAD;WACR,IAAI,CAAC,OAAL,GAAe;EADP;;6BAIV,UAAS,SAAC,KAAD,EAAQ,OAAR;IACP,IAAC,aAAD,GAAgB;WAEhB,OAAO,CAAC,IAAR,CAAa,KAAb,EAAoB,MAApB,EAA4B,YAA5B,EAA0C;aAAA,SAAC,KAAD,EAAQ,GAAR;QACxC,IAAG,KAAH;UACE,MAAM,CAAC,MAAP,CAAc,KAAd;AACA,iBAFF;;QAMA,IAAO,KAAC,aAAD,KAAiB,GAAG,CAAC,IAA5B;iBACE,GAAG,CAAC,KAAJ,GADF;SAAA;iBAGE,KAAC,OAAD,CAAQ,GAAR,EAHF;;MAPwC;IAAA,QAA1C;EAHO;;6BAgBT,SAAQ,SAAC,GAAD;WACN,IAAC,IAAD,GAAO;EADD;;6BAIR,aAAY;IAEV,IAAG,gBAAH;MACE,IAAC,IAAG,CAAC,KAAL;aACA,IAAC,IAAD,GAAO,KAFT;;EAFU;;6BAOZ,UAAS;IACP,IAAwC,IAAC,YAAzC;AAAA,YAAU,UAAM,mBAAN,EAAV;;IAEA,IAAC,WAAD;IACA,IAAC,KAAD,GAAQ;WACR,IAAC,YAAD,GAAe;EALR;;;;;;AAOL;;;;;;;iCAEJ,aAAY;AACV,WAAO,KAAK,CAAC,IAAN,CAAW,KAAK,CAAC,OAAjB,EAA0B;aAAG,QAAQ,CAAC;IAAZ,CAA1B;EADG;;iCAGZ,WAAU,SAAC,OAAD;IACR;IACA,IAAC,SAAD,GAAY;uDACZ,IAAC,gBAAgB,IAAC;EAHV;;iCAKV,UAAS;IACP,IAAC,SAAQ,CAAC,QAAV,GAAqB;WACrB;EAFO;;iCAIT,SAAQ,SAAC,GAAD;IACN;IACA,GAAG,CAAC,eAAJ,CAAoB,IAAC,SAArB;IACA,IAAC,SAAQ,CAAC,QAAV,GAAqB;wDACrB,IAAC,iBAAiB,IAAC;EAJb;;iCAMR,aAAY;AACV;;;WAAS,CAAE;;;WACX;EAFU;;iCAIZ,UAAS;IACP;WAEA,IAAC,SAAD,GAAY;EAHL;;;;GAxBwB;;AA6BnC,EAAE,CAAC,cAAH,CAAkB,aAAlB,EAAqC,aAAS,aAAT,EAAwB;AAC3D,SAAW,yBAAqB,IAArB,CAA0B,CAAC,MAA3B;AADgD,CAAxB,CAArC","file":"/packages/mizzao_sharejs.js","sourcesContent":["(function(){\nvar f, aa = aa || {}, l = this;\nfunction ba(a) {\n  a = a.split(\".\");\n  for (var b = l, c;c = a.shift();) {\n    if (null != b[c]) {\n      b = b[c];\n    } else {\n      return null;\n    }\n  }\n  return b;\n}\nfunction ca() {\n}\nfunction da(a) {\n  var b = typeof a;\n  if (\"object\" == b) {\n    if (a) {\n      if (a instanceof Array) {\n        return \"array\";\n      }\n      if (a instanceof Object) {\n        return b;\n      }\n      var c = Object.prototype.toString.call(a);\n      if (\"[object Window]\" == c) {\n        return \"object\";\n      }\n      if (\"[object Array]\" == c || \"number\" == typeof a.length && \"undefined\" != typeof a.splice && \"undefined\" != typeof a.propertyIsEnumerable && !a.propertyIsEnumerable(\"splice\")) {\n        return \"array\";\n      }\n      if (\"[object Function]\" == c || \"undefined\" != typeof a.call && \"undefined\" != typeof a.propertyIsEnumerable && !a.propertyIsEnumerable(\"call\")) {\n        return \"function\";\n      }\n    } else {\n      return \"null\";\n    }\n  } else {\n    if (\"function\" == b && \"undefined\" == typeof a.call) {\n      return \"object\";\n    }\n  }\n  return b;\n}\nfunction m(a) {\n  return \"array\" == da(a);\n}\nfunction ea(a) {\n  var b = da(a);\n  return \"array\" == b || \"object\" == b && \"number\" == typeof a.length;\n}\nfunction n(a) {\n  return \"string\" == typeof a;\n}\nfunction fa(a) {\n  return \"function\" == da(a);\n}\nvar ga = \"closure_uid_\" + (1E9 * Math.random() >>> 0), ha = 0;\nfunction ia(a, b, c) {\n  return a.call.apply(a.bind, arguments);\n}\nfunction ja(a, b, c) {\n  if (!a) {\n    throw Error();\n  }\n  if (2 < arguments.length) {\n    var d = Array.prototype.slice.call(arguments, 2);\n    return function() {\n      var c = Array.prototype.slice.call(arguments);\n      Array.prototype.unshift.apply(c, d);\n      return a.apply(b, c);\n    };\n  }\n  return function() {\n    return a.apply(b, arguments);\n  };\n}\nfunction p(a, b, c) {\n  p = Function.prototype.bind && -1 != Function.prototype.bind.toString().indexOf(\"native code\") ? ia : ja;\n  return p.apply(null, arguments);\n}\nvar q = Date.now || function() {\n  return+new Date;\n};\nfunction s(a, b) {\n  function c() {\n  }\n  c.prototype = b.prototype;\n  a.oa = b.prototype;\n  a.prototype = new c;\n  a.ic = function(a, c, g) {\n    var h = Array.prototype.slice.call(arguments, 2);\n    b.prototype[c].apply(a, h);\n  };\n}\n;function ka(a, b) {\n  for (var c = a.split(\"%s\"), d = \"\", e = Array.prototype.slice.call(arguments, 1);e.length && 1 < c.length;) {\n    d += c.shift() + e.shift();\n  }\n  return d + c.join(\"%s\");\n}\nfunction la(a) {\n  if (!ma.test(a)) {\n    return a;\n  }\n  -1 != a.indexOf(\"&\") && (a = a.replace(na, \"&amp;\"));\n  -1 != a.indexOf(\"<\") && (a = a.replace(oa, \"&lt;\"));\n  -1 != a.indexOf(\">\") && (a = a.replace(pa, \"&gt;\"));\n  -1 != a.indexOf('\"') && (a = a.replace(qa, \"&quot;\"));\n  -1 != a.indexOf(\"'\") && (a = a.replace(ra, \"&#39;\"));\n  return a;\n}\nvar na = /&/g, oa = /</g, pa = />/g, qa = /\"/g, ra = /'/g, ma = /[&<>\"']/;\nfunction sa() {\n  return Math.floor(2147483648 * Math.random()).toString(36) + Math.abs(Math.floor(2147483648 * Math.random()) ^ q()).toString(36);\n}\nfunction ta(a, b) {\n  return a < b ? -1 : a > b ? 1 : 0;\n}\n;var x, ua, va, wa;\nfunction xa() {\n  return l.navigator ? l.navigator.userAgent : null;\n}\nwa = va = ua = x = !1;\nvar ya;\nif (ya = xa()) {\n  var za = l.navigator;\n  x = 0 == ya.lastIndexOf(\"Opera\", 0);\n  ua = !x && (-1 != ya.indexOf(\"MSIE\") || -1 != ya.indexOf(\"Trident\"));\n  va = !x && -1 != ya.indexOf(\"WebKit\");\n  wa = !x && !va && !ua && \"Gecko\" == za.product;\n}\nvar Aa = x, y = ua, Ba = wa, z = va;\nfunction Ca() {\n  var a = l.document;\n  return a ? a.documentMode : void 0;\n}\nvar Da;\na: {\n  var Ea = \"\", Fa;\n  if (Aa && l.opera) {\n    var Ga = l.opera.version, Ea = \"function\" == typeof Ga ? Ga() : Ga\n  } else {\n    if (Ba ? Fa = /rv\\:([^\\);]+)(\\)|;)/ : y ? Fa = /\\b(?:MSIE|rv)[: ]([^\\);]+)(\\)|;)/ : z && (Fa = /WebKit\\/(\\S+)/), Fa) {\n      var Ha = Fa.exec(xa()), Ea = Ha ? Ha[1] : \"\"\n    }\n  }\n  if (y) {\n    var Ja = Ca();\n    if (Ja > parseFloat(Ea)) {\n      Da = String(Ja);\n      break a;\n    }\n  }\n  Da = Ea;\n}\nvar Ka = {};\nfunction A(a) {\n  var b;\n  if (!(b = Ka[a])) {\n    b = 0;\n    for (var c = String(Da).replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g, \"\").split(\".\"), d = String(a).replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g, \"\").split(\".\"), e = Math.max(c.length, d.length), g = 0;0 == b && g < e;g++) {\n      var h = c[g] || \"\", k = d[g] || \"\", u = RegExp(\"(\\\\d*)(\\\\D*)\", \"g\"), K = RegExp(\"(\\\\d*)(\\\\D*)\", \"g\");\n      do {\n        var v = u.exec(h) || [\"\", \"\", \"\"], r = K.exec(k) || [\"\", \"\", \"\"];\n        if (0 == v[0].length && 0 == r[0].length) {\n          break;\n        }\n        b = ta(0 == v[1].length ? 0 : parseInt(v[1], 10), 0 == r[1].length ? 0 : parseInt(r[1], 10)) || ta(0 == v[2].length, 0 == r[2].length) || ta(v[2], r[2]);\n      } while (0 == b);\n    }\n    b = Ka[a] = 0 <= b;\n  }\n  return b;\n}\nvar La = l.document, Ma = La && y ? Ca() || (\"CSS1Compat\" == La.compatMode ? parseInt(Da, 10) : 5) : void 0;\nfunction Na(a) {\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, Na);\n  } else {\n    var b = Error().stack;\n    b && (this.stack = b);\n  }\n  a && (this.message = String(a));\n}\ns(Na, Error);\nNa.prototype.name = \"CustomError\";\nfunction Oa(a, b) {\n  b.unshift(a);\n  Na.call(this, ka.apply(null, b));\n  b.shift();\n}\ns(Oa, Na);\nOa.prototype.name = \"AssertionError\";\nfunction Pa(a, b) {\n  throw new Oa(\"Failure\" + (a ? \": \" + a : \"\"), Array.prototype.slice.call(arguments, 1));\n}\n;var Qa = RegExp(\"^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\\\?([^#]*))?(?:#(.*))?$\");\nfunction Ra(a) {\n  if (Sa) {\n    Sa = !1;\n    var b = l.location;\n    if (b) {\n      var c = b.href;\n      if (c && (c = (c = Ra(c)[3] || null) && decodeURIComponent(c)) && c != b.hostname) {\n        throw Sa = !0, Error();\n      }\n    }\n  }\n  return a.match(Qa);\n}\nvar Sa = z;\nfunction Ta(a) {\n  var b = [], c = 0, d;\n  for (d in a) {\n    b[c++] = a[d];\n  }\n  return b;\n}\nfunction Ua(a) {\n  var b = [], c = 0, d;\n  for (d in a) {\n    b[c++] = d;\n  }\n  return b;\n}\nvar Va = \"constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf\".split(\" \");\nfunction Wa(a, b) {\n  for (var c, d, e = 1;e < arguments.length;e++) {\n    d = arguments[e];\n    for (c in d) {\n      a[c] = d[c];\n    }\n    for (var g = 0;g < Va.length;g++) {\n      c = Va[g], Object.prototype.hasOwnProperty.call(d, c) && (a[c] = d[c]);\n    }\n  }\n}\n;var B = Array.prototype, Xa = B.indexOf ? function(a, b, c) {\n  return B.indexOf.call(a, b, c);\n} : function(a, b, c) {\n  c = null == c ? 0 : 0 > c ? Math.max(0, a.length + c) : c;\n  if (n(a)) {\n    return n(b) && 1 == b.length ? a.indexOf(b, c) : -1;\n  }\n  for (;c < a.length;c++) {\n    if (c in a && a[c] === b) {\n      return c;\n    }\n  }\n  return-1;\n}, Ya = B.forEach ? function(a, b, c) {\n  B.forEach.call(a, b, c);\n} : function(a, b, c) {\n  for (var d = a.length, e = n(a) ? a.split(\"\") : a, g = 0;g < d;g++) {\n    g in e && b.call(c, e[g], g, a);\n  }\n};\nfunction Za(a) {\n  var b;\n  a: {\n    b = $a;\n    for (var c = a.length, d = n(a) ? a.split(\"\") : a, e = 0;e < c;e++) {\n      if (e in d && b.call(void 0, d[e], e, a)) {\n        b = e;\n        break a;\n      }\n    }\n    b = -1;\n  }\n  return 0 > b ? null : n(a) ? a.charAt(b) : a[b];\n}\nfunction ab(a) {\n  return B.concat.apply(B, arguments);\n}\nfunction bb(a) {\n  var b = a.length;\n  if (0 < b) {\n    for (var c = Array(b), d = 0;d < b;d++) {\n      c[d] = a[d];\n    }\n    return c;\n  }\n  return[];\n}\n;function cb(a, b) {\n  this.O = {};\n  this.j = [];\n  this.o = 0;\n  var c = arguments.length;\n  if (1 < c) {\n    if (c % 2) {\n      throw Error(\"Uneven number of arguments\");\n    }\n    for (var d = 0;d < c;d += 2) {\n      this.set(arguments[d], arguments[d + 1]);\n    }\n  } else {\n    if (a) {\n      a instanceof cb ? (c = a.ba(), d = a.N()) : (c = Ua(a), d = Ta(a));\n      for (var e = 0;e < c.length;e++) {\n        this.set(c[e], d[e]);\n      }\n    }\n  }\n}\nf = cb.prototype;\nf.N = function() {\n  db(this);\n  for (var a = [], b = 0;b < this.j.length;b++) {\n    a.push(this.O[this.j[b]]);\n  }\n  return a;\n};\nf.ba = function() {\n  db(this);\n  return this.j.concat();\n};\nf.va = function(a) {\n  return C(this.O, a);\n};\nf.remove = function(a) {\n  return C(this.O, a) ? (delete this.O[a], this.o--, this.j.length > 2 * this.o && db(this), !0) : !1;\n};\nfunction db(a) {\n  if (a.o != a.j.length) {\n    for (var b = 0, c = 0;b < a.j.length;) {\n      var d = a.j[b];\n      C(a.O, d) && (a.j[c++] = d);\n      b++;\n    }\n    a.j.length = c;\n  }\n  if (a.o != a.j.length) {\n    for (var e = {}, c = b = 0;b < a.j.length;) {\n      d = a.j[b], C(e, d) || (a.j[c++] = d, e[d] = 1), b++;\n    }\n    a.j.length = c;\n  }\n}\nf.get = function(a, b) {\n  return C(this.O, a) ? this.O[a] : b;\n};\nf.set = function(a, b) {\n  C(this.O, a) || (this.o++, this.j.push(a));\n  this.O[a] = b;\n};\nf.n = function() {\n  return new cb(this);\n};\nfunction C(a, b) {\n  return Object.prototype.hasOwnProperty.call(a, b);\n}\n;function eb(a) {\n  if (\"function\" == typeof a.N) {\n    return a.N();\n  }\n  if (n(a)) {\n    return a.split(\"\");\n  }\n  if (ea(a)) {\n    for (var b = [], c = a.length, d = 0;d < c;d++) {\n      b.push(a[d]);\n    }\n    return b;\n  }\n  return Ta(a);\n}\nfunction fb(a, b, c) {\n  if (\"function\" == typeof a.forEach) {\n    a.forEach(b, c);\n  } else {\n    if (ea(a) || n(a)) {\n      Ya(a, b, c);\n    } else {\n      var d;\n      if (\"function\" == typeof a.ba) {\n        d = a.ba();\n      } else {\n        if (\"function\" != typeof a.N) {\n          if (ea(a) || n(a)) {\n            d = [];\n            for (var e = a.length, g = 0;g < e;g++) {\n              d.push(g);\n            }\n          } else {\n            d = Ua(a);\n          }\n        } else {\n          d = void 0;\n        }\n      }\n      for (var e = eb(a), g = e.length, h = 0;h < g;h++) {\n        b.call(c, e[h], d && d[h], a);\n      }\n    }\n  }\n}\n;function D(a, b) {\n  var c;\n  if (a instanceof D) {\n    this.D = void 0 !== b ? b : a.D, gb(this, a.na), c = a.eb, E(this), this.eb = c, hb(this, a.ia), ib(this, a.Ca), jb(this, a.I), kb(this, a.R.n()), c = a.Na, E(this), this.Na = c;\n  } else {\n    if (a && (c = Ra(String(a)))) {\n      this.D = !!b;\n      gb(this, c[1] || \"\", !0);\n      var d = c[2] || \"\";\n      E(this);\n      this.eb = d ? decodeURIComponent(d) : \"\";\n      hb(this, c[3] || \"\", !0);\n      ib(this, c[4]);\n      jb(this, c[5] || \"\", !0);\n      kb(this, c[6] || \"\", !0);\n      c = c[7] || \"\";\n      E(this);\n      this.Na = c ? decodeURIComponent(c) : \"\";\n    } else {\n      this.D = !!b, this.R = new lb(null, 0, this.D);\n    }\n  }\n}\nf = D.prototype;\nf.na = \"\";\nf.eb = \"\";\nf.ia = \"\";\nf.Ca = null;\nf.I = \"\";\nf.Na = \"\";\nf.oc = !1;\nf.D = !1;\nf.toString = function() {\n  var a = [], b = this.na;\n  b && a.push(mb(b, nb), \":\");\n  if (b = this.ia) {\n    a.push(\"//\");\n    var c = this.eb;\n    c && a.push(mb(c, nb), \"@\");\n    a.push(encodeURIComponent(String(b)));\n    b = this.Ca;\n    null != b && a.push(\":\", String(b));\n  }\n  if (b = this.I) {\n    this.ia && \"/\" != b.charAt(0) && a.push(\"/\"), a.push(mb(b, \"/\" == b.charAt(0) ? ob : pb));\n  }\n  (b = this.R.toString()) && a.push(\"?\", b);\n  (b = this.Na) && a.push(\"#\", mb(b, qb));\n  return a.join(\"\");\n};\nf.n = function() {\n  return new D(this);\n};\nfunction gb(a, b, c) {\n  E(a);\n  a.na = c ? b ? decodeURIComponent(b) : \"\" : b;\n  a.na && (a.na = a.na.replace(/:$/, \"\"));\n}\nfunction hb(a, b, c) {\n  E(a);\n  a.ia = c ? b ? decodeURIComponent(b) : \"\" : b;\n}\nfunction ib(a, b) {\n  E(a);\n  if (b) {\n    b = Number(b);\n    if (isNaN(b) || 0 > b) {\n      throw Error(\"Bad port number \" + b);\n    }\n    a.Ca = b;\n  } else {\n    a.Ca = null;\n  }\n}\nfunction jb(a, b, c) {\n  E(a);\n  a.I = c ? b ? decodeURIComponent(b) : \"\" : b;\n}\nfunction kb(a, b, c) {\n  E(a);\n  b instanceof lb ? (a.R = b, a.R.ub(a.D)) : (c || (b = mb(b, rb)), a.R = new lb(b, 0, a.D));\n}\nfunction F(a, b, c) {\n  E(a);\n  a.R.set(b, c);\n}\nfunction sb(a, b, c) {\n  E(a);\n  m(c) || (c = [String(c)]);\n  tb(a.R, b, c);\n}\nfunction G(a) {\n  E(a);\n  F(a, \"zx\", sa());\n  return a;\n}\nfunction E(a) {\n  if (a.oc) {\n    throw Error(\"Tried to modify a read-only Uri\");\n  }\n}\nf.ub = function(a) {\n  this.D = a;\n  this.R && this.R.ub(a);\n  return this;\n};\nfunction ub(a) {\n  return a instanceof D ? a.n() : new D(a, void 0);\n}\nfunction vb(a, b, c, d) {\n  var e = new D(null, void 0);\n  a && gb(e, a);\n  b && hb(e, b);\n  c && ib(e, c);\n  d && jb(e, d);\n  return e;\n}\nfunction mb(a, b) {\n  return n(a) ? encodeURI(a).replace(b, wb) : null;\n}\nfunction wb(a) {\n  a = a.charCodeAt(0);\n  return \"%\" + (a >> 4 & 15).toString(16) + (a & 15).toString(16);\n}\nvar nb = /[#\\/\\?@]/g, pb = /[\\#\\?:]/g, ob = /[\\#\\?]/g, rb = /[\\#\\?@]/g, qb = /#/g;\nfunction lb(a, b, c) {\n  this.C = a || null;\n  this.D = !!c;\n}\nfunction H(a) {\n  if (!a.h && (a.h = new cb, a.o = 0, a.C)) {\n    for (var b = a.C.split(\"&\"), c = 0;c < b.length;c++) {\n      var d = b[c].indexOf(\"=\"), e = null, g = null;\n      0 <= d ? (e = b[c].substring(0, d), g = b[c].substring(d + 1)) : e = b[c];\n      e = decodeURIComponent(e.replace(/\\+/g, \" \"));\n      e = I(a, e);\n      a.add(e, g ? decodeURIComponent(g.replace(/\\+/g, \" \")) : \"\");\n    }\n  }\n}\nf = lb.prototype;\nf.h = null;\nf.o = null;\nf.add = function(a, b) {\n  H(this);\n  this.C = null;\n  a = I(this, a);\n  var c = this.h.get(a);\n  c || this.h.set(a, c = []);\n  c.push(b);\n  this.o++;\n  return this;\n};\nf.remove = function(a) {\n  H(this);\n  a = I(this, a);\n  return this.h.va(a) ? (this.C = null, this.o -= this.h.get(a).length, this.h.remove(a)) : !1;\n};\nf.va = function(a) {\n  H(this);\n  a = I(this, a);\n  return this.h.va(a);\n};\nf.ba = function() {\n  H(this);\n  for (var a = this.h.N(), b = this.h.ba(), c = [], d = 0;d < b.length;d++) {\n    for (var e = a[d], g = 0;g < e.length;g++) {\n      c.push(b[d]);\n    }\n  }\n  return c;\n};\nf.N = function(a) {\n  H(this);\n  var b = [];\n  if (n(a)) {\n    this.va(a) && (b = ab(b, this.h.get(I(this, a))));\n  } else {\n    a = this.h.N();\n    for (var c = 0;c < a.length;c++) {\n      b = ab(b, a[c]);\n    }\n  }\n  return b;\n};\nf.set = function(a, b) {\n  H(this);\n  this.C = null;\n  a = I(this, a);\n  this.va(a) && (this.o -= this.h.get(a).length);\n  this.h.set(a, [b]);\n  this.o++;\n  return this;\n};\nf.get = function(a, b) {\n  var c = a ? this.N(a) : [];\n  return 0 < c.length ? String(c[0]) : b;\n};\nfunction tb(a, b, c) {\n  a.remove(b);\n  0 < c.length && (a.C = null, a.h.set(I(a, b), bb(c)), a.o += c.length);\n}\nf.toString = function() {\n  if (this.C) {\n    return this.C;\n  }\n  if (!this.h) {\n    return \"\";\n  }\n  for (var a = [], b = this.h.ba(), c = 0;c < b.length;c++) {\n    for (var d = b[c], e = encodeURIComponent(String(d)), d = this.N(d), g = 0;g < d.length;g++) {\n      var h = e;\n      \"\" !== d[g] && (h += \"=\" + encodeURIComponent(String(d[g])));\n      a.push(h);\n    }\n  }\n  return this.C = a.join(\"&\");\n};\nf.n = function() {\n  var a = new lb;\n  a.C = this.C;\n  this.h && (a.h = this.h.n(), a.o = this.o);\n  return a;\n};\nfunction I(a, b) {\n  var c = String(b);\n  a.D && (c = c.toLowerCase());\n  return c;\n}\nf.ub = function(a) {\n  a && !this.D && (H(this), this.C = null, fb(this.h, function(a, c) {\n    var d = c.toLowerCase();\n    c != d && (this.remove(c), tb(this, d, a));\n  }, this));\n  this.D = a;\n};\nfunction xb(a) {\n  a = String(a);\n  if (/^\\s*$/.test(a) ? 0 : /^[\\],:{}\\s\\u2028\\u2029]*$/.test(a.replace(/\\\\[\"\\\\\\/bfnrtu]/g, \"@\").replace(/\"[^\"\\\\\\n\\r\\u2028\\u2029\\x00-\\x08\\x0a-\\x1f]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g, \"]\").replace(/(?:^|:|,)(?:[\\s\\u2028\\u2029]*\\[)+/g, \"\"))) {\n    try {\n      return eval(\"(\" + a + \")\");\n    } catch (b) {\n    }\n  }\n  throw Error(\"Invalid JSON string: \" + a);\n}\nfunction yb(a) {\n  return eval(\"(\" + a + \")\");\n}\nfunction zb(a) {\n  var b = [];\n  Ab(new Bb, a, b);\n  return b.join(\"\");\n}\nfunction Bb() {\n  this.Ya = void 0;\n}\nfunction Ab(a, b, c) {\n  switch(typeof b) {\n    case \"string\":\n      Cb(b, c);\n      break;\n    case \"number\":\n      c.push(isFinite(b) && !isNaN(b) ? b : \"null\");\n      break;\n    case \"boolean\":\n      c.push(b);\n      break;\n    case \"undefined\":\n      c.push(\"null\");\n      break;\n    case \"object\":\n      if (null == b) {\n        c.push(\"null\");\n        break;\n      }\n      if (m(b)) {\n        var d = b.length;\n        c.push(\"[\");\n        for (var e = \"\", g = 0;g < d;g++) {\n          c.push(e), e = b[g], Ab(a, a.Ya ? a.Ya.call(b, String(g), e) : e, c), e = \",\";\n        }\n        c.push(\"]\");\n        break;\n      }\n      c.push(\"{\");\n      d = \"\";\n      for (g in b) {\n        Object.prototype.hasOwnProperty.call(b, g) && (e = b[g], \"function\" != typeof e && (c.push(d), Cb(g, c), c.push(\":\"), Ab(a, a.Ya ? a.Ya.call(b, g, e) : e, c), d = \",\"));\n      }\n      c.push(\"}\");\n      break;\n    case \"function\":\n      break;\n    default:\n      throw Error(\"Unknown type: \" + typeof b);;\n  }\n}\nvar Db = {'\"':'\\\\\"', \"\\\\\":\"\\\\\\\\\", \"/\":\"\\\\/\", \"\\b\":\"\\\\b\", \"\\f\":\"\\\\f\", \"\\n\":\"\\\\n\", \"\\r\":\"\\\\r\", \"\\t\":\"\\\\t\", \"\\x0B\":\"\\\\u000b\"}, Eb = /\\uffff/.test(\"\\uffff\") ? /[\\\\\\\"\\x00-\\x1f\\x7f-\\uffff]/g : /[\\\\\\\"\\x00-\\x1f\\x7f-\\xff]/g;\nfunction Cb(a, b) {\n  b.push('\"', a.replace(Eb, function(a) {\n    if (a in Db) {\n      return Db[a];\n    }\n    var b = a.charCodeAt(0), e = \"\\\\u\";\n    16 > b ? e += \"000\" : 256 > b ? e += \"00\" : 4096 > b && (e += \"0\");\n    return Db[a] = e + b.toString(16);\n  }), '\"');\n}\n;function Fb(a) {\n  return Gb(a || arguments.callee.caller, []);\n}\nfunction Gb(a, b) {\n  var c = [];\n  if (0 <= Xa(b, a)) {\n    c.push(\"[...circular reference...]\");\n  } else {\n    if (a && 50 > b.length) {\n      c.push(Hb(a) + \"(\");\n      for (var d = a.arguments, e = 0;d && e < d.length;e++) {\n        0 < e && c.push(\", \");\n        var g;\n        g = d[e];\n        switch(typeof g) {\n          case \"object\":\n            g = g ? \"object\" : \"null\";\n            break;\n          case \"string\":\n            break;\n          case \"number\":\n            g = String(g);\n            break;\n          case \"boolean\":\n            g = g ? \"true\" : \"false\";\n            break;\n          case \"function\":\n            g = (g = Hb(g)) ? g : \"[fn]\";\n            break;\n          default:\n            g = typeof g;\n        }\n        40 < g.length && (g = g.substr(0, 40) + \"...\");\n        c.push(g);\n      }\n      b.push(a);\n      c.push(\")\\n\");\n      try {\n        c.push(Gb(a.caller, b));\n      } catch (h) {\n        c.push(\"[exception trying to get caller]\\n\");\n      }\n    } else {\n      a ? c.push(\"[...long stack...]\") : c.push(\"[end]\");\n    }\n  }\n  return c.join(\"\");\n}\nfunction Hb(a) {\n  if (Ib[a]) {\n    return Ib[a];\n  }\n  a = String(a);\n  if (!Ib[a]) {\n    var b = /function ([^\\(]+)/.exec(a);\n    Ib[a] = b ? b[1] : \"[Anonymous]\";\n  }\n  return Ib[a];\n}\nvar Ib = {};\nfunction Jb(a, b, c, d, e) {\n  this.reset(a, b, c, d, e);\n}\nJb.prototype.Fb = null;\nJb.prototype.Eb = null;\nvar Kb = 0;\nJb.prototype.reset = function(a, b, c, d, e) {\n  \"number\" == typeof e || Kb++;\n  d || q();\n  this.za = a;\n  this.qc = b;\n  delete this.Fb;\n  delete this.Eb;\n};\nJb.prototype.$b = function(a) {\n  this.za = a;\n};\nfunction Lb(a) {\n  this.rc = a;\n  this.Jb = this.jb = this.za = this.Sa = null;\n}\nfunction Mb(a, b) {\n  this.name = a;\n  this.value = b;\n}\nMb.prototype.toString = function() {\n  return this.name;\n};\nvar Nb = new Mb(\"SEVERE\", 1E3), Ob = new Mb(\"WARNING\", 900), Pb = new Mb(\"INFO\", 800), Qb = new Mb(\"CONFIG\", 700), Rb = new Mb(\"FINE\", 500);\nf = Lb.prototype;\nf.getParent = function() {\n  return this.Sa;\n};\nf.$b = function(a) {\n  this.za = a;\n};\nfunction Sb(a) {\n  if (a.za) {\n    return a.za;\n  }\n  if (a.Sa) {\n    return Sb(a.Sa);\n  }\n  Pa(\"Root logger has no level set.\");\n  return null;\n}\nf.log = function(a, b, c) {\n  if (a.value >= Sb(this).value) {\n    for (fa(b) && (b = b()), a = this.nc(a, b, c), b = \"log:\" + a.qc, l.console && (l.console.timeStamp ? l.console.timeStamp(b) : l.console.markTimeline && l.console.markTimeline(b)), l.msWriteProfilerMark && l.msWriteProfilerMark(b), b = this;b;) {\n      c = b;\n      var d = a;\n      if (c.Jb) {\n        for (var e = 0, g = void 0;g = c.Jb[e];e++) {\n          g(d);\n        }\n      }\n      b = b.getParent();\n    }\n  }\n};\nf.nc = function(a, b, c) {\n  var d = new Jb(a, String(b), this.rc);\n  if (c) {\n    d.Fb = c;\n    var e;\n    var g = arguments.callee.caller;\n    try {\n      var h;\n      var k = ba(\"window.location.href\");\n      if (n(c)) {\n        h = {message:c, name:\"Unknown error\", lineNumber:\"Not available\", fileName:k, stack:\"Not available\"};\n      } else {\n        var u, K, v = !1;\n        try {\n          u = c.lineNumber || c.Gc || \"Not available\";\n        } catch (r) {\n          u = \"Not available\", v = !0;\n        }\n        try {\n          K = c.fileName || c.filename || c.sourceURL || l.$googDebugFname || k;\n        } catch (Ia) {\n          K = \"Not available\", v = !0;\n        }\n        h = !v && c.lineNumber && c.fileName && c.stack && c.message && c.name ? c : {message:c.message || \"Not available\", name:c.name || \"UnknownError\", lineNumber:u, fileName:K, stack:c.stack || \"Not available\"};\n      }\n      e = \"Message: \" + la(h.message) + '\\nUrl: <a href=\"view-source:' + h.fileName + '\" target=\"_new\">' + h.fileName + \"</a>\\nLine: \" + h.lineNumber + \"\\n\\nBrowser stack:\\n\" + la(h.stack + \"-> \") + \"[end]\\n\\nJS stack traversal:\\n\" + la(Fb(g) + \"-> \");\n    } catch (w) {\n      e = \"Exception trying to expose exception! You win, we lose. \" + w;\n    }\n    d.Eb = e;\n  }\n  return d;\n};\nf.J = function(a, b) {\n  this.log(Nb, a, b);\n};\nf.fa = function(a, b) {\n  this.log(Ob, a, b);\n};\nf.info = function(a, b) {\n  this.log(Pb, a, b);\n};\nvar Tb = {}, Ub = null;\nfunction Vb(a) {\n  Ub || (Ub = new Lb(\"\"), Tb[\"\"] = Ub, Ub.$b(Qb));\n  var b;\n  if (!(b = Tb[a])) {\n    b = new Lb(a);\n    var c = a.lastIndexOf(\".\"), d = a.substr(c + 1), c = Vb(a.substr(0, c));\n    c.jb || (c.jb = {});\n    c.jb[d] = b;\n    b.Sa = c;\n    Tb[a] = b;\n  }\n  return b;\n}\n;function J(a, b) {\n  a && a.log(Rb, b, void 0);\n}\n;function L() {\n  this.r = Vb(\"goog.net.BrowserChannel\");\n}\nfunction Wb(a, b, c, d) {\n  a.info(\"XMLHTTP TEXT (\" + b + \"): \" + Xb(a, c) + (d ? \" \" + d : \"\"));\n}\nL.prototype.debug = function(a) {\n  this.info(a);\n};\nfunction M(a, b, c) {\n  a.J((c || \"Exception\") + b);\n}\nL.prototype.info = function(a) {\n  var b = this.r;\n  b && b.info(a, void 0);\n};\nL.prototype.fa = function(a) {\n  var b = this.r;\n  b && b.fa(a, void 0);\n};\nL.prototype.J = function(a) {\n  var b = this.r;\n  b && b.J(a, void 0);\n};\nfunction Xb(a, b) {\n  if (!b || b == Yb) {\n    return b;\n  }\n  try {\n    var c = yb(b);\n    if (c) {\n      for (var d = 0;d < c.length;d++) {\n        if (m(c[d])) {\n          var e = c[d];\n          if (!(2 > e.length)) {\n            var g = e[1];\n            if (m(g) && !(1 > g.length)) {\n              var h = g[0];\n              if (\"noop\" != h && \"stop\" != h) {\n                for (var k = 1;k < g.length;k++) {\n                  g[k] = \"\";\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n    return zb(c);\n  } catch (u) {\n    return a.debug(\"Exception parsing expected JS array - probably was not JS\"), b;\n  }\n}\n;function Zb(a, b) {\n  this.P = b ? yb : xb;\n}\nZb.prototype.parse = function(a) {\n  return this.P(a);\n};\nfunction N() {\n  0 != $b && (ac[this[ga] || (this[ga] = ++ha)] = this);\n}\nvar $b = 0, ac = {};\nN.prototype.mb = !1;\nN.prototype.Ja = function() {\n  if (!this.mb && (this.mb = !0, this.u(), 0 != $b)) {\n    var a = this[ga] || (this[ga] = ++ha);\n    delete ac[a];\n  }\n};\nN.prototype.u = function() {\n  if (this.Pb) {\n    for (;this.Pb.length;) {\n      this.Pb.shift()();\n    }\n  }\n};\nvar bc = \"closure_listenable_\" + (1E6 * Math.random() | 0);\nfunction cc(a) {\n  try {\n    return!(!a || !a[bc]);\n  } catch (b) {\n    return!1;\n  }\n}\nvar dc = 0;\nfunction ec(a, b, c, d, e) {\n  this.ea = a;\n  this.Ua = null;\n  this.src = b;\n  this.type = c;\n  this.capture = !!d;\n  this.Oa = e;\n  this.key = ++dc;\n  this.ma = this.Ia = !1;\n}\nfunction fc(a) {\n  a.ma = !0;\n  a.ea = null;\n  a.Ua = null;\n  a.src = null;\n  a.Oa = null;\n}\n;function O(a) {\n  this.src = a;\n  this.s = {};\n  this.Ga = 0;\n}\nO.prototype.add = function(a, b, c, d, e) {\n  var g = this.s[a];\n  g || (g = this.s[a] = [], this.Ga++);\n  var h = gc(g, b, d, e);\n  -1 < h ? (a = g[h], c || (a.Ia = !1)) : (a = new ec(b, this.src, a, !!d, e), a.Ia = c, g.push(a));\n  return a;\n};\nO.prototype.remove = function(a, b, c, d) {\n  if (!(a in this.s)) {\n    return!1;\n  }\n  var e = this.s[a];\n  b = gc(e, b, c, d);\n  return-1 < b ? (fc(e[b]), B.splice.call(e, b, 1), 0 == e.length && (delete this.s[a], this.Ga--), !0) : !1;\n};\nfunction hc(a, b) {\n  var c = b.type;\n  if (!(c in a.s)) {\n    return!1;\n  }\n  var d = a.s[c], e = Xa(d, b), g;\n  (g = 0 <= e) && B.splice.call(d, e, 1);\n  g && (fc(b), 0 == a.s[c].length && (delete a.s[c], a.Ga--));\n  return g;\n}\nO.prototype.Xa = function(a) {\n  var b = 0, c;\n  for (c in this.s) {\n    if (!a || c == a) {\n      for (var d = this.s[c], e = 0;e < d.length;e++) {\n        ++b, fc(d[e]);\n      }\n      delete this.s[c];\n      this.Ga--;\n    }\n  }\n  return b;\n};\nO.prototype.xa = function(a, b, c, d) {\n  a = this.s[a];\n  var e = -1;\n  a && (e = gc(a, b, c, d));\n  return-1 < e ? a[e] : null;\n};\nfunction gc(a, b, c, d) {\n  for (var e = 0;e < a.length;++e) {\n    var g = a[e];\n    if (!g.ma && g.ea == b && g.capture == !!c && g.Oa == d) {\n      return e;\n    }\n  }\n  return-1;\n}\n;var ic = !y || y && 9 <= Ma, jc = y && !A(\"9\");\n!z || A(\"528\");\nBa && A(\"1.9b\") || y && A(\"8\") || Aa && A(\"9.5\") || z && A(\"528\");\nBa && !A(\"8\") || y && A(\"9\");\nfunction P(a, b) {\n  this.type = a;\n  this.currentTarget = this.target = b;\n  this.defaultPrevented = this.ka = !1;\n  this.Yb = !0;\n}\nP.prototype.u = function() {\n};\nP.prototype.Ja = function() {\n};\nP.prototype.preventDefault = function() {\n  this.defaultPrevented = !0;\n  this.Yb = !1;\n};\nfunction kc(a) {\n  kc[\" \"](a);\n  return a;\n}\nkc[\" \"] = ca;\nfunction Q(a, b) {\n  Q.ic(this, \"constructor\", a ? a.type : \"\");\n  this.relatedTarget = this.currentTarget = this.target = null;\n  this.charCode = this.keyCode = this.button = this.screenY = this.screenX = this.clientY = this.clientX = this.offsetY = this.offsetX = 0;\n  this.metaKey = this.shiftKey = this.altKey = this.ctrlKey = !1;\n  this.Db = this.state = null;\n  if (a) {\n    var c = this.type = a.type;\n    this.target = a.target || a.srcElement;\n    this.currentTarget = b;\n    var d = a.relatedTarget;\n    if (d) {\n      if (Ba) {\n        var e;\n        a: {\n          try {\n            kc(d.nodeName);\n            e = !0;\n            break a;\n          } catch (g) {\n          }\n          e = !1;\n        }\n        e || (d = null);\n      }\n    } else {\n      \"mouseover\" == c ? d = a.fromElement : \"mouseout\" == c && (d = a.toElement);\n    }\n    this.relatedTarget = d;\n    this.offsetX = z || void 0 !== a.offsetX ? a.offsetX : a.layerX;\n    this.offsetY = z || void 0 !== a.offsetY ? a.offsetY : a.layerY;\n    this.clientX = void 0 !== a.clientX ? a.clientX : a.pageX;\n    this.clientY = void 0 !== a.clientY ? a.clientY : a.pageY;\n    this.screenX = a.screenX || 0;\n    this.screenY = a.screenY || 0;\n    this.button = a.button;\n    this.keyCode = a.keyCode || 0;\n    this.charCode = a.charCode || (\"keypress\" == c ? a.keyCode : 0);\n    this.ctrlKey = a.ctrlKey;\n    this.altKey = a.altKey;\n    this.shiftKey = a.shiftKey;\n    this.metaKey = a.metaKey;\n    this.state = a.state;\n    this.Db = a;\n    a.defaultPrevented && this.preventDefault();\n  }\n}\ns(Q, P);\nQ.prototype.preventDefault = function() {\n  Q.oa.preventDefault.call(this);\n  var a = this.Db;\n  if (a.preventDefault) {\n    a.preventDefault();\n  } else {\n    if (a.returnValue = !1, jc) {\n      try {\n        if (a.ctrlKey || 112 <= a.keyCode && 123 >= a.keyCode) {\n          a.keyCode = -1;\n        }\n      } catch (b) {\n      }\n    }\n  }\n};\nQ.prototype.u = function() {\n};\nvar lc = \"closure_lm_\" + (1E6 * Math.random() | 0), mc = {}, nc = 0;\nfunction oc(a, b, c, d, e) {\n  if (m(b)) {\n    for (var g = 0;g < b.length;g++) {\n      oc(a, b[g], c, d, e);\n    }\n    return null;\n  }\n  c = pc(c);\n  if (cc(a)) {\n    a = a.Ra(b, c, d, e);\n  } else {\n    if (!b) {\n      throw Error(\"Invalid event type\");\n    }\n    var g = !!d, h = qc(a);\n    h || (a[lc] = h = new O(a));\n    c = h.add(b, c, !1, d, e);\n    c.Ua || (d = rc(), c.Ua = d, d.src = a, d.ea = c, a.addEventListener ? a.addEventListener(b, d, g) : a.attachEvent(b in mc ? mc[b] : mc[b] = \"on\" + b, d), nc++);\n    a = c;\n  }\n  return a;\n}\nfunction rc() {\n  var a = sc, b = ic ? function(c) {\n    return a.call(b.src, b.ea, c);\n  } : function(c) {\n    c = a.call(b.src, b.ea, c);\n    if (!c) {\n      return c;\n    }\n  };\n  return b;\n}\nfunction tc(a, b, c, d, e) {\n  if (m(b)) {\n    for (var g = 0;g < b.length;g++) {\n      tc(a, b[g], c, d, e);\n    }\n  } else {\n    c = pc(c), cc(a) ? a.vb(b, c, d, e) : a && (a = qc(a)) && (b = a.xa(b, c, !!d, e)) && uc(b);\n  }\n}\nfunction uc(a) {\n  if (\"number\" == typeof a || !a || a.ma) {\n    return!1;\n  }\n  var b = a.src;\n  if (cc(b)) {\n    return hc(b.W, a);\n  }\n  var c = a.type, d = a.Ua;\n  b.removeEventListener ? b.removeEventListener(c, d, a.capture) : b.detachEvent && b.detachEvent(c in mc ? mc[c] : mc[c] = \"on\" + c, d);\n  nc--;\n  (c = qc(b)) ? (hc(c, a), 0 == c.Ga && (c.src = null, b[lc] = null)) : fc(a);\n  return!0;\n}\nfunction vc(a, b, c, d) {\n  var e = 1;\n  if (a = qc(a)) {\n    if (b = a.s[b]) {\n      for (b = bb(b), a = 0;a < b.length;a++) {\n        var g = b[a];\n        g && g.capture == c && !g.ma && (e &= !1 !== wc(g, d));\n      }\n    }\n  }\n  return Boolean(e);\n}\nfunction wc(a, b) {\n  var c = a.ea, d = a.Oa || a.src;\n  a.Ia && uc(a);\n  return c.call(d, b);\n}\nfunction sc(a, b) {\n  if (a.ma) {\n    return!0;\n  }\n  if (!ic) {\n    var c = b || ba(\"window.event\"), d = new Q(c, this), e = !0;\n    if (!(0 > c.keyCode || void 0 != c.returnValue)) {\n      a: {\n        var g = !1;\n        if (0 == c.keyCode) {\n          try {\n            c.keyCode = -1;\n            break a;\n          } catch (h) {\n            g = !0;\n          }\n        }\n        if (g || void 0 == c.returnValue) {\n          c.returnValue = !0;\n        }\n      }\n      c = [];\n      for (g = d.currentTarget;g;g = g.parentNode) {\n        c.push(g);\n      }\n      for (var g = a.type, k = c.length - 1;!d.ka && 0 <= k;k--) {\n        d.currentTarget = c[k], e &= vc(c[k], g, !0, d);\n      }\n      for (k = 0;!d.ka && k < c.length;k++) {\n        d.currentTarget = c[k], e &= vc(c[k], g, !1, d);\n      }\n    }\n    return e;\n  }\n  return wc(a, new Q(b, this));\n}\nfunction qc(a) {\n  a = a[lc];\n  return a instanceof O ? a : null;\n}\nvar xc = \"__closure_events_fn_\" + (1E9 * Math.random() >>> 0);\nfunction pc(a) {\n  return fa(a) ? a : a[xc] || (a[xc] = function(b) {\n    return a.handleEvent(b);\n  });\n}\n;function R() {\n  N.call(this);\n  this.W = new O(this);\n  this.fc = this;\n}\ns(R, N);\nR.prototype[bc] = !0;\nf = R.prototype;\nf.tb = null;\nf.addEventListener = function(a, b, c, d) {\n  oc(this, a, b, c, d);\n};\nf.removeEventListener = function(a, b, c, d) {\n  tc(this, a, b, c, d);\n};\nf.dispatchEvent = function(a) {\n  var b, c = this.tb;\n  if (c) {\n    for (b = [];c;c = c.tb) {\n      b.push(c);\n    }\n  }\n  var c = this.fc, d = a.type || a;\n  if (n(a)) {\n    a = new P(a, c);\n  } else {\n    if (a instanceof P) {\n      a.target = a.target || c;\n    } else {\n      var e = a;\n      a = new P(d, c);\n      Wa(a, e);\n    }\n  }\n  var e = !0, g;\n  if (b) {\n    for (var h = b.length - 1;!a.ka && 0 <= h;h--) {\n      g = a.currentTarget = b[h], e = yc(g, d, !0, a) && e;\n    }\n  }\n  a.ka || (g = a.currentTarget = c, e = yc(g, d, !0, a) && e, a.ka || (e = yc(g, d, !1, a) && e));\n  if (b) {\n    for (h = 0;!a.ka && h < b.length;h++) {\n      g = a.currentTarget = b[h], e = yc(g, d, !1, a) && e;\n    }\n  }\n  return e;\n};\nf.u = function() {\n  R.oa.u.call(this);\n  this.W && this.W.Xa(void 0);\n  this.tb = null;\n};\nf.Ra = function(a, b, c, d) {\n  return this.W.add(String(a), b, !1, c, d);\n};\nf.vb = function(a, b, c, d) {\n  return this.W.remove(String(a), b, c, d);\n};\nfunction yc(a, b, c, d) {\n  b = a.W.s[String(b)];\n  if (!b) {\n    return!0;\n  }\n  b = bb(b);\n  for (var e = !0, g = 0;g < b.length;++g) {\n    var h = b[g];\n    if (h && !h.ma && h.capture == c) {\n      var k = h.ea, u = h.Oa || h.src;\n      h.Ia && hc(a.W, h);\n      e = !1 !== k.call(u, d) && e;\n    }\n  }\n  return e && !1 != d.Yb;\n}\nf.xa = function(a, b, c, d) {\n  return this.W.xa(String(a), b, c, d);\n};\nfunction zc(a, b) {\n  R.call(this);\n  this.da = a || 1;\n  this.qa = b || l;\n  this.ib = p(this.Fc, this);\n  this.sb = q();\n}\ns(zc, R);\nf = zc.prototype;\nf.enabled = !1;\nf.l = null;\nf.setInterval = function(a) {\n  this.da = a;\n  this.l && this.enabled ? (this.stop(), this.start()) : this.l && this.stop();\n};\nf.Fc = function() {\n  if (this.enabled) {\n    var a = q() - this.sb;\n    0 < a && a < 0.8 * this.da ? this.l = this.qa.setTimeout(this.ib, this.da - a) : (this.l && (this.qa.clearTimeout(this.l), this.l = null), this.dispatchEvent(Ac), this.enabled && (this.l = this.qa.setTimeout(this.ib, this.da), this.sb = q()));\n  }\n};\nf.start = function() {\n  this.enabled = !0;\n  this.l || (this.l = this.qa.setTimeout(this.ib, this.da), this.sb = q());\n};\nf.stop = function() {\n  this.enabled = !1;\n  this.l && (this.qa.clearTimeout(this.l), this.l = null);\n};\nf.u = function() {\n  zc.oa.u.call(this);\n  this.stop();\n  delete this.qa;\n};\nvar Ac = \"tick\";\nfunction Bc(a, b, c) {\n  if (fa(a)) {\n    c && (a = p(a, c));\n  } else {\n    if (a && \"function\" == typeof a.handleEvent) {\n      a = p(a.handleEvent, a);\n    } else {\n      throw Error(\"Invalid listener argument\");\n    }\n  }\n  return 2147483647 < b ? -1 : l.setTimeout(a, b || 0);\n}\n;function Cc() {\n}\nCc.prototype.Ab = null;\nfunction Dc(a) {\n  var b;\n  (b = a.Ab) || (b = {}, Ec(a) && (b[0] = !0, b[1] = !0), b = a.Ab = b);\n  return b;\n}\n;var Fc;\nfunction Gc() {\n}\ns(Gc, Cc);\nfunction Hc(a) {\n  return(a = Ec(a)) ? new ActiveXObject(a) : new XMLHttpRequest;\n}\nfunction Ec(a) {\n  if (!a.Kb && \"undefined\" == typeof XMLHttpRequest && \"undefined\" != typeof ActiveXObject) {\n    for (var b = [\"MSXML2.XMLHTTP.6.0\", \"MSXML2.XMLHTTP.3.0\", \"MSXML2.XMLHTTP\", \"Microsoft.XMLHTTP\"], c = 0;c < b.length;c++) {\n      var d = b[c];\n      try {\n        return new ActiveXObject(d), a.Kb = d;\n      } catch (e) {\n      }\n    }\n    throw Error(\"Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed\");\n  }\n  return a.Kb;\n}\nFc = new Gc;\nfunction Ic(a) {\n  R.call(this);\n  this.headers = new cb;\n  this.gb = a || null;\n  this.T = !1;\n  this.fb = this.f = null;\n  this.Mb = this.Qa = \"\";\n  this.ja = 0;\n  this.q = \"\";\n  this.ca = this.qb = this.Pa = this.nb = !1;\n  this.Fa = 0;\n  this.bb = null;\n  this.Xb = Jc;\n  this.cb = this.dc = !1;\n}\ns(Ic, R);\nvar Jc = \"\";\nIc.prototype.r = Vb(\"goog.net.XhrIo\");\nvar Kc = /^https?$/i, Lc = [\"POST\", \"PUT\"];\nf = Ic.prototype;\nf.send = function(a, b, c, d) {\n  if (this.f) {\n    throw Error(\"[goog.net.XhrIo] Object is active with another request=\" + this.Qa + \"; newUri=\" + a);\n  }\n  b = b ? b.toUpperCase() : \"GET\";\n  this.Qa = a;\n  this.q = \"\";\n  this.ja = 0;\n  this.Mb = b;\n  this.nb = !1;\n  this.T = !0;\n  this.f = this.gb ? Hc(this.gb) : Hc(Fc);\n  this.fb = this.gb ? Dc(this.gb) : Dc(Fc);\n  this.f.onreadystatechange = p(this.Qb, this);\n  try {\n    J(this.r, S(this, \"Opening Xhr\")), this.qb = !0, this.f.open(b, String(a), !0), this.qb = !1;\n  } catch (e) {\n    J(this.r, S(this, \"Error opening Xhr: \" + e.message));\n    Mc(this, e);\n    return;\n  }\n  a = c || \"\";\n  var g = this.headers.n();\n  d && fb(d, function(a, b) {\n    g.set(b, a);\n  });\n  d = Za(g.ba());\n  c = l.FormData && a instanceof l.FormData;\n  !(0 <= Xa(Lc, b)) || d || c || g.set(\"Content-Type\", \"application/x-www-form-urlencoded;charset=utf-8\");\n  fb(g, function(a, b) {\n    this.f.setRequestHeader(b, a);\n  }, this);\n  this.Xb && (this.f.responseType = this.Xb);\n  \"withCredentials\" in this.f && (this.f.withCredentials = this.dc);\n  try {\n    Nc(this), 0 < this.Fa && (this.cb = Oc(this.f), J(this.r, S(this, \"Will abort after \" + this.Fa + \"ms if incomplete, xhr2 \" + this.cb)), this.cb ? (this.f.timeout = this.Fa, this.f.ontimeout = p(this.pa, this)) : this.bb = Bc(this.pa, this.Fa, this)), J(this.r, S(this, \"Sending request\")), this.Pa = !0, this.f.send(a), this.Pa = !1;\n  } catch (h) {\n    J(this.r, S(this, \"Send error: \" + h.message)), Mc(this, h);\n  }\n};\nfunction Oc(a) {\n  return y && A(9) && \"number\" == typeof a.timeout && void 0 !== a.ontimeout;\n}\nfunction $a(a) {\n  return \"content-type\" == a.toLowerCase();\n}\nf.pa = function() {\n  \"undefined\" != typeof aa && this.f && (this.q = \"Timed out after \" + this.Fa + \"ms, aborting\", this.ja = 8, J(this.r, S(this, this.q)), this.dispatchEvent(\"timeout\"), this.abort(8));\n};\nfunction Mc(a, b) {\n  a.T = !1;\n  a.f && (a.ca = !0, a.f.abort(), a.ca = !1);\n  a.q = b;\n  a.ja = 5;\n  Pc(a);\n  Qc(a);\n}\nfunction Pc(a) {\n  a.nb || (a.nb = !0, a.dispatchEvent(\"complete\"), a.dispatchEvent(\"error\"));\n}\nf.abort = function(a) {\n  this.f && this.T && (J(this.r, S(this, \"Aborting\")), this.T = !1, this.ca = !0, this.f.abort(), this.ca = !1, this.ja = a || 7, this.dispatchEvent(\"complete\"), this.dispatchEvent(\"abort\"), Qc(this));\n};\nf.u = function() {\n  this.f && (this.T && (this.T = !1, this.ca = !0, this.f.abort(), this.ca = !1), Qc(this, !0));\n  Ic.oa.u.call(this);\n};\nf.Qb = function() {\n  this.mb || (this.qb || this.Pa || this.ca ? Rc(this) : this.uc());\n};\nf.uc = function() {\n  Rc(this);\n};\nfunction Rc(a) {\n  if (a.T && \"undefined\" != typeof aa) {\n    if (a.fb[1] && 4 == T(a) && 2 == Sc(a)) {\n      J(a.r, S(a, \"Local request error detected and ignored\"));\n    } else {\n      if (a.Pa && 4 == T(a)) {\n        Bc(a.Qb, 0, a);\n      } else {\n        if (a.dispatchEvent(\"readystatechange\"), 4 == T(a)) {\n          J(a.r, S(a, \"Request complete\"));\n          a.T = !1;\n          try {\n            var b = Sc(a), c, d;\n            a: {\n              switch(b) {\n                case 200:\n                ;\n                case 201:\n                ;\n                case 202:\n                ;\n                case 204:\n                ;\n                case 206:\n                ;\n                case 304:\n                ;\n                case 1223:\n                  d = !0;\n                  break a;\n                default:\n                  d = !1;\n              }\n            }\n            if (!(c = d)) {\n              var e;\n              if (e = 0 === b) {\n                var g = Ra(String(a.Qa))[1] || null;\n                if (!g && self.location) {\n                  var h = self.location.protocol, g = h.substr(0, h.length - 1)\n                }\n                e = !Kc.test(g ? g.toLowerCase() : \"\");\n              }\n              c = e;\n            }\n            if (c) {\n              a.dispatchEvent(\"complete\"), a.dispatchEvent(\"success\");\n            } else {\n              a.ja = 6;\n              var k;\n              try {\n                k = 2 < T(a) ? a.f.statusText : \"\";\n              } catch (u) {\n                J(a.r, \"Can not get status: \" + u.message), k = \"\";\n              }\n              a.q = k + \" [\" + Sc(a) + \"]\";\n              Pc(a);\n            }\n          } finally {\n            Qc(a);\n          }\n        }\n      }\n    }\n  }\n}\nfunction Qc(a, b) {\n  if (a.f) {\n    Nc(a);\n    var c = a.f, d = a.fb[0] ? ca : null;\n    a.f = null;\n    a.fb = null;\n    b || a.dispatchEvent(\"ready\");\n    try {\n      c.onreadystatechange = d;\n    } catch (e) {\n      (c = a.r) && c.J(\"Problem encountered resetting onreadystatechange: \" + e.message, void 0);\n    }\n  }\n}\nfunction Nc(a) {\n  a.f && a.cb && (a.f.ontimeout = null);\n  \"number\" == typeof a.bb && (l.clearTimeout(a.bb), a.bb = null);\n}\nf.isActive = function() {\n  return!!this.f;\n};\nfunction T(a) {\n  return a.f ? a.f.readyState : 0;\n}\nfunction Sc(a) {\n  try {\n    return 2 < T(a) ? a.f.status : -1;\n  } catch (b) {\n    return-1;\n  }\n}\nfunction Tc(a) {\n  try {\n    return a.f ? a.f.responseText : \"\";\n  } catch (b) {\n    return J(a.r, \"Can not get responseText: \" + b.message), \"\";\n  }\n}\nf.Ib = function() {\n  return n(this.q) ? this.q : String(this.q);\n};\nfunction S(a, b) {\n  return b + \" [\" + a.Mb + \" \" + a.Qa + \" \" + Sc(a) + \"]\";\n}\n;function Uc() {\n  this.Wb = q();\n}\nnew Uc;\nUc.prototype.set = function(a) {\n  this.Wb = a;\n};\nUc.prototype.reset = function() {\n  this.set(q());\n};\nUc.prototype.get = function() {\n  return this.Wb;\n};\nfunction Vc(a) {\n  N.call(this);\n  this.e = a;\n  this.j = {};\n}\ns(Vc, N);\nvar Wc = [];\nf = Vc.prototype;\nf.Ra = function(a, b, c, d) {\n  m(b) || (Wc[0] = b, b = Wc);\n  for (var e = 0;e < b.length;e++) {\n    var g = oc(a, b[e], c || this.handleEvent, d || !1, this.e || this);\n    if (!g) {\n      break;\n    }\n    this.j[g.key] = g;\n  }\n  return this;\n};\nf.vb = function(a, b, c, d, e) {\n  if (m(b)) {\n    for (var g = 0;g < b.length;g++) {\n      this.vb(a, b[g], c, d, e);\n    }\n  } else {\n    c = c || this.handleEvent, e = e || this.e || this, c = pc(c), d = !!d, b = cc(a) ? a.xa(b, c, d, e) : a ? (a = qc(a)) ? a.xa(b, c, d, e) : null : null, b && (uc(b), delete this.j[b.key]);\n  }\n  return this;\n};\nf.Xa = function() {\n  var a = this.j, b = uc, c;\n  for (c in a) {\n    b.call(void 0, a[c], c, a);\n  }\n  this.j = {};\n};\nf.u = function() {\n  Vc.oa.u.call(this);\n  this.Xa();\n};\nf.handleEvent = function() {\n  throw Error(\"EventHandler.handleEvent not implemented\");\n};\nfunction Xc(a, b, c) {\n  N.call(this);\n  this.pc = a;\n  this.da = b;\n  this.e = c;\n  this.kc = p(this.vc, this);\n}\ns(Xc, N);\nf = Xc.prototype;\nf.Za = !1;\nf.Vb = 0;\nf.l = null;\nf.stop = function() {\n  this.l && (l.clearTimeout(this.l), this.l = null, this.Za = !1);\n};\nf.u = function() {\n  Xc.oa.u.call(this);\n  this.stop();\n};\nf.vc = function() {\n  this.l = null;\n  this.Za && !this.Vb && (this.Za = !1, Yc(this));\n};\nfunction Yc(a) {\n  a.l = Bc(a.kc, a.da);\n  a.pc.call(a.e);\n}\n;function U(a, b, c, d, e) {\n  this.b = a;\n  this.a = b;\n  this.Y = c;\n  this.B = d;\n  this.Ea = e || 1;\n  this.pa = Zc;\n  this.ob = new Vc(this);\n  this.Ta = new zc;\n  this.Ta.setInterval($c);\n}\nf = U.prototype;\nf.v = null;\nf.F = !1;\nf.ta = null;\nf.xb = null;\nf.Da = null;\nf.ra = null;\nf.U = null;\nf.w = null;\nf.X = null;\nf.k = null;\nf.Ha = 0;\nf.K = null;\nf.sa = null;\nf.q = null;\nf.g = -1;\nf.Zb = !0;\nf.Z = !1;\nf.la = 0;\nf.Va = null;\nvar Zc = 45E3, $c = 250;\nfunction ad(a, b) {\n  switch(a) {\n    case 0:\n      return \"Non-200 return code (\" + b + \")\";\n    case 1:\n      return \"XMLHTTP failure (no data)\";\n    case 2:\n      return \"HttpConnection timeout\";\n    default:\n      return \"Unknown error\";\n  }\n}\nvar bd = {}, cd = {};\nfunction dd() {\n  return!y || y && 10 <= Ma;\n}\nf = U.prototype;\nf.S = function(a) {\n  this.v = a;\n};\nf.setTimeout = function(a) {\n  this.pa = a;\n};\nf.bc = function(a) {\n  this.la = a;\n};\nfunction ed(a, b, c) {\n  a.ra = 1;\n  a.U = G(b.n());\n  a.X = c;\n  a.Cb = !0;\n  fd(a, null);\n}\nfunction gd(a, b, c, d, e) {\n  a.ra = 1;\n  a.U = G(b.n());\n  a.X = null;\n  a.Cb = c;\n  e && (a.Zb = !1);\n  fd(a, d);\n}\nfunction fd(a, b) {\n  a.Da = q();\n  hd(a);\n  a.w = a.U.n();\n  sb(a.w, \"t\", a.Ea);\n  a.Ha = 0;\n  a.k = a.b.lb(a.b.$a() ? b : null);\n  0 < a.la && (a.Va = new Xc(p(a.ec, a, a.k), a.la));\n  a.ob.Ra(a.k, \"readystatechange\", a.Bc);\n  var c;\n  if (a.v) {\n    c = a.v;\n    var d = {}, e;\n    for (e in c) {\n      d[e] = c[e];\n    }\n    c = d;\n  } else {\n    c = {};\n  }\n  a.X ? (a.sa = \"POST\", c[\"Content-Type\"] = \"application/x-www-form-urlencoded\", a.k.send(a.w, a.sa, a.X, c)) : (a.sa = \"GET\", a.Zb && !z && (c.Connection = \"close\"), a.k.send(a.w, a.sa, null, c));\n  a.b.H(id);\n  if (d = a.X) {\n    for (c = \"\", d = d.split(\"&\"), e = 0;e < d.length;e++) {\n      var g = d[e].split(\"=\");\n      if (1 < g.length) {\n        var h = g[0], g = g[1], k = h.split(\"_\");\n        c = 2 <= k.length && \"type\" == k[1] ? c + (h + \"=\" + g + \"&\") : c + (h + \"=redacted&\");\n      }\n    }\n  } else {\n    c = null;\n  }\n  a.a.info(\"XMLHTTP REQ (\" + a.B + \") [attempt \" + a.Ea + \"]: \" + a.sa + \"\\n\" + a.w + \"\\n\" + c);\n}\nf.Bc = function(a) {\n  a = a.target;\n  var b = this.Va;\n  b && 3 == T(a) ? (this.a.debug(\"Throttling readystatechange.\"), b.l || b.Vb ? b.Za = !0 : Yc(b)) : this.ec(a);\n};\nf.ec = function(a) {\n  try {\n    if (a == this.k) {\n      a: {\n        var b = T(this.k), c = this.k.ja, d = Sc(this.k);\n        if (!dd() || z && !A(\"420+\")) {\n          if (4 > b) {\n            break a;\n          }\n        } else {\n          if (3 > b || 3 == b && !Aa && !Tc(this.k)) {\n            break a;\n          }\n        }\n        this.Z || 4 != b || 7 == c || (8 == c || 0 >= d ? this.b.H(jd) : this.b.H(kd));\n        ld(this);\n        var e = Sc(this.k);\n        this.g = e;\n        var g = Tc(this.k);\n        g || this.a.debug(\"No response text for uri \" + this.w + \" status \" + e);\n        this.F = 200 == e;\n        this.a.info(\"XMLHTTP RESP (\" + this.B + \") [ attempt \" + this.Ea + \"]: \" + this.sa + \"\\n\" + this.w + \"\\n\" + b + \" \" + e);\n        this.F ? (4 == b && V(this), this.Cb ? (md(this, b, g), Aa && this.F && 3 == b && (this.ob.Ra(this.Ta, Ac, this.Ac), this.Ta.start())) : (Wb(this.a, this.B, g, null), nd(this, g)), this.F && !this.Z && (4 == b ? this.b.Ba(this) : (this.F = !1, hd(this)))) : (400 == e && 0 < g.indexOf(\"Unknown SID\") ? (this.q = 3, W(), this.a.fa(\"XMLHTTP Unknown SID (\" + this.B + \")\")) : (this.q = 0, W(), this.a.fa(\"XMLHTTP Bad status \" + e + \" (\" + this.B + \")\")), V(this), od(this));\n      }\n    } else {\n      this.a.fa(\"Called back with an unexpected xmlhttp\");\n    }\n  } catch (h) {\n    this.a.debug(\"Failed call to OnXmlHttpReadyStateChanged_\"), this.k && Tc(this.k) ? M(this.a, h, \"ResponseText: \" + Tc(this.k)) : M(this.a, h, \"No response text\");\n  } finally {\n  }\n};\nfunction md(a, b, c) {\n  for (var d = !0;!a.Z && a.Ha < c.length;) {\n    var e = pd(a, c);\n    if (e == cd) {\n      4 == b && (a.q = 4, W(), d = !1);\n      Wb(a.a, a.B, null, \"[Incomplete Response]\");\n      break;\n    } else {\n      if (e == bd) {\n        a.q = 4;\n        W();\n        Wb(a.a, a.B, c, \"[Invalid Chunk]\");\n        d = !1;\n        break;\n      } else {\n        Wb(a.a, a.B, e, null), nd(a, e);\n      }\n    }\n  }\n  4 == b && 0 == c.length && (a.q = 1, W(), d = !1);\n  a.F = a.F && d;\n  d || (Wb(a.a, a.B, c, \"[Invalid Chunked Response]\"), V(a), od(a));\n}\nf.Ac = function() {\n  var a = T(this.k), b = Tc(this.k);\n  this.Ha < b.length && (ld(this), md(this, a, b), this.F && 4 != a && hd(this));\n};\nfunction pd(a, b) {\n  var c = a.Ha, d = b.indexOf(\"\\n\", c);\n  if (-1 == d) {\n    return cd;\n  }\n  c = Number(b.substring(c, d));\n  if (isNaN(c)) {\n    return bd;\n  }\n  d += 1;\n  if (d + c > b.length) {\n    return cd;\n  }\n  var e = b.substr(d, c);\n  a.Ha = d + c;\n  return e;\n}\nfunction qd(a, b) {\n  a.Da = q();\n  hd(a);\n  var c = b ? window.location.hostname : \"\";\n  a.w = a.U.n();\n  F(a.w, \"DOMAIN\", c);\n  F(a.w, \"t\", a.Ea);\n  try {\n    a.K = new ActiveXObject(\"htmlfile\");\n  } catch (d) {\n    a.a.J(\"ActiveX blocked\");\n    V(a);\n    a.q = 7;\n    W();\n    od(a);\n    return;\n  }\n  var e = \"<html><body>\";\n  b && (e += '<script>document.domain=\"' + c + '\"\\x3c/script>');\n  e += \"</body></html>\";\n  a.K.open();\n  a.K.write(e);\n  a.K.close();\n  a.K.parentWindow.m = p(a.yc, a);\n  a.K.parentWindow.d = p(a.Ub, a, !0);\n  a.K.parentWindow.rpcClose = p(a.Ub, a, !1);\n  c = a.K.createElement(\"div\");\n  a.K.parentWindow.document.body.appendChild(c);\n  c.innerHTML = '<iframe src=\"' + a.w + '\"></iframe>';\n  a.a.info(\"TRIDENT REQ (\" + a.B + \") [ attempt \" + a.Ea + \"]: GET\\n\" + a.w);\n  a.b.H(id);\n}\nf.yc = function(a) {\n  X(p(this.xc, this, a), 0);\n};\nf.xc = function(a) {\n  if (!this.Z) {\n    var b = this.a;\n    b.info(\"TRIDENT TEXT (\" + this.B + \"): \" + Xb(b, a));\n    ld(this);\n    nd(this, a);\n    hd(this);\n  }\n};\nf.Ub = function(a) {\n  X(p(this.wc, this, a), 0);\n};\nf.wc = function(a) {\n  this.Z || (this.a.info(\"TRIDENT TEXT (\" + this.B + \"): \" + a ? \"success\" : \"failure\"), V(this), this.F = a, this.b.Ba(this), this.b.H(rd));\n};\nf.cancel = function() {\n  this.Z = !0;\n  V(this);\n};\nfunction hd(a) {\n  a.xb = q() + a.pa;\n  sd(a, a.pa);\n}\nfunction sd(a, b) {\n  if (null != a.ta) {\n    throw Error(\"WatchDog timer not null\");\n  }\n  a.ta = X(p(a.zc, a), b);\n}\nfunction ld(a) {\n  a.ta && (l.clearTimeout(a.ta), a.ta = null);\n}\nf.zc = function() {\n  this.ta = null;\n  var a = q();\n  0 <= a - this.xb ? (this.F && this.a.J(\"Received watchdog timeout even though request loaded successfully\"), this.a.info(\"TIMEOUT: \" + this.w), 2 != this.ra && this.b.H(jd), V(this), this.q = 2, W(), od(this)) : (this.a.fa(\"WatchDog timer called too early\"), sd(this, this.xb - a));\n};\nfunction od(a) {\n  a.b.Lb() || a.Z || a.b.Ba(a);\n}\nfunction V(a) {\n  ld(a);\n  var b = a.Va;\n  b && \"function\" == typeof b.Ja && b.Ja();\n  a.Va = null;\n  a.Ta.stop();\n  a.ob.Xa();\n  a.k && (b = a.k, a.k = null, b.abort(), b.Ja());\n  a.K && (a.K = null);\n}\nf.Ib = function() {\n  return this.q;\n};\nfunction nd(a, b) {\n  try {\n    a.b.Rb(a, b), a.b.H(rd);\n  } catch (c) {\n    M(a.a, c, \"Error in httprequest callback\");\n  }\n}\n;function td(a, b, c, d, e) {\n  (new L).debug(\"TestLoadImageWithRetries: \" + e);\n  if (0 == d) {\n    c(!1);\n  } else {\n    var g = e || 0;\n    d--;\n    ud(a, b, function(e) {\n      e ? c(!0) : l.setTimeout(function() {\n        td(a, b, c, d, g);\n      }, g);\n    });\n  }\n}\nfunction ud(a, b, c) {\n  var d = new L;\n  d.debug(\"TestLoadImage: loading \" + a);\n  var e = new Image;\n  e.onload = function() {\n    try {\n      d.debug(\"TestLoadImage: loaded\"), vd(e), c(!0);\n    } catch (a) {\n      M(d, a);\n    }\n  };\n  e.onerror = function() {\n    try {\n      d.debug(\"TestLoadImage: error\"), vd(e), c(!1);\n    } catch (a) {\n      M(d, a);\n    }\n  };\n  e.onabort = function() {\n    try {\n      d.debug(\"TestLoadImage: abort\"), vd(e), c(!1);\n    } catch (a) {\n      M(d, a);\n    }\n  };\n  e.ontimeout = function() {\n    try {\n      d.debug(\"TestLoadImage: timeout\"), vd(e), c(!1);\n    } catch (a) {\n      M(d, a);\n    }\n  };\n  l.setTimeout(function() {\n    if (e.ontimeout) {\n      e.ontimeout();\n    }\n  }, b);\n  e.src = a;\n}\nfunction vd(a) {\n  a.onload = null;\n  a.onerror = null;\n  a.onabort = null;\n  a.ontimeout = null;\n}\n;function wd(a, b) {\n  this.b = a;\n  this.a = b;\n  this.P = new Zb(0, !0);\n}\nf = wd.prototype;\nf.v = null;\nf.A = null;\nf.Wa = !1;\nf.cc = null;\nf.La = null;\nf.rb = null;\nf.I = null;\nf.c = null;\nf.g = -1;\nf.L = null;\nf.ua = null;\nf.S = function(a) {\n  this.v = a;\n};\nf.ac = function(a) {\n  this.P = a;\n};\nf.kb = function(a) {\n  this.I = a;\n  a = xd(this.b, this.I);\n  W();\n  this.cc = q();\n  var b = this.b.Gb;\n  null != b ? (this.L = this.b.correctHostPrefix(b[0]), (this.ua = b[1]) ? (this.c = 1, yd(this)) : (this.c = 2, zd(this))) : (sb(a, \"MODE\", \"init\"), this.A = new U(this, this.a, void 0, void 0, void 0), this.A.S(this.v), gd(this.A, a, !1, null, !0), this.c = 0);\n};\nfunction yd(a) {\n  var b = Ad(a.b, a.ua, \"/mail/images/cleardot.gif\");\n  G(b);\n  td(b.toString(), 5E3, p(a.lc, a), 3, 2E3);\n  a.H(id);\n}\nf.lc = function(a) {\n  if (a) {\n    this.c = 2, zd(this);\n  } else {\n    W();\n    var b = this.b;\n    b.a.debug(\"Test Connection Blocked\");\n    b.g = b.V.g;\n    Z(b, 9);\n  }\n  a && this.H(kd);\n};\nfunction zd(a) {\n  a.a.debug(\"TestConnection: starting stage 2\");\n  var b = a.b.Dc;\n  if (null != b) {\n    a.a.debug(\"TestConnection: skipping stage 2, precomputed result is \" + b ? \"Buffered\" : \"Unbuffered\"), W(), b ? (W(), Bd(a.b, a, !1)) : (W(), Bd(a.b, a, !0));\n  } else {\n    if (a.A = new U(a, a.a, void 0, void 0, void 0), a.A.S(a.v), b = Cd(a.b, a.L, a.I), W(), dd()) {\n      sb(b, \"TYPE\", \"xmlhttp\"), gd(a.A, b, !1, a.L, !1);\n    } else {\n      sb(b, \"TYPE\", \"html\");\n      var c = a.A;\n      a = Boolean(a.L);\n      c.ra = 3;\n      c.U = G(b.n());\n      qd(c, a);\n    }\n  }\n}\nf.lb = function(a) {\n  return this.b.lb(a);\n};\nf.abort = function() {\n  this.A && (this.A.cancel(), this.A = null);\n  this.g = -1;\n};\nf.Lb = function() {\n  return!1;\n};\nf.Rb = function(a, b) {\n  this.g = a.g;\n  if (0 == this.c) {\n    if (this.a.debug(\"TestConnection: Got data for stage 1\"), b) {\n      try {\n        var c = this.P.parse(b);\n      } catch (d) {\n        M(this.a, d);\n        Dd(this.b, this);\n        return;\n      }\n      this.L = this.b.correctHostPrefix(c[0]);\n      this.ua = c[1];\n    } else {\n      this.a.debug(\"TestConnection: Null responseText\"), Dd(this.b, this);\n    }\n  } else {\n    if (2 == this.c) {\n      if (this.Wa) {\n        W(), this.rb = q();\n      } else {\n        if (\"11111\" == b) {\n          if (W(), this.Wa = !0, this.La = q(), c = this.La - this.cc, dd() || 500 > c) {\n            this.g = 200, this.A.cancel(), this.a.debug(\"Test connection succeeded; using streaming connection\"), W(), Bd(this.b, this, !0);\n          }\n        } else {\n          W(), this.La = this.rb = q(), this.Wa = !1;\n        }\n      }\n    }\n  }\n};\nf.Ba = function() {\n  this.g = this.A.g;\n  if (!this.A.F) {\n    this.a.debug(\"TestConnection: request failed, in state \" + this.c), 0 == this.c ? W() : 2 == this.c && W(), Dd(this.b, this);\n  } else {\n    if (0 == this.c) {\n      this.a.debug(\"TestConnection: request complete for initial check\"), this.ua ? (this.c = 1, yd(this)) : (this.c = 2, zd(this));\n    } else {\n      if (2 == this.c) {\n        this.a.debug(\"TestConnection: request complete for stage 2\");\n        var a = !1;\n        (a = dd() ? this.Wa : 200 > this.rb - this.La ? !1 : !0) ? (this.a.debug(\"Test connection succeeded; using streaming connection\"), W(), Bd(this.b, this, !0)) : (this.a.debug(\"Test connection failed; not using streaming\"), W(), Bd(this.b, this, !1));\n      }\n    }\n  }\n};\nf.$a = function() {\n  return this.b.$a();\n};\nf.isActive = function() {\n  return this.b.isActive();\n};\nf.H = function(a) {\n  this.b.H(a);\n};\nfunction Ed(a, b, c) {\n  this.Bb = a || null;\n  this.c = Fd;\n  this.t = [];\n  this.Q = [];\n  this.a = new L;\n  this.P = new Zb(0, !0);\n  this.Gb = b || null;\n  this.Dc = null != c ? c : null;\n}\nfunction Gd(a, b) {\n  this.Ob = a;\n  this.map = b;\n}\nf = Ed.prototype;\nf.v = null;\nf.wa = null;\nf.p = null;\nf.i = null;\nf.I = null;\nf.Ma = null;\nf.zb = null;\nf.L = null;\nf.hc = !0;\nf.Aa = 0;\nf.sc = 0;\nf.Ka = !1;\nf.e = null;\nf.G = null;\nf.M = null;\nf.$ = null;\nf.V = null;\nf.wb = null;\nf.gc = !0;\nf.ya = -1;\nf.Nb = -1;\nf.g = -1;\nf.aa = 0;\nf.ga = 0;\nf.jc = 5E3;\nf.Cc = 1E4;\nf.pb = 2;\nf.Hb = 2E4;\nf.la = 0;\nf.ab = !1;\nf.ha = 8;\nvar Fd = 1, Hd = new R;\nfunction Id(a) {\n  P.call(this, \"statevent\", a);\n}\ns(Id, P);\nfunction Jd(a, b) {\n  P.call(this, \"timingevent\", a);\n  this.size = b;\n}\ns(Jd, P);\nvar id = 1, kd = 2, jd = 3, rd = 4;\nfunction Kd(a) {\n  P.call(this, \"serverreachability\", a);\n}\ns(Kd, P);\nvar Yb = \"y2f%\";\nf = Ed.prototype;\nf.kb = function(a, b, c, d, e) {\n  this.a.debug(\"connect()\");\n  W();\n  this.I = b;\n  this.wa = c || {};\n  d && void 0 !== e && (this.wa.OSID = d, this.wa.OAID = e);\n  this.a.debug(\"connectTest_()\");\n  Ld(this) && (this.V = new wd(this, this.a), this.V.S(this.v), this.V.ac(this.P), this.V.kb(a));\n};\nf.disconnect = function() {\n  this.a.debug(\"disconnect()\");\n  Md(this);\n  if (3 == this.c) {\n    var a = this.Aa++, b = this.Ma.n();\n    F(b, \"SID\", this.Y);\n    F(b, \"RID\", a);\n    F(b, \"TYPE\", \"terminate\");\n    Nd(this, b);\n    a = new U(this, this.a, this.Y, a, void 0);\n    a.ra = 2;\n    a.U = G(b.n());\n    (new Image).src = a.U;\n    a.Da = q();\n    hd(a);\n  }\n  Od(this);\n};\nfunction Md(a) {\n  a.V && (a.V.abort(), a.V = null);\n  a.i && (a.i.cancel(), a.i = null);\n  a.M && (l.clearTimeout(a.M), a.M = null);\n  Pd(a);\n  a.p && (a.p.cancel(), a.p = null);\n  a.G && (l.clearTimeout(a.G), a.G = null);\n}\nf.S = function(a) {\n  this.v = a;\n};\nf.bc = function(a) {\n  this.la = a;\n};\nf.Lb = function() {\n  return 0 == this.c;\n};\nf.ac = function(a) {\n  this.P = a;\n};\nfunction Qd(a) {\n  a.p || a.G || (a.G = X(p(a.Tb, a), 0), a.aa = 0);\n}\nf.Tb = function(a) {\n  this.G = null;\n  this.a.debug(\"startForwardChannel_\");\n  if (Ld(this)) {\n    if (this.c == Fd) {\n      if (a) {\n        this.a.J(\"Not supposed to retry the open\");\n      } else {\n        this.a.debug(\"open_()\");\n        this.Aa = Math.floor(1E5 * Math.random());\n        a = this.Aa++;\n        var b = new U(this, this.a, \"\", a, void 0);\n        b.S(this.v);\n        var c = Rd(this), d = this.Ma.n();\n        F(d, \"RID\", a);\n        this.Bb && F(d, \"CVER\", this.Bb);\n        Nd(this, d);\n        ed(b, d, c);\n        this.p = b;\n        this.c = 2;\n      }\n    } else {\n      3 == this.c && (a ? Sd(this, a) : 0 == this.t.length ? this.a.debug(\"startForwardChannel_ returned: nothing to send\") : this.p ? this.a.J(\"startForwardChannel_ returned: connection already in progress\") : (Sd(this), this.a.debug(\"startForwardChannel_ finished, sent request\")));\n    }\n  }\n};\nfunction Sd(a, b) {\n  var c, d;\n  b ? 6 < a.ha ? (a.t = a.Q.concat(a.t), a.Q.length = 0, c = a.Aa - 1, d = Rd(a)) : (c = b.B, d = b.X) : (c = a.Aa++, d = Rd(a));\n  var e = a.Ma.n();\n  F(e, \"SID\", a.Y);\n  F(e, \"RID\", c);\n  F(e, \"AID\", a.ya);\n  Nd(a, e);\n  c = new U(a, a.a, a.Y, c, a.aa + 1);\n  c.S(a.v);\n  c.setTimeout(Math.round(0.5 * a.Hb) + Math.round(0.5 * a.Hb * Math.random()));\n  a.p = c;\n  ed(c, e, d);\n}\nfunction Nd(a, b) {\n  if (a.e) {\n    var c = a.e.getAdditionalParams(a);\n    c && fb(c, function(a, c) {\n      F(b, c, a);\n    });\n  }\n}\nfunction Rd(a) {\n  var b = Math.min(a.t.length, 1E3), c = [\"count=\" + b], d;\n  6 < a.ha && 0 < b ? (d = a.t[0].Ob, c.push(\"ofs=\" + d)) : d = 0;\n  for (var e = 0;e < b;e++) {\n    var g = a.t[e].Ob, h = a.t[e].map, g = 6 >= a.ha ? e : g - d;\n    try {\n      fb(h, function(a, b) {\n        c.push(\"req\" + g + \"_\" + b + \"=\" + encodeURIComponent(a));\n      });\n    } catch (k) {\n      c.push(\"req\" + g + \"_type=\" + encodeURIComponent(\"_badmap\")), a.e && a.e.badMapError(a, h);\n    }\n  }\n  a.Q = a.Q.concat(a.t.splice(0, b));\n  return c.join(\"&\");\n}\nfunction Td(a) {\n  a.i || a.M || (a.yb = 1, a.M = X(p(a.Sb, a), 0), a.ga = 0);\n}\nfunction Ud(a) {\n  if (a.i || a.M) {\n    return a.a.J(\"Request already in progress\"), !1;\n  }\n  if (3 <= a.ga) {\n    return!1;\n  }\n  a.a.debug(\"Going to retry GET\");\n  a.yb++;\n  a.M = X(p(a.Sb, a), Vd(a, a.ga));\n  a.ga++;\n  return!0;\n}\nf.Sb = function() {\n  this.M = null;\n  if (Ld(this)) {\n    this.a.debug(\"Creating new HttpRequest\");\n    this.i = new U(this, this.a, this.Y, \"rpc\", this.yb);\n    this.i.S(this.v);\n    this.i.bc(this.la);\n    var a = this.zb.n();\n    F(a, \"RID\", \"rpc\");\n    F(a, \"SID\", this.Y);\n    F(a, \"CI\", this.wb ? \"0\" : \"1\");\n    F(a, \"AID\", this.ya);\n    Nd(this, a);\n    if (dd()) {\n      F(a, \"TYPE\", \"xmlhttp\"), gd(this.i, a, !0, this.L, !1);\n    } else {\n      F(a, \"TYPE\", \"html\");\n      var b = this.i, c = Boolean(this.L);\n      b.ra = 3;\n      b.U = G(a.n());\n      qd(b, c);\n    }\n    this.a.debug(\"New Request created\");\n  }\n};\nfunction Ld(a) {\n  if (a.e) {\n    var b = a.e.okToMakeRequest(a);\n    if (0 != b) {\n      return a.a.debug(\"Handler returned error code from okToMakeRequest\"), Z(a, b), !1;\n    }\n  }\n  return!0;\n}\nfunction Bd(a, b, c) {\n  a.a.debug(\"Test Connection Finished\");\n  a.wb = a.gc && c;\n  a.g = b.g;\n  a.a.debug(\"connectChannel_()\");\n  a.mc(Fd, 0);\n  a.Ma = xd(a, a.I);\n  Qd(a);\n}\nfunction Dd(a, b) {\n  a.a.debug(\"Test Connection Failed\");\n  a.g = b.g;\n  Z(a, 2);\n}\nf.Rb = function(a, b) {\n  if (0 != this.c && (this.i == a || this.p == a)) {\n    if (this.g = a.g, this.p == a && 3 == this.c) {\n      if (7 < this.ha) {\n        var c;\n        try {\n          c = this.P.parse(b);\n        } catch (d) {\n          c = null;\n        }\n        if (m(c) && 3 == c.length) {\n          var e = c;\n          if (0 == e[0]) {\n            a: {\n              if (this.a.debug(\"Server claims our backchannel is missing.\"), this.M) {\n                this.a.debug(\"But we are currently starting the request.\");\n              } else {\n                if (this.i) {\n                  if (this.i.Da + 3E3 < this.p.Da) {\n                    Pd(this), this.i.cancel(), this.i = null;\n                  } else {\n                    break a;\n                  }\n                } else {\n                  this.a.fa(\"We do not have a BackChannel established\");\n                }\n                Ud(this);\n                W();\n              }\n            }\n          } else {\n            this.Nb = e[1], c = this.Nb - this.ya, 0 < c && (e = e[2], this.a.debug(e + \" bytes (in \" + c + \" arrays) are outstanding on the BackChannel\"), 37500 > e && this.wb && 0 == this.ga && !this.$ && (this.$ = X(p(this.tc, this), 6E3)));\n          }\n        } else {\n          this.a.debug(\"Bad POST response data returned\"), Z(this, 11);\n        }\n      } else {\n        b != Yb && (this.a.debug(\"Bad data returned - missing/invald magic cookie\"), Z(this, 11));\n      }\n    } else {\n      if (this.i == a && Pd(this), !/^[\\s\\xa0]*$/.test(b)) {\n        c = this.P.parse(b);\n        for (var e = this.e && this.e.channelHandleMultipleArrays ? [] : null, g = 0;g < c.length;g++) {\n          var h = c[g];\n          this.ya = h[0];\n          h = h[1];\n          2 == this.c ? \"c\" == h[0] ? (this.Y = h[1], this.L = this.correctHostPrefix(h[2]), h = h[3], this.ha = null != h ? h : 6, this.c = 3, this.e && this.e.channelOpened(this), this.zb = Cd(this, this.L, this.I), Td(this)) : \"stop\" == h[0] && Z(this, 7) : 3 == this.c && (\"stop\" == h[0] ? (e && 0 != e.length && (this.e.channelHandleMultipleArrays(this, e), e.length = 0), Z(this, 7)) : \"noop\" != h[0] && (e ? e.push(h) : this.e && this.e.channelHandleArray(this, h)), this.ga = 0);\n        }\n        e && 0 != e.length && this.e.channelHandleMultipleArrays(this, e);\n      }\n    }\n  }\n};\nf.correctHostPrefix = function(a) {\n  return this.hc ? this.e ? this.e.correctHostPrefix(a) : a : null;\n};\nf.tc = function() {\n  null != this.$ && (this.$ = null, this.i.cancel(), this.i = null, Ud(this), W());\n};\nfunction Pd(a) {\n  null != a.$ && (l.clearTimeout(a.$), a.$ = null);\n}\nf.Ba = function(a) {\n  this.a.debug(\"Request complete\");\n  var b;\n  if (this.i == a) {\n    Pd(this), this.i = null, b = 2;\n  } else {\n    if (this.p == a) {\n      this.p = null, b = 1;\n    } else {\n      return;\n    }\n  }\n  this.g = a.g;\n  if (0 != this.c) {\n    if (a.F) {\n      1 == b ? (q(), Hd.dispatchEvent(new Jd(Hd, a.X ? a.X.length : 0)), Qd(this), this.Q.length = 0) : Td(this);\n    } else {\n      var c = a.Ib();\n      if (3 == c || 7 == c || 0 == c && 0 < this.g) {\n        this.a.debug(\"Not retrying due to error type\");\n      } else {\n        this.a.debug(\"Maybe retrying, last error: \" + ad(c, this.g));\n        var d;\n        if (d = 1 == b) {\n          this.p || this.G ? (this.a.J(\"Request already in progress\"), d = !1) : this.c == Fd || this.aa >= (this.Ka ? 0 : this.pb) ? d = !1 : (this.a.debug(\"Going to retry POST\"), this.G = X(p(this.Tb, this, a), Vd(this, this.aa)), this.aa++, d = !0);\n        }\n        if (d || 2 == b && Ud(this)) {\n          return;\n        }\n        this.a.debug(\"Exceeded max number of retries\");\n      }\n      this.a.debug(\"Error: HTTP request failed\");\n      switch(c) {\n        case 1:\n          Z(this, 5);\n          break;\n        case 4:\n          Z(this, 10);\n          break;\n        case 3:\n          Z(this, 6);\n          break;\n        case 7:\n          Z(this, 12);\n          break;\n        default:\n          Z(this, 2);\n      }\n    }\n  }\n};\nfunction Vd(a, b) {\n  var c = a.jc + Math.floor(Math.random() * a.Cc);\n  a.isActive() || (a.a.debug(\"Inactive channel\"), c *= 2);\n  return c * b;\n}\nf.mc = function(a) {\n  if (!(0 <= Xa(arguments, this.c))) {\n    throw Error(\"Unexpected channel state: \" + this.c);\n  }\n};\nfunction Z(a, b) {\n  a.a.info(\"Error code \" + b);\n  if (2 == b || 9 == b) {\n    var c = null;\n    a.e && (c = a.e.getNetworkTestImageUri(a));\n    var d = p(a.Ec, a);\n    c || (c = new D(\"//www.google.com/images/cleardot.gif\"), G(c));\n    ud(c.toString(), 1E4, d);\n  } else {\n    W();\n  }\n  Wd(a, b);\n}\nf.Ec = function(a) {\n  a ? (this.a.info(\"Successfully pinged google.com\"), W()) : (this.a.info(\"Failed to ping google.com\"), W(), Wd(this, 8));\n};\nfunction Wd(a, b) {\n  a.a.debug(\"HttpChannel: error - \" + b);\n  a.c = 0;\n  a.e && a.e.channelError(a, b);\n  Od(a);\n  Md(a);\n}\nfunction Od(a) {\n  a.c = 0;\n  a.g = -1;\n  if (a.e) {\n    if (0 == a.Q.length && 0 == a.t.length) {\n      a.e.channelClosed(a);\n    } else {\n      a.a.debug(\"Number of undelivered maps, pending: \" + a.Q.length + \", outgoing: \" + a.t.length);\n      var b = bb(a.Q), c = bb(a.t);\n      a.Q.length = 0;\n      a.t.length = 0;\n      a.e.channelClosed(a, b, c);\n    }\n  }\n}\nfunction xd(a, b) {\n  var c = Ad(a, null, b);\n  a.a.debug(\"GetForwardChannelUri: \" + c);\n  return c;\n}\nfunction Cd(a, b, c) {\n  b = Ad(a, a.$a() ? b : null, c);\n  a.a.debug(\"GetBackChannelUri: \" + b);\n  return b;\n}\nfunction Ad(a, b, c) {\n  var d = ub(c);\n  if (\"\" != d.ia) {\n    b && hb(d, b + \".\" + d.ia), ib(d, d.Ca);\n  } else {\n    var e = window.location, d = vb(e.protocol, b ? b + \".\" + e.hostname : e.hostname, e.port, c)\n  }\n  a.wa && fb(a.wa, function(a, b) {\n    F(d, b, a);\n  });\n  F(d, \"VER\", a.ha);\n  Nd(a, d);\n  return d;\n}\nf.lb = function(a) {\n  if (a && !this.ab) {\n    throw Error(\"Can't create secondary domain capable XhrIo object.\");\n  }\n  a = new Ic;\n  a.dc = this.ab;\n  return a;\n};\nf.isActive = function() {\n  return!!this.e && this.e.isActive(this);\n};\nfunction X(a, b) {\n  if (!fa(a)) {\n    throw Error(\"Fn must not be null and must be a function\");\n  }\n  return l.setTimeout(function() {\n    a();\n  }, b);\n}\nf.H = function() {\n  Hd.dispatchEvent(new Kd(Hd));\n};\nfunction W() {\n  Hd.dispatchEvent(new Id(Hd));\n}\nf.$a = function() {\n  return this.ab || !dd();\n};\nfunction Xd() {\n}\nf = Xd.prototype;\nf.channelHandleMultipleArrays = null;\nf.okToMakeRequest = function() {\n  return 0;\n};\nf.channelOpened = function() {\n};\nf.channelHandleArray = function() {\n};\nf.channelError = function() {\n};\nf.channelClosed = function() {\n};\nf.getAdditionalParams = function() {\n  return{};\n};\nf.getNetworkTestImageUri = function() {\n  return null;\n};\nf.isActive = function() {\n  return!0;\n};\nf.badMapError = function() {\n};\nf.correctHostPrefix = function(a) {\n  return a;\n};\nvar $, Yd, Zd = [].slice;\nYd = {0:\"Ok\", 4:\"User is logging out\", 6:\"Unknown session ID\", 7:\"Stopped by server\", 8:\"General network error\", 2:\"Request failed\", 9:\"Blocked by a network administrator\", 5:\"No data from server\", 10:\"Got bad data from the server\", 11:\"Got a bad response from the server\"};\n$ = function(a, b) {\n  var c, d, e, g, h, k, u, K, v, r, Ia, w, Y;\n  r = this;\n  a || (a = \"channel\");\n  a.match(/:\\/\\//) && a.replace(/^ws/, \"http\");\n  b || (b = {});\n  m(b || \"string\" === typeof b) && (b = {});\n  K = b.reconnectTime || 3E3;\n  c = b.extraHeaders || null;\n  d = b.extraParams || null;\n  null !== b.affinity && (d || (d = {}), b.affinityParam || (b.affinityParam = \"a\"), this.affinity = b.affinity || sa(), d[b.affinityParam] = this.affinity);\n  Y = function(a) {\n    r.readyState = r.readyState = a;\n  };\n  Y(this.CLOSED);\n  w = null;\n  k = b.Hc;\n  e = function() {\n    var a, b;\n    b = arguments[0];\n    a = 2 <= arguments.length ? Zd.call(arguments, 1) : [];\n    try {\n      return \"function\" === typeof r[b] ? r[b].apply(r, a) : void 0;\n    } catch (c) {\n      throw a = c, \"undefined\" !== typeof console && null !== console && console.error(a.stack), a;\n    }\n  };\n  g = new Xd;\n  g.channelOpened = function() {\n    k = w;\n    Y($.OPEN);\n    return e(\"onopen\");\n  };\n  h = null;\n  g.channelError = function(a, b) {\n    var c;\n    c = Yd[b];\n    h = b;\n    r.readyState !== $.CLOSED && Y($.hb);\n    try {\n      return e(\"onerror\", c, b);\n    } catch (d) {\n    }\n  };\n  v = null;\n  g.channelClosed = function(a, c, d) {\n    var g;\n    if (r.readyState !== $.CLOSED) {\n      w = null;\n      a = h ? Yd[h] : \"Closed\";\n      Y($.CLOSED);\n      b.reconnect && 7 !== h && 0 !== h && (g = 6 === h ? 0 : K, clearTimeout(v), v = setTimeout(u, g));\n      try {\n        e(\"onclose\", a, c, d);\n      } catch (k) {\n      }\n      return h = null;\n    }\n  };\n  g.channelHandleArray = function(a, b) {\n    return e(\"onmessage\", b);\n  };\n  u = function() {\n    if (w) {\n      throw Error(\"Reconnect() called from invalid state\");\n    }\n    Y($.CONNECTING);\n    e(\"onconnecting\");\n    clearTimeout(v);\n    w = new Ed(b.appVersion, null != k ? k.Gb : void 0);\n    b.crossDomainXhr && (w.ab = !0);\n    w.e = g;\n    c && w.S(c);\n    h = null;\n    if (b.failFast) {\n      var t = w;\n      t.Ka = !0;\n      t.a.info(\"setFailFast: true\");\n      (t.p || t.G) && t.aa > (t.Ka ? 0 : t.pb) && (t.a.info(\"Retry count \" + t.aa + \" > new maxRetries \" + (t.Ka ? 0 : t.pb) + \". Fail immediately!\"), t.p ? (t.p.cancel(), t.Ba(t.p)) : (l.clearTimeout(t.G), t.G = null, Z(t, 2)));\n    }\n    return w.kb(\"\" + a + \"/test\", \"\" + a + \"/bind\", d, null != k ? k.Y : void 0, null != k ? k.ya : void 0);\n  };\n  this.open = function() {\n    if (r.readyState !== r.CLOSED) {\n      throw Error(\"Already open\");\n    }\n    return u();\n  };\n  this.close = function() {\n    clearTimeout(v);\n    h = 0;\n    if (r.readyState !== $.CLOSED) {\n      return Y($.hb), w.disconnect();\n    }\n  };\n  this.sendMap = Ia = function(a) {\n    var b;\n    if ((b = r.readyState) === $.hb || b === $.CLOSED) {\n      throw Error(\"Cannot send to a closed connection\");\n    }\n    b = w;\n    if (0 == b.c) {\n      throw Error(\"Invalid operation: sending map when state is closed\");\n    }\n    1E3 == b.t.length && b.a.J(\"Already have 1000 queued maps upon queueing \" + zb(a));\n    b.t.push(new Gd(b.sc++, a));\n    2 != b.c && 3 != b.c || Qd(b);\n  };\n  this.send = function(a) {\n    return \"string\" === typeof a ? Ia({_S:a}) : Ia({JSON:zb(a)});\n  };\n  u();\n  return this;\n};\n$.prototype.CONNECTING = $.CONNECTING = $.CONNECTING = 0;\n$.prototype.OPEN = $.OPEN = $.OPEN = 1;\n$.prototype.CLOSING = $.CLOSING = $.hb = 2;\n$.prototype.CLOSED = $.CLOSED = $.CLOSED = 3;\n(\"undefined\" !== typeof exports && null !== exports ? exports : window).BCSocket = $;\n\n})();\n","// Generated by CoffeeScript 1.6.2\n(function() {\n  var BCSocket, Connection, Doc, MicroEvent, ReconnectingWebSocket, SockJS, WebSocket, append, bootstrapTransform, checkValidComponent, checkValidOp, exports, hasBCSocket, hasSockJS, invertComponent, nextTick, socketImpl, strInject, text, transformComponent, transformPosition, types,\n    __slice = [].slice,\n    __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n    __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\n\n  window.sharejs = exports = {\n    'version': '0.6.3'\n  };\n\n  if (typeof WEB === 'undefined') {\n    window.WEB = true;\n  }\n\n  nextTick = typeof WEB !== \"undefined\" && WEB !== null ? function(fn) {\n    return setTimeout(fn, 0);\n  } : process['nextTick'];\n\n  MicroEvent = (function() {\n    function MicroEvent() {}\n\n    MicroEvent.prototype.on = function(event, f) {\n      var _base;\n\n      this._events || (this._events = {});\n      (_base = this._events)[event] || (_base[event] = []);\n      this._events[event].push(f);\n      return this;\n    };\n\n    MicroEvent.prototype.removeListener = function(event, fct) {\n      var i, listeners, _base,\n        _this = this;\n\n      this._events || (this._events = {});\n      listeners = ((_base = this._events)[event] || (_base[event] = []));\n      i = 0;\n      while (i < listeners.length) {\n        if (listeners[i] === fct) {\n          listeners[i] = void 0;\n        }\n        i++;\n      }\n      nextTick(function() {\n        var x;\n\n        return _this._events[event] = (function() {\n          var _i, _len, _ref, _results;\n\n          _ref = this._events[event];\n          _results = [];\n          for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n            x = _ref[_i];\n            if (x) {\n              _results.push(x);\n            }\n          }\n          return _results;\n        }).call(_this);\n      });\n      return this;\n    };\n\n    MicroEvent.prototype.emit = function() {\n      var args, event, fn, _i, _len, _ref, _ref1;\n\n      event = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\n      if (!((_ref = this._events) != null ? _ref[event] : void 0)) {\n        return this;\n      }\n      _ref1 = this._events[event];\n      for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n        fn = _ref1[_i];\n        if (fn) {\n          fn.apply(this, args);\n        }\n      }\n      return this;\n    };\n\n    MicroEvent.prototype.once = function(event, f) {\n      var listener,\n        _this = this;\n\n      return this.on(event, listener = function() {\n        var args;\n\n        args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];\n        _this.removeListener(event, listener);\n        return f.apply(_this, args);\n      });\n    };\n\n    return MicroEvent;\n\n  })();\n\n  MicroEvent.mixin = function(obj) {\n    var proto;\n\n    proto = obj.prototype || obj;\n    proto.on = MicroEvent.prototype.on;\n    proto.removeListener = MicroEvent.prototype.removeListener;\n    proto.emit = MicroEvent.prototype.emit;\n    proto.once = MicroEvent.prototype.once;\n    return obj;\n  };\n\n  if (typeof WEB === \"undefined\" || WEB === null) {\n    module.exports = MicroEvent;\n  }\n\n  exports['_bt'] = bootstrapTransform = function(type, transformComponent, checkValidOp, append) {\n    var transformComponentX, transformX;\n\n    transformComponentX = function(left, right, destLeft, destRight) {\n      transformComponent(destLeft, left, right, 'left');\n      return transformComponent(destRight, right, left, 'right');\n    };\n    type.transformX = type['transformX'] = transformX = function(leftOp, rightOp) {\n      var k, l, l_, newLeftOp, newRightOp, nextC, r, r_, rightComponent, _i, _j, _k, _l, _len, _len1, _len2, _len3, _ref, _ref1;\n\n      checkValidOp(leftOp);\n      checkValidOp(rightOp);\n      newRightOp = [];\n      for (_i = 0, _len = rightOp.length; _i < _len; _i++) {\n        rightComponent = rightOp[_i];\n        newLeftOp = [];\n        k = 0;\n        while (k < leftOp.length) {\n          nextC = [];\n          transformComponentX(leftOp[k], rightComponent, newLeftOp, nextC);\n          k++;\n          if (nextC.length === 1) {\n            rightComponent = nextC[0];\n          } else if (nextC.length === 0) {\n            _ref = leftOp.slice(k);\n            for (_j = 0, _len1 = _ref.length; _j < _len1; _j++) {\n              l = _ref[_j];\n              append(newLeftOp, l);\n            }\n            rightComponent = null;\n            break;\n          } else {\n            _ref1 = transformX(leftOp.slice(k), nextC), l_ = _ref1[0], r_ = _ref1[1];\n            for (_k = 0, _len2 = l_.length; _k < _len2; _k++) {\n              l = l_[_k];\n              append(newLeftOp, l);\n            }\n            for (_l = 0, _len3 = r_.length; _l < _len3; _l++) {\n              r = r_[_l];\n              append(newRightOp, r);\n            }\n            rightComponent = null;\n            break;\n          }\n        }\n        if (rightComponent != null) {\n          append(newRightOp, rightComponent);\n        }\n        leftOp = newLeftOp;\n      }\n      return [leftOp, newRightOp];\n    };\n    return type.transform = type['transform'] = function(op, otherOp, type) {\n      var left, right, _, _ref, _ref1;\n\n      if (!(type === 'left' || type === 'right')) {\n        throw new Error(\"type must be 'left' or 'right'\");\n      }\n      if (otherOp.length === 0) {\n        return op;\n      }\n      if (op.length === 1 && otherOp.length === 1) {\n        return transformComponent([], op[0], otherOp[0], type);\n      }\n      if (type === 'left') {\n        _ref = transformX(op, otherOp), left = _ref[0], _ = _ref[1];\n        return left;\n      } else {\n        _ref1 = transformX(otherOp, op), _ = _ref1[0], right = _ref1[1];\n        return right;\n      }\n    };\n  };\n\n  if (typeof WEB === 'undefined') {\n    exports.bootstrapTransform = bootstrapTransform;\n  }\n\n  text = {};\n\n  text.name = 'text';\n\n  text.create = function() {\n    return '';\n  };\n\n  strInject = function(s1, pos, s2) {\n    return s1.slice(0, pos) + s2 + s1.slice(pos);\n  };\n\n  checkValidComponent = function(c) {\n    var d_type, i_type;\n\n    if (typeof c.p !== 'number') {\n      throw new Error('component missing position field');\n    }\n    i_type = typeof c.i;\n    d_type = typeof c.d;\n    if (!((i_type === 'string') ^ (d_type === 'string'))) {\n      throw new Error('component needs an i or d field');\n    }\n    if (!(c.p >= 0)) {\n      throw new Error('position cannot be negative');\n    }\n  };\n\n  checkValidOp = function(op) {\n    var c, _i, _len;\n\n    for (_i = 0, _len = op.length; _i < _len; _i++) {\n      c = op[_i];\n      checkValidComponent(c);\n    }\n    return true;\n  };\n\n  text.apply = function(snapshot, op) {\n    var component, deleted, _i, _len;\n\n    checkValidOp(op);\n    for (_i = 0, _len = op.length; _i < _len; _i++) {\n      component = op[_i];\n      if (component.i != null) {\n        snapshot = strInject(snapshot, component.p, component.i);\n      } else {\n        deleted = snapshot.slice(component.p, component.p + component.d.length);\n        if (component.d !== deleted) {\n          throw new Error(\"Delete component '\" + component.d + \"' does not match deleted text '\" + deleted + \"'\");\n        }\n        snapshot = snapshot.slice(0, component.p) + snapshot.slice(component.p + component.d.length);\n      }\n    }\n    return snapshot;\n  };\n\n  text._append = append = function(newOp, c) {\n    var last, _ref, _ref1;\n\n    if (c.i === '' || c.d === '') {\n      return;\n    }\n    if (newOp.length === 0) {\n      return newOp.push(c);\n    } else {\n      last = newOp[newOp.length - 1];\n      if ((last.i != null) && (c.i != null) && (last.p <= (_ref = c.p) && _ref <= (last.p + last.i.length))) {\n        return newOp[newOp.length - 1] = {\n          i: strInject(last.i, c.p - last.p, c.i),\n          p: last.p\n        };\n      } else if ((last.d != null) && (c.d != null) && (c.p <= (_ref1 = last.p) && _ref1 <= (c.p + c.d.length))) {\n        return newOp[newOp.length - 1] = {\n          d: strInject(c.d, last.p - c.p, last.d),\n          p: c.p\n        };\n      } else {\n        return newOp.push(c);\n      }\n    }\n  };\n\n  text.compose = function(op1, op2) {\n    var c, newOp, _i, _len;\n\n    checkValidOp(op1);\n    checkValidOp(op2);\n    newOp = op1.slice();\n    for (_i = 0, _len = op2.length; _i < _len; _i++) {\n      c = op2[_i];\n      append(newOp, c);\n    }\n    return newOp;\n  };\n\n  text.compress = function(op) {\n    return text.compose([], op);\n  };\n\n  text.normalize = function(op) {\n    var c, newOp, _i, _len, _ref;\n\n    newOp = [];\n    if ((op.i != null) || (op.p != null)) {\n      op = [op];\n    }\n    for (_i = 0, _len = op.length; _i < _len; _i++) {\n      c = op[_i];\n      if ((_ref = c.p) == null) {\n        c.p = 0;\n      }\n      append(newOp, c);\n    }\n    return newOp;\n  };\n\n  transformPosition = function(pos, c, insertAfter) {\n    if (c.i != null) {\n      if (c.p < pos || (c.p === pos && insertAfter)) {\n        return pos + c.i.length;\n      } else {\n        return pos;\n      }\n    } else {\n      if (pos <= c.p) {\n        return pos;\n      } else if (pos <= c.p + c.d.length) {\n        return c.p;\n      } else {\n        return pos - c.d.length;\n      }\n    }\n  };\n\n  text.transformCursor = function(position, op, side) {\n    var c, insertAfter, _i, _len;\n\n    insertAfter = side === 'right';\n    for (_i = 0, _len = op.length; _i < _len; _i++) {\n      c = op[_i];\n      position = transformPosition(position, c, insertAfter);\n    }\n    return position;\n  };\n\n  text._tc = transformComponent = function(dest, c, otherC, side) {\n    var cIntersect, intersectEnd, intersectStart, newC, otherIntersect, s;\n\n    checkValidOp([c]);\n    checkValidOp([otherC]);\n    if (c.i != null) {\n      append(dest, {\n        i: c.i,\n        p: transformPosition(c.p, otherC, side === 'right')\n      });\n    } else {\n      if (otherC.i != null) {\n        s = c.d;\n        if (c.p < otherC.p) {\n          append(dest, {\n            d: s.slice(0, otherC.p - c.p),\n            p: c.p\n          });\n          s = s.slice(otherC.p - c.p);\n        }\n        if (s !== '') {\n          append(dest, {\n            d: s,\n            p: c.p + otherC.i.length\n          });\n        }\n      } else {\n        if (c.p >= otherC.p + otherC.d.length) {\n          append(dest, {\n            d: c.d,\n            p: c.p - otherC.d.length\n          });\n        } else if (c.p + c.d.length <= otherC.p) {\n          append(dest, c);\n        } else {\n          newC = {\n            d: '',\n            p: c.p\n          };\n          if (c.p < otherC.p) {\n            newC.d = c.d.slice(0, otherC.p - c.p);\n          }\n          if (c.p + c.d.length > otherC.p + otherC.d.length) {\n            newC.d += c.d.slice(otherC.p + otherC.d.length - c.p);\n          }\n          intersectStart = Math.max(c.p, otherC.p);\n          intersectEnd = Math.min(c.p + c.d.length, otherC.p + otherC.d.length);\n          cIntersect = c.d.slice(intersectStart - c.p, intersectEnd - c.p);\n          otherIntersect = otherC.d.slice(intersectStart - otherC.p, intersectEnd - otherC.p);\n          if (cIntersect !== otherIntersect) {\n            throw new Error('Delete ops delete different text in the same region of the document');\n          }\n          if (newC.d !== '') {\n            newC.p = transformPosition(newC.p, otherC);\n            append(dest, newC);\n          }\n        }\n      }\n    }\n    return dest;\n  };\n\n  invertComponent = function(c) {\n    if (c.i != null) {\n      return {\n        d: c.i,\n        p: c.p\n      };\n    } else {\n      return {\n        i: c.d,\n        p: c.p\n      };\n    }\n  };\n\n  text.invert = function(op) {\n    var c, _i, _len, _ref, _results;\n\n    _ref = op.slice().reverse();\n    _results = [];\n    for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n      c = _ref[_i];\n      _results.push(invertComponent(c));\n    }\n    return _results;\n  };\n\n  if (typeof WEB !== \"undefined\" && WEB !== null) {\n    exports.types || (exports.types = {});\n    bootstrapTransform(text, transformComponent, checkValidOp, append);\n    exports.types.text = text;\n  } else {\n    module.exports = text;\n    require('./helpers').bootstrapTransform(text, transformComponent, checkValidOp, append);\n  }\n\n  if (typeof WEB === 'undefined') {\n    text = require('./text');\n  }\n\n  text.api = {\n    provides: {\n      text: true\n    },\n    getLength: function() {\n      return this.snapshot.length;\n    },\n    getText: function() {\n      return this.snapshot;\n    },\n    insert: function(pos, text, callback) {\n      var op;\n\n      op = [\n        {\n          p: pos,\n          i: text\n        }\n      ];\n      this.submitOp(op, callback);\n      return op;\n    },\n    del: function(pos, length, callback) {\n      var op;\n\n      op = [\n        {\n          p: pos,\n          d: this.snapshot.slice(pos, pos + length)\n        }\n      ];\n      this.submitOp(op, callback);\n      return op;\n    },\n    _register: function() {\n      return this.on('remoteop', function(op) {\n        var component, _i, _len, _results;\n\n        _results = [];\n        for (_i = 0, _len = op.length; _i < _len; _i++) {\n          component = op[_i];\n          if (component.i !== void 0) {\n            _results.push(this.emit('insert', component.p, component.i));\n          } else {\n            _results.push(this.emit('delete', component.p, component.d));\n          }\n        }\n        return _results;\n      });\n    }\n  };\n\n  if (typeof WEB === \"undefined\" || WEB === null) {\n    types = require('../types');\n  }\n\n  if (typeof WEB !== \"undefined\" && WEB !== null) {\n    exports.extendDoc = function(name, fn) {\n      return Doc.prototype[name] = fn;\n    };\n  }\n\n  Doc = (function() {\n    function Doc(connection, name, openData) {\n      this.connection = connection;\n      this.name = name;\n      this.shout = __bind(this.shout, this);\n      this.flush = __bind(this.flush, this);\n      openData || (openData = {});\n      this.version = openData.v;\n      this.snapshot = openData.snaphot;\n      if (openData.type) {\n        this._setType(openData.type);\n      }\n      this.state = 'closed';\n      this.autoOpen = false;\n      this._create = openData.create;\n      this.inflightOp = null;\n      this.inflightCallbacks = [];\n      this.inflightSubmittedIds = [];\n      this.pendingOp = null;\n      this.pendingCallbacks = [];\n      this.serverOps = {};\n    }\n\n    Doc.prototype._xf = function(client, server) {\n      var client_, server_;\n\n      if (this.type.transformX) {\n        return this.type.transformX(client, server);\n      } else {\n        client_ = this.type.transform(client, server, 'left');\n        server_ = this.type.transform(server, client, 'right');\n        return [client_, server_];\n      }\n    };\n\n    Doc.prototype._otApply = function(docOp, isRemote) {\n      var oldSnapshot;\n\n      oldSnapshot = this.snapshot;\n      this.snapshot = this.type.apply(this.snapshot, docOp);\n      this.emit('change', docOp, oldSnapshot);\n      if (isRemote) {\n        return this.emit('remoteop', docOp, oldSnapshot);\n      }\n    };\n\n    Doc.prototype._connectionStateChanged = function(state, data) {\n      switch (state) {\n        case 'disconnected':\n          this.state = 'closed';\n          if (this.inflightOp) {\n            this.inflightSubmittedIds.push(this.connection.id);\n          }\n          this.emit('closed');\n          break;\n        case 'ok':\n          if (this.autoOpen) {\n            this.open();\n          }\n          break;\n        case 'stopped':\n          if (typeof this._openCallback === \"function\") {\n            this._openCallback(data);\n          }\n      }\n      return this.emit(state, data);\n    };\n\n    Doc.prototype._setType = function(type) {\n      var k, v, _ref;\n\n      if (this.type) {\n        return;\n      }\n      if (typeof type === 'string') {\n        type = types[type];\n      }\n      if (!(type && type.compose)) {\n        throw new Error('Support for types without compose() is not implemented');\n      }\n      this.type = type;\n      if (type.api) {\n        _ref = type.api;\n        for (k in _ref) {\n          v = _ref[k];\n          this[k] = v;\n        }\n        return typeof this._register === \"function\" ? this._register() : void 0;\n      } else {\n        return this.provides = {};\n      }\n    };\n\n    Doc.prototype._onMessage = function(msg) {\n      var callback, docOp, error, oldInflightOp, op, path, response, undo, value, _i, _j, _len, _len1, _ref, _ref1, _ref2, _ref3, _ref4, _ref5, _ref6;\n\n      switch (false) {\n        case msg.open !== true:\n          this.state = 'open';\n          this._create = false;\n          if (this.created == null) {\n            this.created = !!msg.create;\n          }\n          if (msg.type) {\n            this._setType(msg.type);\n          }\n          if (msg.create) {\n            this.created = true;\n            this.snapshot = this.type.create();\n          } else {\n            if (this.created !== true) {\n              this.created = false;\n            }\n            if (msg.snapshot !== void 0) {\n              this.snapshot = msg.snapshot;\n            }\n          }\n          if (msg.meta) {\n            this.meta = msg.meta;\n          }\n          if (msg.v != null) {\n            this.version = msg.v;\n          }\n          if (this.inflightOp) {\n            response = {\n              doc: this.name,\n              op: this.inflightOp,\n              v: this.version\n            };\n            if (this.inflightSubmittedIds.length) {\n              response.dupIfSource = this.inflightSubmittedIds;\n            }\n            this.connection.send(response);\n          } else {\n            this.flush();\n          }\n          this.emit('open');\n          return typeof this._openCallback === \"function\" ? this._openCallback(null) : void 0;\n        case msg.open !== false:\n          if (msg.error) {\n            if (typeof console !== \"undefined\" && console !== null) {\n              console.error(\"Could not open document: \" + msg.error);\n            }\n            this.emit('error', msg.error);\n            if (typeof this._openCallback === \"function\") {\n              this._openCallback(msg.error);\n            }\n          }\n          this.state = 'closed';\n          this.emit('closed');\n          if (typeof this._closeCallback === \"function\") {\n            this._closeCallback();\n          }\n          return this._closeCallback = null;\n        case !(msg.op === null && error === 'Op already submitted'):\n          break;\n        case !((msg.op === void 0 && msg.v !== void 0) || (msg.op && (_ref = msg.meta.source, __indexOf.call(this.inflightSubmittedIds, _ref) >= 0))):\n          oldInflightOp = this.inflightOp;\n          this.inflightOp = null;\n          this.inflightSubmittedIds.length = 0;\n          error = msg.error;\n          if (error) {\n            if (this.type.invert) {\n              undo = this.type.invert(oldInflightOp);\n              if (this.pendingOp) {\n                _ref1 = this._xf(this.pendingOp, undo), this.pendingOp = _ref1[0], undo = _ref1[1];\n              }\n              this._otApply(undo, true);\n            } else {\n              this.emit('error', \"Op apply failed (\" + error + \") and the op could not be reverted\");\n            }\n            _ref2 = this.inflightCallbacks;\n            for (_i = 0, _len = _ref2.length; _i < _len; _i++) {\n              callback = _ref2[_i];\n              callback(error);\n            }\n          } else {\n            if (msg.v !== this.version) {\n              throw new Error('Invalid version from server');\n            }\n            this.serverOps[this.version] = oldInflightOp;\n            this.version++;\n            this.emit('acknowledge', oldInflightOp);\n            _ref3 = this.inflightCallbacks;\n            for (_j = 0, _len1 = _ref3.length; _j < _len1; _j++) {\n              callback = _ref3[_j];\n              callback(null, oldInflightOp);\n            }\n          }\n          return this.flush();\n        case !msg.op:\n          if (msg.v < this.version) {\n            return;\n          }\n          if (msg.doc !== this.name) {\n            return this.emit('error', \"Expected docName '\" + this.name + \"' but got \" + msg.doc);\n          }\n          if (msg.v !== this.version) {\n            return this.emit('error', \"Expected version \" + this.version + \" but got \" + msg.v);\n          }\n          op = msg.op;\n          this.serverOps[this.version] = op;\n          docOp = op;\n          if (this.inflightOp !== null) {\n            _ref4 = this._xf(this.inflightOp, docOp), this.inflightOp = _ref4[0], docOp = _ref4[1];\n          }\n          if (this.pendingOp !== null) {\n            _ref5 = this._xf(this.pendingOp, docOp), this.pendingOp = _ref5[0], docOp = _ref5[1];\n          }\n          this.version++;\n          return this._otApply(docOp, true);\n        case !msg.meta:\n          _ref6 = msg.meta, path = _ref6.path, value = _ref6.value;\n          switch (path != null ? path[0] : void 0) {\n            case 'shout':\n              return this.emit('shout', value);\n            default:\n              return typeof console !== \"undefined\" && console !== null ? console.warn('Unhandled meta op:', msg) : void 0;\n          }\n          break;\n        default:\n          return typeof console !== \"undefined\" && console !== null ? console.warn('Unhandled document message:', msg) : void 0;\n      }\n    };\n\n    Doc.prototype.flush = function() {\n      if (!(this.connection.state === 'ok' && this.inflightOp === null && this.pendingOp !== null)) {\n        return;\n      }\n      this.inflightOp = this.pendingOp;\n      this.inflightCallbacks = this.pendingCallbacks;\n      this.pendingOp = null;\n      this.pendingCallbacks = [];\n      return this.connection.send({\n        doc: this.name,\n        op: this.inflightOp,\n        v: this.version\n      });\n    };\n\n    Doc.prototype.submitOp = function(op, callback) {\n      if (this.type.normalize != null) {\n        op = this.type.normalize(op);\n      }\n      this.snapshot = this.type.apply(this.snapshot, op);\n      if (this.pendingOp !== null) {\n        this.pendingOp = this.type.compose(this.pendingOp, op);\n      } else {\n        this.pendingOp = op;\n      }\n      if (callback) {\n        this.pendingCallbacks.push(callback);\n      }\n      this.emit('change', op);\n      return setTimeout(this.flush, 0);\n    };\n\n    Doc.prototype.shout = function(msg) {\n      return this.connection.send({\n        doc: this.name,\n        meta: {\n          path: ['shout'],\n          value: msg\n        }\n      });\n    };\n\n    Doc.prototype.open = function(callback) {\n      var message,\n        _this = this;\n\n      this.autoOpen = true;\n      if (this.state !== 'closed') {\n        return;\n      }\n      message = {\n        doc: this.name,\n        open: true\n      };\n      if (this.snapshot === void 0) {\n        message.snapshot = null;\n      }\n      if (this.type) {\n        message.type = this.type.name;\n      }\n      if (this.version != null) {\n        message.v = this.version;\n      }\n      if (this._create) {\n        message.create = true;\n      }\n      this.connection.send(message);\n      this.state = 'opening';\n      return this._openCallback = function(error) {\n        _this._openCallback = null;\n        return typeof callback === \"function\" ? callback(error) : void 0;\n      };\n    };\n\n    Doc.prototype.close = function(callback) {\n      this.autoOpen = false;\n      if (this.state === 'closed') {\n        return typeof callback === \"function\" ? callback() : void 0;\n      }\n      this.connection.send({\n        doc: this.name,\n        open: false\n      });\n      this.state = 'closed';\n      this.emit('closing');\n      return this._closeCallback = callback;\n    };\n\n    return Doc;\n\n  })();\n\n  if (typeof WEB === \"undefined\" || WEB === null) {\n    MicroEvent = require('./microevent');\n  }\n\n  MicroEvent.mixin(Doc);\n\n  exports.Doc = Doc;\n\n  /*\n  This behaves like a WebSocket in every way, except if it fails to connect,\n  or it gets disconnected, it will repeatedly poll until it succesfully connects\n  again.\n  \n  It is API compatible, so when you have:\n  ws = new WebSocket('ws://....');\n  you can replace with:\n  ws = new ReconnectingWebSocket('ws://....');\n  \n  The event stream will typically look like:\n  onopen\n  onmessage\n  onmessage\n  onclose // lost connection\n  onopen  // sometime later...\n  onmessage\n  onmessage\n  etc...\n  \n  It is API compatible with the standard WebSocket API.\n  \n  Inspired from: https://github.com/joewalnes/reconnecting-websocket/\n  Contributors:\n  - Joe Walnes\n  - Didier Colens\n  - Wout Mertens\n  */\n\n\n  ReconnectingWebSocket = (function() {\n    function ReconnectingWebSocket(url, protocols, Socket) {\n      var connect, timedOut,\n        _this = this;\n\n      if ((protocols != null) && typeof protocols === 'function') {\n        Socket = protocols;\n        protocols = void 0;\n      } else if (typeof Socket !== 'function') {\n        Socket = WebSocket;\n      }\n      this.debug = this.debugAll;\n      this.reconnectInterval = 1000;\n      this.timeoutInterval = 2000;\n      this.forcedClose = false;\n      this.url = url;\n      this.protocols = protocols;\n      this.readyState = Socket.CONNECTING;\n      this.URL = url;\n      timedOut = false;\n      connect = function(reconnectAttempt) {\n        var timeout;\n\n        _this.ws = new Socket(_this.url);\n        if (_this.debug) {\n          console.debug(\"ReconnectingWebSocket\", \"attempt-connect\", _this.url);\n        }\n        timeout = setTimeout(function() {\n          if (_this.debug) {\n            console.debug(\"ReconnectingWebSocket\", \"connection-timeout\", _this.url);\n          }\n          timedOut = true;\n          _this.ws.close();\n          return timedOut = false;\n        }, _this.timeoutInterval);\n        _this.ws.onopen = function(event) {\n          clearTimeout(timeout);\n          if (_this.debug) {\n            console.debug(\"ReconnectingWebSocket\", \"onopen\", _this.url);\n          }\n          _this.readyState = Socket.OPEN;\n          reconnectAttempt = false;\n          return _this.onopen(event);\n        };\n        _this.ws.onclose = function(event) {\n          clearTimeout(timeout);\n          _this.ws = null;\n          if (_this.forcedClose) {\n            _this.readyState = Socket.CLOSED;\n            return _this.onclose(event);\n          } else {\n            _this.readyState = Socket.CONNECTING;\n            _this.onconnecting(event);\n            if (!reconnectAttempt && !timedOut) {\n              if (_this.debug) {\n                console.debug(\"ReconnectingWebSocket\", \"onclose\", _this.url);\n              }\n              _this.onclose(event);\n            }\n            return setTimeout((function() {\n              return connect(true);\n            }), _this.reconnectInterval);\n          }\n        };\n        _this.ws.onmessage = function(event) {\n          if (_this.debug) {\n            console.debug(\"ReconnectingWebSocket\", \"onmessage\", _this.url, event.data);\n          }\n          return _this.onmessage(event);\n        };\n        return _this.ws.onerror = function(event) {\n          if (_this.debug) {\n            console.debug(\"ReconnectingWebSocket\", \"onerror\", _this.url, event);\n          }\n          return _this.onerror(event);\n        };\n      };\n      connect(this.url);\n    }\n\n    ReconnectingWebSocket.prototype.onopen = function(event) {};\n\n    ReconnectingWebSocket.prototype.onclose = function(event) {};\n\n    ReconnectingWebSocket.prototype.onconnecting = function(event) {};\n\n    ReconnectingWebSocket.prototype.onmessage = function(event) {};\n\n    ReconnectingWebSocket.prototype.onerror = function(event) {};\n\n    ReconnectingWebSocket.prototype.send = function(data) {\n      if (this.ws) {\n        if (this.debug) {\n          console.debug(\"ReconnectingWebSocket\", \"send\", this.url, data);\n        }\n        return this.ws.send(data);\n      } else {\n        throw \"INVALID_STATE_ERR : Pausing to reconnect websocket\";\n      }\n    };\n\n    ReconnectingWebSocket.prototype.close = function() {\n      if (this.ws) {\n        this.forcedClose = true;\n        return this.ws.close();\n      }\n    };\n\n    /*\n    Setting this to true is the equivalent of setting all instances of ReconnectingWebSocket.debug to true.\n    */\n\n\n    ReconnectingWebSocket.prototype.debugAll = false;\n\n    /*\n    Additional public API method to refresh the connection if still open (close, re-open).\n    For example, if the app suspects bad data / missed heart beats, it can try to refresh.\n    */\n\n\n    ReconnectingWebSocket.prototype.refresh = function() {\n      if (this.ws) {\n        return this.ws.close();\n      }\n    };\n\n    return ReconnectingWebSocket;\n\n  })();\n\n  if (typeof WEB !== \"undefined\" && WEB !== null) {\n    types = exports.types;\n    BCSocket = window.BCSocket, SockJS = window.SockJS, WebSocket = window.WebSocket;\n    if (BCSocket) {\n      socketImpl = 'channel';\n    } else {\n      if (SockJS) {\n        socketImpl = 'sockjs';\n      } else {\n        socketImpl = 'websocket';\n      }\n    }\n  } else {\n    types = require('../types');\n    BCSocket = require('browserchannel').BCSocket;\n    Doc = require('./doc').Doc;\n    WebSocket = require('ws');\n    socketImpl = null;\n  }\n\n  Connection = (function() {\n    function Connection(host, authentication) {\n      var _this = this;\n\n      this.docs = {};\n      this.state = 'connecting';\n      if (socketImpl == null) {\n        if (host.match(/^ws:/)) {\n          socketImpl = 'websocket';\n        }\n      }\n      this.socket = (function() {\n        switch (socketImpl) {\n          case 'channel':\n            return new BCSocket(host, {\n              reconnect: true\n            });\n          case 'sockjs':\n            return new ReconnectingWebSocket(host, SockJS);\n          case 'websocket':\n            return new ReconnectingWebSocket(host);\n          default:\n            return new BCSocket(host, {\n              reconnect: true\n            });\n        }\n      })();\n      this.socket.onmessage = function(msg) {\n        var docName;\n\n        if (socketImpl === 'sockjs' || socketImpl === 'websocket') {\n          msg = JSON.parse(msg.data);\n        }\n        if (msg.auth === null) {\n          _this.lastError = msg.error;\n          _this.disconnect();\n          return _this.emit('connect failed', msg.error);\n        } else if (msg.auth) {\n          _this.id = msg.auth;\n          _this.setState('ok');\n          return;\n        }\n        docName = msg.doc;\n        if (docName !== void 0) {\n          _this.lastReceivedDoc = docName;\n        } else {\n          msg.doc = docName = _this.lastReceivedDoc;\n        }\n        if (_this.docs[docName]) {\n          return _this.docs[docName]._onMessage(msg);\n        } else {\n          return typeof console !== \"undefined\" && console !== null ? console.error('Unhandled message', msg) : void 0;\n        }\n      };\n      this.connected = false;\n      this.socket.onclose = function(reason) {\n        _this.setState('disconnected', reason);\n        if (reason === 'Closed' || reason === 'Stopped by server') {\n          return _this.setState('stopped', _this.lastError || reason);\n        }\n      };\n      this.socket.onerror = function(e) {\n        return _this.emit('error', e);\n      };\n      this.socket.onopen = function() {\n        _this.send({\n          auth: authentication ? authentication : null\n        });\n        _this.lastError = _this.lastReceivedDoc = _this.lastSentDoc = null;\n        return _this.setState('handshaking');\n      };\n      this.socket.onconnecting = function() {\n        return _this.setState('connecting');\n      };\n    }\n\n    Connection.prototype.setState = function(state, data) {\n      var doc, docName, _ref, _results;\n\n      if (this.state === state) {\n        return;\n      }\n      this.state = state;\n      if (state === 'disconnected') {\n        delete this.id;\n      }\n      this.emit(state, data);\n      _ref = this.docs;\n      _results = [];\n      for (docName in _ref) {\n        doc = _ref[docName];\n        _results.push(doc._connectionStateChanged(state, data));\n      }\n      return _results;\n    };\n\n    Connection.prototype.send = function(data) {\n      var docName;\n\n      if (data.doc) {\n        docName = data.doc;\n        if (docName === this.lastSentDoc) {\n          delete data.doc;\n        } else {\n          this.lastSentDoc = docName;\n        }\n      }\n      if (socketImpl === 'sockjs' || socketImpl === 'websocket') {\n        data = JSON.stringify(data);\n      }\n      return this.socket.send(data);\n    };\n\n    Connection.prototype.disconnect = function() {\n      return this.socket.close();\n    };\n\n    Connection.prototype.makeDoc = function(name, data, callback) {\n      var doc,\n        _this = this;\n\n      if (this.docs[name]) {\n        throw new Error(\"Doc \" + name + \" already open\");\n      }\n      doc = new Doc(this, name, data);\n      this.docs[name] = doc;\n      return doc.open(function(error) {\n        if (error) {\n          delete _this.docs[name];\n        }\n        if (!error) {\n          doc.on('closed', function() {\n            if (!doc.autoOpen) {\n              return delete _this.docs[name];\n            }\n          });\n        }\n        return callback(error, (!error ? doc : void 0));\n      });\n    };\n\n    Connection.prototype.openExisting = function(docName, callback) {\n      var doc;\n\n      if (this.state === 'stopped') {\n        return callback('connection closed');\n      }\n      if (this.docs[docName]) {\n        return this._ensureOpenState(this.docs[docName], callback);\n      }\n      return doc = this.makeDoc(docName, {}, callback);\n    };\n\n    Connection.prototype.open = function(docName, type, callback) {\n      var doc;\n\n      if (this.state === 'stopped') {\n        return callback('connection closed');\n      }\n      if (this.state === 'connecting') {\n        this.on('handshaking', function() {\n          this.open(docName, type, callback);\n          return callback = null;\n        });\n        return;\n      }\n      if (typeof type === 'function') {\n        callback = type;\n        type = 'text';\n      }\n      callback || (callback = function() {});\n      if (typeof type === 'string') {\n        type = types[type];\n      }\n      if (!type) {\n        throw new Error(\"OT code for document type missing\");\n      }\n      if (docName == null) {\n        throw new Error('Server-generated random doc names are not currently supported');\n      }\n      if (this.docs[docName]) {\n        doc = this.docs[docName];\n        if (doc.type === type) {\n          this._ensureOpenState(doc, callback);\n        } else {\n          callback('Type mismatch', doc);\n        }\n        return;\n      }\n      return this.makeDoc(docName, {\n        create: true,\n        type: type.name\n      }, callback);\n    };\n\n    Connection.prototype._ensureOpenState = function(doc, callback) {\n      switch (doc.state) {\n        case 'open':\n          callback(null, doc);\n          break;\n        case 'opening':\n          this.on('open', function() {\n            return callback(null, doc);\n          });\n          break;\n        case 'closed':\n          doc.open(function(error) {\n            return callback(error, (!error ? doc : void 0));\n          });\n      }\n    };\n\n    return Connection;\n\n  })();\n\n  if (typeof WEB === \"undefined\" || WEB === null) {\n    MicroEvent = require('./microevent');\n  }\n\n  MicroEvent.mixin(Connection);\n\n  exports.Connection = Connection;\n\n  if (typeof WEB !== \"undefined\" && WEB !== null) {\n    hasBCSocket = window.BCSocket !== void 0;\n    hasSockJS = window.SockJS !== void 0;\n    if (hasBCSocket) {\n      socketImpl = 'channel';\n    } else {\n      if (hasSockJS) {\n        socketImpl = 'sockjs';\n      } else {\n        socketImpl = 'websocket';\n      }\n    }\n  } else {\n    Connection = require('./connection').Connection;\n  }\n\n  exports.open = (function() {\n    var connections, getConnection, maybeClose;\n\n    connections = {};\n    getConnection = function(origin, authentication) {\n      var c, del, location, protocol;\n\n      if ((typeof WEB !== \"undefined\" && WEB !== null) && (origin == null)) {\n        location = window.location;\n        protocol = socketImpl === 'websocket' ? 'ws:' : location.protocol;\n        origin = \"\" + protocol + \"//\" + location.host + \"/\" + socketImpl;\n      }\n      if (!connections[origin]) {\n        c = new Connection(origin, authentication);\n        del = function() {\n          return delete connections[origin];\n        };\n        c.on('disconnected', del);\n        c.on('connect failed', del);\n        connections[origin] = c;\n      }\n      return connections[origin];\n    };\n    maybeClose = function(c) {\n      var doc, name, numDocs, _ref;\n\n      numDocs = 0;\n      _ref = c.docs;\n      for (name in _ref) {\n        doc = _ref[name];\n        if (doc.state !== 'closed' || doc.autoOpen) {\n          numDocs++;\n        }\n      }\n      if (numDocs === 0) {\n        return c.disconnect();\n      }\n    };\n    return function(docName, type, options, callback) {\n      var authentication, c, origin;\n\n      if (typeof options === 'function') {\n        callback = options;\n        options = {};\n      }\n      if (typeof options === 'string') {\n        options = {\n          'origin': options\n        };\n      }\n      origin = options.origin;\n      authentication = options.authentication;\n      c = getConnection(origin, authentication);\n      c.open(docName, type, function(error, doc) {\n        if (error) {\n          callback(error);\n          return maybeClose(c);\n        } else {\n          doc.on('closed', function() {\n            return maybeClose(c);\n          });\n          return callback(null, doc);\n        }\n      });\n      c.on('connect failed');\n      return c;\n    };\n  })();\n\n  if (typeof WEB === \"undefined\" || WEB === null) {\n    exports.Doc = require('./doc').Doc;\n    exports.Connection = require('./connection').Connection;\n  }\n\n}).call(this);\n","// Generated by CoffeeScript 1.6.2\n(function() {\n  var applyChange;\n\n  applyChange = function(doc, oldval, newval) {\n    var commonEnd, commonStart;\n\n    if (oldval === newval) {\n      return;\n    }\n    commonStart = 0;\n    while (oldval.charAt(commonStart) === newval.charAt(commonStart)) {\n      commonStart++;\n    }\n    commonEnd = 0;\n    while (oldval.charAt(oldval.length - 1 - commonEnd) === newval.charAt(newval.length - 1 - commonEnd) && commonEnd + commonStart < oldval.length && commonEnd + commonStart < newval.length) {\n      commonEnd++;\n    }\n    if (oldval.length !== commonStart + commonEnd) {\n      doc.del(commonStart, oldval.length - commonStart - commonEnd);\n    }\n    if (newval.length !== commonStart + commonEnd) {\n      return doc.insert(commonStart, newval.slice(commonStart, newval.length - commonEnd));\n    }\n  };\n\n  window.sharejs.extendDoc('attach_textarea', function(elem) {\n    var delete_listener, doc, event, genOp, insert_listener, prevvalue, replaceText, _i, _len, _ref,\n      _this = this;\n\n    doc = this;\n    elem.value = this.getText();\n    prevvalue = elem.value;\n    replaceText = function(newText, transformCursor) {\n      var newSelection, scrollTop;\n\n      newSelection = [transformCursor(elem.selectionStart), transformCursor(elem.selectionEnd)];\n      scrollTop = elem.scrollTop;\n      elem.value = newText;\n      if (elem.scrollTop !== scrollTop) {\n        elem.scrollTop = scrollTop;\n      }\n      if (window.document.activeElement === elem) {\n        return elem.selectionStart = newSelection[0], elem.selectionEnd = newSelection[1], newSelection;\n      }\n    };\n    this.on('insert', insert_listener = function(pos, text) {\n      var transformCursor;\n\n      transformCursor = function(cursor) {\n        if (pos < cursor) {\n          return cursor + text.length;\n        } else {\n          return cursor;\n        }\n      };\n      prevvalue = elem.value.replace(/\\r\\n/g, '\\n');\n      return replaceText(prevvalue.slice(0, pos) + text + prevvalue.slice(pos), transformCursor);\n    });\n    this.on('delete', delete_listener = function(pos, text) {\n      var transformCursor;\n\n      transformCursor = function(cursor) {\n        if (pos < cursor) {\n          return cursor - Math.min(text.length, cursor - pos);\n        } else {\n          return cursor;\n        }\n      };\n      prevvalue = elem.value.replace(/\\r\\n/g, '\\n');\n      return replaceText(prevvalue.slice(0, pos) + prevvalue.slice(pos + text.length), transformCursor);\n    });\n    genOp = function(event) {\n      var onNextTick;\n\n      onNextTick = function(fn) {\n        return setTimeout(fn, 0);\n      };\n      return onNextTick(function() {\n        if (elem.value !== prevvalue) {\n          prevvalue = elem.value;\n          return applyChange(doc, doc.getText(), elem.value.replace(/\\r\\n/g, '\\n'));\n        }\n      });\n    };\n    _ref = ['textInput', 'keydown', 'keyup', 'select', 'cut', 'paste'];\n    for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n      event = _ref[_i];\n      if (elem.addEventListener) {\n        elem.addEventListener(event, genOp, false);\n      } else {\n        elem.attachEvent('on' + event, genOp);\n      }\n    }\n    return elem.detach_share = function() {\n      var _j, _len1, _ref1, _results;\n\n      _this.removeListener('insert', insert_listener);\n      _this.removeListener('delete', delete_listener);\n      _ref1 = ['textInput', 'keydown', 'keyup', 'select', 'cut', 'paste'];\n      _results = [];\n      for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {\n        event = _ref1[_j];\n        if (elem.removeEventListener) {\n          _results.push(elem.removeEventListener(event, genOp, false));\n        } else {\n          _results.push(elem.detachEvent('on' + event, genOp));\n        }\n      }\n      return _results;\n    };\n  });\n\n}).call(this);\n","\nTemplate.__checkName(\"_sharejsText\");\nTemplate[\"_sharejsText\"] = new Template(\"Template._sharejsText\", (function() {\n  var view = this;\n  return HTML.TEXTAREA({\n    id: function() {\n      return Spacebars.mustache(view.lookup(\"id\"));\n    },\n    \"data-docid\": function() {\n      return Spacebars.mustache(view.lookup(\"docid\"));\n    },\n    \"class\": \"shareJSText\",\n    disabled: \"\",\n    value: \"Loading...\"\n  });\n}));\n","class ShareJSConnector\n\n  getOptions = ->\n    origin: '//' + window.location.host + '/channel'\n    authentication: Meteor.userId?() or null # accounts-base may not be in the app\n\n  constructor: (parentView) ->\n    # Create a ReactiveVar that tracks the docId that was passed in\n    docIdVar = new Blaze.ReactiveVar\n\n    parentView.onViewReady ->\n      this.autorun ->\n        data = Blaze.getData()\n        docIdVar.set(data.docid)\n\n    parentView.onViewDestroyed =>\n      this.destroy()\n\n    @isCreated = false\n    @docIdVar = docIdVar\n\n    # Configure any callbacks if specified\n    params = Blaze.getData(parentView)\n    @configCallback = params.onRender\n    @connectCallback = params.onConnect\n\n  create: ->\n    throw new Error(\"Already created\") if @isCreated\n    connector = this\n    @isCreated = true\n\n    @view = @createView()\n    @view.onViewReady ->\n      connector.rendered( this.firstNode() )\n\n      this.autorun ->\n        # By grabbing docId here, we ensure that we only try to connect when\n        # this is rendered.\n        docId = connector.docIdVar.get()\n\n        # Disconnect any existing connections\n        connector.disconnect()\n        connector.connect(docId) if docId\n\n    return @view\n\n  # Set up the context when rendered.\n  rendered: (element) ->\n    this.element = element\n\n  # Connect to a document.\n  connect: (docId, element) ->\n    @connectingId = docId\n\n    sharejs.open docId, 'text', getOptions(), (error, doc) =>\n      if error\n        Meteor._debug(error)\n        return\n\n      # Don't attach if re-render happens too quickly and we're trying to\n      # connect to a different document now.\n      unless @connectingId is doc.name\n        doc.close() # Close immediately\n      else\n        @attach(doc)\n\n  # Attach shareJS to the on-screen editor\n  attach: (doc) ->\n    @doc = doc\n\n  # Disconnect from ShareJS. This should be idempotent.\n  disconnect: ->\n    # Close connection to the ShareJS doc\n    if @doc?\n      @doc.close()\n      @doc = null\n\n  # Destroy the connector and make sure everything's disconnected.\n  destroy: ->\n    throw new Error(\"Already destroyed\") if @isDestroyed\n\n    @disconnect()\n    @view = null\n    @isDestroyed = true\n\nclass ShareJSTextConnector extends ShareJSConnector\n\n  createView: ->\n    return Blaze.With(Blaze.getData, -> Template._sharejsText)\n\n  rendered: (element) ->\n    super\n    @textarea = element\n    @configCallback?(@textarea)\n\n  connect: ->\n    @textarea.disabled = true\n    super\n\n  attach: (doc) ->\n    super\n    doc.attach_textarea(@textarea)\n    @textarea.disabled = false\n    @connectCallback?(@textarea)\n\n  disconnect: ->\n    @textarea?.detach_share?()\n    super\n\n  destroy: ->\n    super\n    # Meteor._debug \"destroying textarea editor\"\n    @textarea = null\n\nUI.registerHelper \"sharejsText\", new Template('sharejsText', ->\n  return new ShareJSTextConnector(this).create()\n)\n"]}