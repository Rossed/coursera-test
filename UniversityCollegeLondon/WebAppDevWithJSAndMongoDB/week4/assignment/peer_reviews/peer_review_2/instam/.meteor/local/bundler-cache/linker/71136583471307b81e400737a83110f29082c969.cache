[{"type":"js","data":"/* Imports for global scope */\n\nMongoInternals = Package.mongo.MongoInternals;\nMongo = Package.mongo.Mongo;\nReactiveVar = Package['reactive-var'].ReactiveVar;\nTracker = Package.tracker.Tracker;\nDeps = Package.tracker.Deps;\nECMAScript = Package.ecmascript.ECMAScript;\nRouter = Package['iron:router'].Router;\nRouteController = Package['iron:router'].RouteController;\nMeteor = Package.meteor.Meteor;\nglobal = Package.meteor.global;\nmeteorEnv = Package.meteor.meteorEnv;\nWebApp = Package.webapp.WebApp;\nmain = Package.webapp.main;\nWebAppInternals = Package.webapp.WebAppInternals;\n_ = Package.underscore._;\nDDP = Package['ddp-client'].DDP;\nDDPServer = Package['ddp-server'].DDPServer;\nLaunchScreen = Package['launch-screen'].LaunchScreen;\nBlaze = Package.ui.Blaze;\nUI = Package.ui.UI;\nHandlebars = Package.ui.Handlebars;\nSpacebars = Package.spacebars.Spacebars;\nmeteorInstall = Package.modules.meteorInstall;\nBuffer = Package.modules.Buffer;\nprocess = Package.modules.process;\nSymbol = Package['ecmascript-runtime'].Symbol;\nMap = Package['ecmascript-runtime'].Map;\nSet = Package['ecmascript-runtime'].Set;\nmeteorBabelHelpers = Package['babel-runtime'].meteorBabelHelpers;\nPromise = Package.promise.Promise;\nIron = Package['iron:core'].Iron;\nAccounts = Package['accounts-base'].Accounts;\nSimpleSchema = Package['aldeed:simple-schema'].SimpleSchema;\nMongoObject = Package['aldeed:simple-schema'].MongoObject;\nCollection2 = Package['aldeed:collection2-core'].Collection2;\nAutoupdate = Package.autoupdate.Autoupdate;\nHTML = Package.htmljs.HTML;\n\n","servePath":"/packages/global-imports.js"},{"type":"js","data":"var require = meteorInstall({\"lib\":{\"collections.js\":function(){\n\n///////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                       //\n// lib/collections.js                                                                    //\n//                                                                                       //\n///////////////////////////////////////////////////////////////////////////////////////////\n                                                                                         //\nChats = new Mongo.Collection(\"chats\");                                                   // 1\n///////////////////////////////////////////////////////////////////////////////////////////\n\n},\"schema.js\":function(){\n\n///////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                       //\n// lib/schema.js                                                                         //\n//                                                                                       //\n///////////////////////////////////////////////////////////////////////////////////////////\n                                                                                         //\nChats.attachSchema(new SimpleSchema({                                                    // 1\n\tmessage: {                                                                              // 2\n\t\ttype: String,                                                                          // 3\n\t\tmax: 500                                                                               // 4\n\t},                                                                                      // 2\n\tfrom: {                                                                                 // 6\n\t\ttype: String,                                                                          // 7\n\t\toptional: true                                                                         // 8\n\t},                                                                                      // 6\n\tto: {                                                                                   // 10\n\t\ttype: String,                                                                          // 11\n\t\toptional: true                                                                         // 12\n\t},                                                                                      // 10\n\tcreatedOn: {                                                                            // 14\n\t\ttype: Date,                                                                            // 15\n\t\toptional: true                                                                         // 16\n\t}                                                                                       // 14\n}));                                                                                     // 1\n///////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"common\":{\"methods.js\":function(){\n\n///////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                       //\n// common/methods.js                                                                     //\n//                                                                                       //\n///////////////////////////////////////////////////////////////////////////////////////////\n                                                                                         //\nvar now;                                                                                 // 1\n                                                                                         //\nMeteor.methods({                                                                         // 3\n\tsendValue: function sendValue(value) {                                                  // 4\n\t\tnow = value;                                                                           // 5\n\t\t//console.log(now + \" server\");                                                        //\n\t},                                                                                      // 7\n                                                                                         //\n\tsendMsg: function sendMsg(message) {                                                    // 9\n\t\tmessage.from = this.userId;                                                            // 10\n\t\tmessage.to = now;                                                                      // 11\n\t\tmessage.createdOn = new Date();                                                        // 12\n\t\tChats.insert(message);                                                                 // 13\n\t}                                                                                       // 14\n});                                                                                      // 3\n///////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"server\":{\"startup.js\":function(){\n\n///////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                       //\n// server/startup.js                                                                     //\n//                                                                                       //\n///////////////////////////////////////////////////////////////////////////////////////////\n                                                                                         //\nMeteor.startup(function () {                                                             // 1\n\tif (!Meteor.users.findOne()) {                                                          // 2\n\t\tfor (var i = 1; i < 5; i++) {                                                          // 3\n\t\t\tvar email = \"user\" + i + \"@test.com\";                                                 // 4\n\t\t\tvar username = \"user\" + i;                                                            // 5\n\t\t\tvar avatar = \"avator\" + i + \".png\";                                                   // 6\n\t\t\tconsole.log(\"creating a user with password 'test123' and username/ email: \" + email);\n\t\t\tMeteor.users.insert({ profile: { username: username, avatar: avatar }, emails: [{ address: email }], services: { password: { \"bcrypt\": \"$2a$10$I3erQ084OiyILTv8ybtQ4ON6wusgPbMZ6.P33zzSDei.BbDL.Q4EO\" } } });\n\t\t}                                                                                      // 9\n\t}                                                                                       // 10\n});                                                                                      // 11\n///////////////////////////////////////////////////////////////////////////////////////////\n\n},\"main.js\":function(){\n\n///////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                       //\n// server/main.js                                                                        //\n//                                                                                       //\n///////////////////////////////////////////////////////////////////////////////////////////\n                                                                                         //\n//read access                                                                            //\n                                                                                         //\nMeteor.publish(\"users\", function () {                                                    // 3\n\tif (this.userId) {                                                                      // 4\n\t\treturn Meteor.users.find({});                                                          // 5\n\t} else {                                                                                // 6\n\t\treturn undefined;                                                                      // 7\n\t}                                                                                       // 8\n});                                                                                      // 9\n                                                                                         //\nMeteor.publish(\"chats\", function () {                                                    // 11\n\tif (this.userId) {                                                                      // 12\n\t\treturn Chats.find({});                                                                 // 13\n\t} else {                                                                                // 14\n\t\treturn undefined;                                                                      // 15\n\t}                                                                                       // 16\n});                                                                                      // 17\n///////////////////////////////////////////////////////////////////////////////////////////\n\n}}},{\"extensions\":[\".js\",\".json\"]});\nrequire(\"./lib/collections.js\");\nrequire(\"./lib/schema.js\");\nrequire(\"./common/methods.js\");\nrequire(\"./server/startup.js\");\nrequire(\"./server/main.js\");","servePath":"/app.js","sourceMap":{"version":3,"sources":["/lib/collections.js","/lib/schema.js","/common/methods.js","/server/startup.js","/server/main.js"],"names":[],"mappings":";;;;;;;;AAAA,QAAQ,IAAI,MAAM,UAAV,CAAqB,OAArB,CAAR,wD;;;;;;;;;;;ACAA,MAAM,YAAN,CAAmB,IAAI,YAAJ,CAAiB;AACnC,UAAS;AACR,QAAM,MADE;AAER,OAAK;AAFG,EAD0B;AAKnC,OAAM;AACL,QAAM,MADD;AAEL,YAAU;AAFL,EAL6B;AASnC,KAAI;AACH,QAAM,MADH;AAEH,YAAU;AAFP,EAT+B;AAanC,YAAW;AACV,QAAM,IADI;AAET,YAAU;AAFD;AAbwB,CAAjB,CAAnB,2F;;;;;;;;;;;ACAA,IAAI,GAAJ;;AAEA,OAAO,OAAP,CAAe;AACd,YAAW,mBAAS,KAAT,EAAgB;AAC1B,QAAM,KAAN;;AAEA,EAJa;;AAMd,UAAS,iBAAS,OAAT,EAAkB;AAC1B,UAAQ,IAAR,GAAe,KAAK,MAApB;AACA,UAAQ,EAAR,GAAa,GAAb;AACA,UAAQ,SAAR,GAAoB,IAAI,IAAJ,EAApB;AACA,QAAM,MAAN,CAAa,OAAb;AACA;AAXa,CAAf,4F;;;;;;;;;;;ACFA,OAAO,OAAP,CAAe,YAAW;AACzB,KAAI,CAAC,OAAO,KAAP,CAAa,OAAb,EAAL,EAA6B;AAC5B,OAAK,IAAI,IAAE,CAAX,EAAa,IAAE,CAAf,EAAiB,GAAjB,EAAqB;AACd,OAAI,QAAQ,SAAO,CAAP,GAAS,WAArB;AACA,OAAI,WAAW,SAAO,CAAtB;AACA,OAAI,SAAS,WAAS,CAAT,GAAW,MAAxB;AACA,WAAQ,GAAR,CAAY,kEAAgE,KAA5E;AACA,UAAO,KAAP,CAAa,MAAb,CAAoB,EAAC,SAAQ,EAAC,UAAS,QAAV,EAAoB,QAAO,MAA3B,EAAT,EAA6C,QAAO,CAAC,EAAC,SAAQ,KAAT,EAAD,CAApD,EAAsE,UAAS,EAAE,UAAS,EAAC,UAAW,8DAAZ,EAAX,EAA/E,EAApB;AACD;AACN;AACD,CAVD,6F;;;;;;;;;;;;;ACEA,OAAO,OAAP,CAAe,OAAf,EAAwB,YAAW;AAClC,KAAI,KAAK,MAAT,EAAiB;AAChB,SAAO,OAAO,KAAP,CAAa,IAAb,CAAkB,EAAlB,CAAP;AACA,EAFD,MAEO;AACN,SAAO,SAAP;AACA;AACD,CAND;;AAQA,OAAO,OAAP,CAAe,OAAf,EAAwB,YAAW;AAClC,KAAI,KAAK,MAAT,EAAiB;AAChB,SAAO,MAAM,IAAN,CAAW,EAAX,CAAP;AACA,EAFD,MAEO;AACN,SAAO,SAAP;AACA;AACD,CAND,6F","file":"/app.js","sourcesContent":["Chats = new Mongo.Collection(\"chats\");","Chats.attachSchema(new SimpleSchema({\n\tmessage: {\n\t\ttype: String,\n\t\tmax: 500\n\t},\n\tfrom: {\n\t\ttype: String,\n\t\toptional: true\n\t},\n\tto: {\n\t\ttype: String,\n\t\toptional: true\n\t},\n\tcreatedOn: {\n\t\ttype: Date,\n\t \toptional: true\n\t}\n}));","var now;\n\nMeteor.methods({\n\tsendValue: function(value) {\n\t\tnow = value;\n\t\t//console.log(now + \" server\");\n\t},\n\n\tsendMsg: function(message) {\n\t\tmessage.from = this.userId;\n\t\tmessage.to = now;\n\t\tmessage.createdOn = new Date();\n\t\tChats.insert(message);\n\t}\n});","Meteor.startup(function() {\n\tif (!Meteor.users.findOne()) {\n\t\tfor (var i=1;i<5;i++){\n\t        var email = \"user\"+i+\"@test.com\";\n\t        var username = \"user\"+i;\n\t        var avatar = \"avator\"+i+\".png\"\n\t        console.log(\"creating a user with password 'test123' and username/ email: \"+email);\n\t        Meteor.users.insert({profile:{username:username, avatar:avatar}, emails:[{address:email}],services:{ password:{\"bcrypt\" : \"$2a$10$I3erQ084OiyILTv8ybtQ4ON6wusgPbMZ6.P33zzSDei.BbDL.Q4EO\"}}});\n      \t}\n\t}\n});","//read access \n\nMeteor.publish(\"users\", function() {\n\tif (this.userId) {\n\t\treturn Meteor.users.find({});\n\t} else {\n\t\treturn undefined;\n\t}\n});\n\nMeteor.publish(\"chats\", function() {\n\tif (this.userId) {\n\t\treturn Chats.find({});\n\t} else {\n\t\treturn undefined;\n\t}\n});"]}}]