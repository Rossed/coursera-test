{"version":3,"sources":["meteor://ðŸ’»app/client/template.about.js","meteor://ðŸ’»app/client/template.chat.js","meteor://ðŸ’»app/client/template.home.js","meteor://ðŸ’»app/client/template.messageForm.js","meteor://ðŸ’»app/client/template.nav.js","meteor://ðŸ’»app/client/template.userList.js","meteor://ðŸ’»app/client/template.main.js","meteor://ðŸ’»app/client/accounts.js","meteor://ðŸ’»app/client/events.js","meteor://ðŸ’»app/client/helpers.js","meteor://ðŸ’»app/client/routes.js","meteor://ðŸ’»app/client/main.js","meteor://ðŸ’»app/lib/collections.js","meteor://ðŸ’»app/lib/schema.js","meteor://ðŸ’»app/common/methods.js"],"names":[],"mappings":";;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA,qG;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sG;;;;;;;;;;;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sG;;;;;;;;;;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sG;;;;;;;;;;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sG;;;;;;;;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sG;;;;;;;;;;;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sG;;;;;;;;;;;ACpBA,SAAS,YAAT,CAAsB,QAAtB,GAAiC,YAAW;AAC3C,KAAI,SAAS,OAAO,MAAP,EAAb;AACA,KAAI,CAAC,MAAL,EAAa;AACZ,WAAS,oBAAT,CAA8B,GAA9B,CAAkC,iBAAlC,EAAqD,IAArD;AACA,EAFD,MAEO;AACN,WAAS,oBAAT,CAA8B,GAA9B,CAAkC,iBAAlC,EAAqD,KAArD;AACA;AACD,C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","file":"/app.js","sourcesContent":["\nTemplate.__checkName(\"about\");\nTemplate[\"about\"] = new Template(\"Template.about\", (function() {\n  var view = this;\n  return HTML.Raw('<div class=\"container\">\\n\t\t<div class=\"row\">\\n\t\t\t<div class=\"jumbotron top-under well-color\">\\n\t\t\t  <h1>INSTAM :)</h1>\\n\t\t\t  <p>An instant messaging app*. Created with Meteor.</p>\\n\t\t\t  <h5>* still under heavy development</h5>\\n\t\t\t  <p><a class=\"btn btn-primary btn-lg\" href=\"https://github.com/sudosparrowhawk/full-stack/tree/master/instam\" target=\"blank\" role=\"button\">Learn more</a></p>\\n\t\t\t</div>\\n\t\t</div>\\n\t</div>');\n}));\n","\nTemplate.__checkName(\"chat\");\nTemplate[\"chat\"] = new Template(\"Template.chat\", (function() {\n  var view = this;\n  return HTML.DIV({\n    \"class\": \"container top-under\"\n  }, \"\\n\t\t\", HTML.DIV({\n    \"class\": \"row\"\n  }, \"\\n\t\t\t\", HTML.DIV({\n    \"class\": \"nowUser\"\n  }, \"\\n\t\t\t\t\", HTML.H4(HTML.SPAN({\n    \"class\": \"label label-info\"\n  }, Blaze.View(\"lookup:nowUser\", function() {\n    return Spacebars.mustache(view.lookup(\"nowUser\"));\n  }))), \"\\n\t\t\t\"), \"\\n\t\t\t\", HTML.DIV({\n    \"class\": \"col-md-6 col-xs-12\"\n  }, \"\\n\t\t\t\t\", HTML.DIV({\n    \"class\": \"well well-lg well-color level-up-this\"\n  }, \"\\n\t\t\t\t\t\", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"history\"));\n  }, function() {\n    return [ \"\\n\t\t\t\t\t\t\", HTML.IMG({\n      src: function() {\n        return [ \"/\", Spacebars.mustache(view.lookup(\"getAvatar\"), view.lookup(\"from\")) ];\n      },\n      \"class\": \"small-avatar\"\n    }), \"\\n\t\t\t\t\t\t\", HTML.SPAN({\n      \"class\": \"label label-default\"\n    }, Blaze.View(\"lookup:getUsername\", function() {\n      return Spacebars.mustache(view.lookup(\"getUsername\"), view.lookup(\"from\"));\n    })), \"\\n\t\t\t\t\t\t : \", Blaze.View(\"lookup:message\", function() {\n      return Spacebars.mustache(view.lookup(\"message\"));\n    }), \"\\n\t\t\t\t\t\t\", HTML.BR(), \"\\n\t\t\t\t\t\" ];\n  }), \"\\n\t\t\t\t\"), \"\\n\t\t\t\"), \"\\n\\n\t\t\t\", HTML.DIV({\n    \"class\": \"col-md-6 col-xs-12\"\n  }, \"\\n\t\t\t\t\", Spacebars.include(view.lookupTemplate(\"messageForm\")), \"\\n\t\t\t\"), \"\\n\t\t\"), \"\\n\t\");\n}));\n","\nTemplate.__checkName(\"home\");\nTemplate[\"home\"] = new Template(\"Template.home\", (function() {\n  var view = this;\n  return HTML.DIV({\n    \"class\": \"container\"\n  }, \"\\n\t\t\", HTML.DIV({\n    \"class\": \"jumbotron jumbo-color\"\n  }, \"\\n\t\t\t\", HTML.Raw('<div class=\"jumbo-text\">\\n\t\t\t\t<h2>LogIn/SignUp before continue.</h2>\\n\t\t\t</div>'), \"\\n\t\t\t\", HTML.Raw(\"<br>\"), \"\\n\t\t\t\", HTML.DIV({\n    \"class\": \"login-buttons\"\n  }, \"\\n\t\t\t\t\", Spacebars.include(view.lookupTemplate(\"loginButtons\")), \"\\n\t\t\t\"), \"\\n\t\t\t\", HTML.Raw('<a href=\"/home\" id=\"continueBtn\" hidden=\"\"></a>'), \"\\n\t\t\"), \"\\n\t\");\n}));\n","\nTemplate.__checkName(\"messageForm\");\nTemplate[\"messageForm\"] = new Template(\"Template.messageForm\", (function() {\n  var view = this;\n  return Blaze._TemplateWith(function() {\n    return {\n      collection: Spacebars.call(\"Chats\"),\n      id: Spacebars.call(\"messageForm\"),\n      type: Spacebars.call(\"method\"),\n      meteormethod: Spacebars.call(\"sendMsg\")\n    };\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"autoForm\"), function() {\n      return [ \"\\n    \", HTML.DIV({\n        \"class\": \"row\"\n      }, \"\\n      \", HTML.DIV({\n        \"class\": \"col-md-10\"\n      }, \"\\n        \", HTML.FIELDSET(\"\\n          \", Blaze._TemplateWith(function() {\n        return {\n          name: Spacebars.call(\"message\"),\n          rows: Spacebars.call(2)\n        };\n      }, function() {\n        return Spacebars.include(view.lookupTemplate(\"afQuickField\"));\n      }), \"\\n         \"), \"\\n      \"), \"\\n      \", HTML.DIV({\n        \"class\": \"col-md-2\"\n      }, \"\\n        \", HTML.BUTTON({\n        type: \"submit\",\n        \"class\": \"btn send-btn\"\n      }, \"\\n        \", HTML.I({\n        \"class\": \"fa fa-paper-plane\",\n        \"aria-hidden\": \"true\"\n      }), \"\\n        SEND\"), \"\\n      \"), \"\\n    \"), \"\\n  \" ];\n    });\n  });\n}));\n","\nTemplate.__checkName(\"nav\");\nTemplate[\"nav\"] = new Template(\"Template.nav\", (function() {\n  var view = this;\n  return HTML.NAV({\n    \"class\": \"navbar navbar-default navbar-fixed-top nav-color\"\n  }, \"\\n    \", HTML.DIV({\n    \"class\": \"container-fluid\"\n  }, \"\\n      \", HTML.Raw(\"<!-- Brand and toggle get grouped for better mobile display -->\"), \"\\n      \", HTML.Raw('<div class=\"navbar-header\">\\n        <button type=\"button\" class=\"navbar-toggle collapsed\" data-toggle=\"collapse\" data-target=\"#bs-example-navbar-collapse-1\" aria-expanded=\"false\">\\n          <span class=\"sr-only\">Toggle navigation</span>\\n          <span class=\"icon-bar\"></span>\\n          <span class=\"icon-bar\"></span>\\n          <span class=\"icon-bar\"></span>\\n        </button>\\n        <a class=\"navbar-brand\" href=\"/home\">\\n        <i class=\"fa fa-commenting-o fa-fw\" aria-hidden=\"true\"></i>\\n        INSTAM</a>\\n      </div>'), \"\\n\\n      \", HTML.Raw(\"<!-- Collect the nav links, forms, and other content for toggling -->\"), \"\\n      \", HTML.DIV({\n    \"class\": \"collapse navbar-collapse\",\n    id: \"bs-example-navbar-collapse-1\"\n  }, \"\\n        \", HTML.Raw('<ul class=\"nav navbar-nav\">\\n          <li class=\"active\"><a href=\"#\">Profile <span class=\"sr-only\">(current)</span></a></li>\\n          <li><a href=\"#\">Messages</a></li>\\n        </ul>'), \"\\n        \\n        \", HTML.UL({\n    \"class\": \"nav navbar-nav navbar-right\"\n  }, \"\\n          \", HTML.LI(HTML.P({\n    \"class\": \"navbar-text\"\n  }, Blaze._TemplateWith(function() {\n    return {\n      align: Spacebars.call(\"right\")\n    };\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"loginButtons\"));\n  }))), \"\\n          \", HTML.Raw('<li><a href=\"/about\">About</a></li>'), \"\\n        \"), \"\\n      \"), HTML.Raw(\"<!-- /.navbar-collapse -->\"), \"\\n    \"), HTML.Raw(\"<!-- /.container-fluid -->\\n  \"));\n}));\n","\nTemplate.__checkName(\"userList\");\nTemplate[\"userList\"] = new Template(\"Template.userList\", (function() {\n  var view = this;\n  return HTML.DIV({\n    \"class\": \"container top-under\"\n  }, HTML.Raw(\"\\n\t\t<br>\\n\t\t\"), Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"user\"));\n  }, function() {\n    return [ \"\\n\t\t\t\", HTML.DIV({\n      \"class\": \"col-md-3 col-xs-12\"\n    }, \"\\n\t\t\t\t\", HTML.A({\n      href: function() {\n        return [ \"/chat/\", Spacebars.mustache(view.lookup(\"_id\")) ];\n      },\n      \"class\": \"js_user_selected\"\n    }, \"\\n\t\t\t\t\t\", HTML.IMG({\n      src: function() {\n        return [ \"/\", Spacebars.mustache(Spacebars.dot(view.lookup(\"profile\"), \"avatar\")) ];\n      }\n    }), \"\\n\t\t\t\t\t\", HTML.BR(), \"\\n\t\t\t\t\t\", HTML.H4({\n      \"class\": \"user-name\"\n    }, HTML.SPAN({\n      \"class\": \"label label-default\"\n    }, Blaze.View(\"lookup:profile.username\", function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"profile\"), \"username\"));\n    })), \"\\n\t\t\t\t\t\", HTML.SPAN({\n      \"class\": \"label label-info\"\n    }, Blaze.View(\"lookup:me\", function() {\n      return Spacebars.mustache(view.lookup(\"me\"), view.lookup(\"_id\"));\n    })), \"\\n\\n\t\t\t\t\t\"), \"\\n\\n\t\t\t\t\"), \"\\n\t\t\t\"), \"\\n\t\t\" ];\n  }), \"\\n\t\");\n}));\n","\nTemplate.body.addContent((function() {\n  var view = this;\n  return \"\";\n}));\nMeteor.startup(Template.body.renderToDocument);\n\nTemplate.__checkName(\"main\");\nTemplate[\"main\"] = new Template(\"Template.main\", (function() {\n  var view = this;\n  return [ Blaze._TemplateWith(function() {\n    return \"navbar\";\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"yield\"));\n  }), \"\\n\t\", Blaze._TemplateWith(function() {\n    return \"main\";\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"yield\"));\n  }) ];\n}));\n","Template.loginButtons.rendered = function() {\n\tvar userId = Meteor.userId();\n\tif (!userId) {\n\t\tAccounts._loginButtonsSession.set('dropdownVisible', true);\n\t} else {\n\t\tAccounts._loginButtonsSession.set('dropdownVisible', false);\n\t}\n};\n\nAccounts.ui.config({\n\tpasswordSignupFields: \"USERNAME_AND_EMAIL\"\n});\n","Template.userList.events({\n\t'click .js_user_selected': function(event) {\n\t\tSession.set(\"now\", this._id);\n\t\t//console.log(Session.get(\"now\"));\n\t\tMeteor.call(\"sendValue\", Session.get(\"now\"));\n\t}\n});","Template.userList.helpers({\n\tuser: function() {\n\t\treturn Meteor.users.find();\n\t},\n\n  me: function(id) {\n    var user = Meteor.users.findOne({_id: id});\n    if (user._id == Meteor.userId()) {\n      return \"me\"\n    }\n  }\n});\n\nTemplate.chat.helpers({\n  nowUser: function() {\n    var now = Meteor.users.findOne({_id: Session.get(\"now\")});\n    if (now) {\n      return now.profile.username;\n    }\n  },\n\n  history: function() {\n    var me, user, filter, chats;\n    me = Meteor.userId();\n    user = Session.get(\"now\");\n    filter = {\n      $or: [\n        {from: user, to: me},\n        {from:me, to:user}\n      ]\n    };\n    chats = Chats.find(filter);\n    return chats;\n  },\n\n  getUsername: function(id) {\n    var user = Meteor.users.findOne({_id: id});\n    if (user._id == Meteor.userId()) {\n      return \"me\"\n    } else {\n      return user.profile.username;\n    }\n  },\n\n  getAvatar: function(id) {\n    var user = Meteor.users.findOne({_id: id});\n    return user.profile.avatar;\n  }\n})","Router.configure({\n\tlayoutTemplate: \"main\"\n});\n\nRouter.route('/', function() {\n\tthis.render('home');\n});\n\nif (Meteor.userId()) {\n\tRouter.route('/home', function() {\n\t\tthis.render('nav', {\n\t\t\tto: 'navbar'\n\t\t});\n\t\tthis.render('userList', {\n\t\t\tto: 'main'\n\t\t});\n\t});\n\n\tRouter.route('/chat/:_id', function() {\n\t\tthis.render('nav', {\n\t\t\tto: 'navbar'\n\t\t});\n\t\tthis.render('chat', {\n\t\t\tto: 'main'\n\t\t});\n\t});\n}\n\nRouter.route('/about', function() {\n\tthis.render('nav', {\n\t\tto: 'navbar'\n\t});\n\tthis.render('about', {\n\t\tto: 'main'\n\t});\n});","Meteor.subscribe(\"users\");\nMeteor.subscribe(\"chats\");\n\n\nfunction home() {\n\tSession.set(\"currentUser\", Meteor.userId());\n\tif (Session.get(\"currentUser\") != null) {\n\t\t$(\"#continueBtn\").click();\n\t\tvar currentLocation = window.location;\n\t\tif (currentLocation == \"http://localhost:3000/home\") {\n\t\t\tclearInterval(setHome);\n\t\t}\n\t}\n};\n\nvar setHome = setInterval(home, 9);","Chats = new Mongo.Collection(\"chats\");","Chats.attachSchema(new SimpleSchema({\n\tmessage: {\n\t\ttype: String,\n\t\tmax: 500\n\t},\n\tfrom: {\n\t\ttype: String,\n\t\toptional: true\n\t},\n\tto: {\n\t\ttype: String,\n\t\toptional: true\n\t},\n\tcreatedOn: {\n\t\ttype: Date,\n\t \toptional: true\n\t}\n}));","var now;\n\nMeteor.methods({\n\tsendValue: function(value) {\n\t\tnow = value;\n\t\t//console.log(now + \" server\");\n\t},\n\n\tsendMsg: function(message) {\n\t\tmessage.from = this.userId;\n\t\tmessage.to = now;\n\t\tmessage.createdOn = new Date();\n\t\tChats.insert(message);\n\t}\n});"]}