[{"type":"js","data":"/* Imports for global scope */\n\nMongo = Package.mongo.Mongo;\nReactiveVar = Package['reactive-var'].ReactiveVar;\n$ = Package.jquery.$;\njQuery = Package.jquery.jQuery;\nTracker = Package.tracker.Tracker;\nDeps = Package.tracker.Deps;\nRouter = Package['iron:router'].Router;\nRouteController = Package['iron:router'].RouteController;\nSession = Package.session.Session;\nAutoForm = Package['aldeed:autoform'].AutoForm;\nMeteor = Package.meteor.Meteor;\nglobal = Package.meteor.global;\nmeteorEnv = Package.meteor.meteorEnv;\nWebApp = Package.webapp.WebApp;\n_ = Package.underscore._;\nDDP = Package['ddp-client'].DDP;\nLaunchScreen = Package['launch-screen'].LaunchScreen;\nBlaze = Package.ui.Blaze;\nUI = Package.ui.UI;\nHandlebars = Package.ui.Handlebars;\nSpacebars = Package.spacebars.Spacebars;\nTemplate = Package.templating.Template;\nmeteorInstall = Package.modules.meteorInstall;\nBuffer = Package.modules.Buffer;\nprocess = Package.modules.process;\nSymbol = Package['ecmascript-runtime'].Symbol;\nMap = Package['ecmascript-runtime'].Map;\nSet = Package['ecmascript-runtime'].Set;\nmeteorBabelHelpers = Package['babel-runtime'].meteorBabelHelpers;\nPromise = Package.promise.Promise;\nIron = Package['iron:core'].Iron;\nAccounts = Package['accounts-base'].Accounts;\nSimpleSchema = Package['aldeed:simple-schema'].SimpleSchema;\nMongoObject = Package['aldeed:simple-schema'].MongoObject;\nCollection2 = Package['aldeed:collection2-core'].Collection2;\nAutoupdate = Package.autoupdate.Autoupdate;\nReload = Package.reload.Reload;\nHTML = Package.htmljs.HTML;\n\n","servePath":"/packages/global-imports.js"},{"type":"js","data":"var require = meteorInstall({\"client\":{\"template.about.js\":function(){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                               //\n// client/template.about.js                                                                      //\n//                                                                                               //\n///////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                 //\n                                                                                                 // 1\nTemplate.__checkName(\"about\");                                                                   // 2\nTemplate[\"about\"] = new Template(\"Template.about\", (function() {                                 // 3\n  var view = this;                                                                               // 4\n  return HTML.Raw('<div class=\"container\">\\n\t\t<div class=\"row\">\\n\t\t\t<div class=\"jumbotron top-under well-color\">\\n\t\t\t  <h1>INSTAM :)</h1>\\n\t\t\t  <p>An instant messaging app*. Created with Meteor.</p>\\n\t\t\t  <h5>* still under heavy development</h5>\\n\t\t\t  <p><a class=\"btn btn-primary btn-lg\" href=\"https://github.com/sudosparrowhawk/full-stack/tree/master/instam\" target=\"blank\" role=\"button\">Learn more</a></p>\\n\t\t\t</div>\\n\t\t</div>\\n\t</div>');\n}));                                                                                             // 6\n                                                                                                 // 7\n///////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.chat.js\":function(){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                               //\n// client/template.chat.js                                                                       //\n//                                                                                               //\n///////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                 //\n                                                                                                 // 1\nTemplate.__checkName(\"chat\");                                                                    // 2\nTemplate[\"chat\"] = new Template(\"Template.chat\", (function() {                                   // 3\n  var view = this;                                                                               // 4\n  return HTML.DIV({                                                                              // 5\n    \"class\": \"container top-under\"                                                               // 6\n  }, \"\\n\t\t\", HTML.DIV({                                                                          // 7\n    \"class\": \"row\"                                                                               // 8\n  }, \"\\n\t\t\t\", HTML.DIV({                                                                         // 9\n    \"class\": \"nowUser\"                                                                           // 10\n  }, \"\\n\t\t\t\t\", HTML.H4(HTML.SPAN({                                                               // 11\n    \"class\": \"label label-info\"                                                                  // 12\n  }, Blaze.View(\"lookup:nowUser\", function() {                                                   // 13\n    return Spacebars.mustache(view.lookup(\"nowUser\"));                                           // 14\n  }))), \"\\n\t\t\t\"), \"\\n\t\t\t\", HTML.DIV({                                                            // 15\n    \"class\": \"col-md-6 col-xs-12\"                                                                // 16\n  }, \"\\n\t\t\t\t\", HTML.DIV({                                                                        // 17\n    \"class\": \"well well-lg well-color level-up-this\"                                             // 18\n  }, \"\\n\t\t\t\t\t\", Blaze.Each(function() {                                                          // 19\n    return Spacebars.call(view.lookup(\"history\"));                                               // 20\n  }, function() {                                                                                // 21\n    return [ \"\\n\t\t\t\t\t\t\", HTML.IMG({                                                              // 22\n      src: function() {                                                                          // 23\n        return [ \"/\", Spacebars.mustache(view.lookup(\"getAvatar\"), view.lookup(\"from\")) ];       // 24\n      },                                                                                         // 25\n      \"class\": \"small-avatar\"                                                                    // 26\n    }), \"\\n\t\t\t\t\t\t\", HTML.SPAN({                                                                  // 27\n      \"class\": \"label label-default\"                                                             // 28\n    }, Blaze.View(\"lookup:getUsername\", function() {                                             // 29\n      return Spacebars.mustache(view.lookup(\"getUsername\"), view.lookup(\"from\"));                // 30\n    })), \"\\n\t\t\t\t\t\t : \", Blaze.View(\"lookup:message\", function() {                                // 31\n      return Spacebars.mustache(view.lookup(\"message\"));                                         // 32\n    }), \"\\n\t\t\t\t\t\t\", HTML.BR(), \"\\n\t\t\t\t\t\" ];                                                      // 33\n  }), \"\\n\t\t\t\t\"), \"\\n\t\t\t\"), \"\\n\\n\t\t\t\", HTML.DIV({                                                 // 34\n    \"class\": \"col-md-6 col-xs-12\"                                                                // 35\n  }, \"\\n\t\t\t\t\", Spacebars.include(view.lookupTemplate(\"messageForm\")), \"\\n\t\t\t\"), \"\\n\t\t\"), \"\\n\t\");\n}));                                                                                             // 37\n                                                                                                 // 38\n///////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.home.js\":function(){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                               //\n// client/template.home.js                                                                       //\n//                                                                                               //\n///////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                 //\n                                                                                                 // 1\nTemplate.__checkName(\"home\");                                                                    // 2\nTemplate[\"home\"] = new Template(\"Template.home\", (function() {                                   // 3\n  var view = this;                                                                               // 4\n  return HTML.DIV({                                                                              // 5\n    \"class\": \"container\"                                                                         // 6\n  }, \"\\n\t\t\", HTML.DIV({                                                                          // 7\n    \"class\": \"jumbotron jumbo-color\"                                                             // 8\n  }, \"\\n\t\t\t\", HTML.Raw('<div class=\"jumbo-text\">\\n\t\t\t\t<h2>LogIn/SignUp before continue.</h2>\\n\t\t\t</div>'), \"\\n\t\t\t\", HTML.Raw(\"<br>\"), \"\\n\t\t\t\", HTML.DIV({\n    \"class\": \"login-buttons\"                                                                     // 10\n  }, \"\\n\t\t\t\t\", Spacebars.include(view.lookupTemplate(\"loginButtons\")), \"\\n\t\t\t\"), \"\\n\t\t\t\", HTML.Raw('<a href=\"/home\" id=\"continueBtn\" hidden=\"\"></a>'), \"\\n\t\t\"), \"\\n\t\");\n}));                                                                                             // 12\n                                                                                                 // 13\n///////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.messageForm.js\":function(){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                               //\n// client/template.messageForm.js                                                                //\n//                                                                                               //\n///////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                 //\n                                                                                                 // 1\nTemplate.__checkName(\"messageForm\");                                                             // 2\nTemplate[\"messageForm\"] = new Template(\"Template.messageForm\", (function() {                     // 3\n  var view = this;                                                                               // 4\n  return Blaze._TemplateWith(function() {                                                        // 5\n    return {                                                                                     // 6\n      collection: Spacebars.call(\"Chats\"),                                                       // 7\n      id: Spacebars.call(\"messageForm\"),                                                         // 8\n      type: Spacebars.call(\"method\"),                                                            // 9\n      meteormethod: Spacebars.call(\"sendMsg\")                                                    // 10\n    };                                                                                           // 11\n  }, function() {                                                                                // 12\n    return Spacebars.include(view.lookupTemplate(\"autoForm\"), function() {                       // 13\n      return [ \"\\n    \", HTML.DIV({                                                              // 14\n        \"class\": \"row\"                                                                           // 15\n      }, \"\\n      \", HTML.DIV({                                                                  // 16\n        \"class\": \"col-md-10\"                                                                     // 17\n      }, \"\\n        \", HTML.FIELDSET(\"\\n          \", Blaze._TemplateWith(function() {            // 18\n        return {                                                                                 // 19\n          name: Spacebars.call(\"message\"),                                                       // 20\n          rows: Spacebars.call(2)                                                                // 21\n        };                                                                                       // 22\n      }, function() {                                                                            // 23\n        return Spacebars.include(view.lookupTemplate(\"afQuickField\"));                           // 24\n      }), \"\\n         \"), \"\\n      \"), \"\\n      \", HTML.DIV({                                    // 25\n        \"class\": \"col-md-2\"                                                                      // 26\n      }, \"\\n        \", HTML.BUTTON({                                                             // 27\n        type: \"submit\",                                                                          // 28\n        \"class\": \"btn send-btn\"                                                                  // 29\n      }, \"\\n        \", HTML.I({                                                                  // 30\n        \"class\": \"fa fa-paper-plane\",                                                            // 31\n        \"aria-hidden\": \"true\"                                                                    // 32\n      }), \"\\n        SEND\"), \"\\n      \"), \"\\n    \"), \"\\n  \" ];                                   // 33\n    });                                                                                          // 34\n  });                                                                                            // 35\n}));                                                                                             // 36\n                                                                                                 // 37\n///////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.nav.js\":function(){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                               //\n// client/template.nav.js                                                                        //\n//                                                                                               //\n///////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                 //\n                                                                                                 // 1\nTemplate.__checkName(\"nav\");                                                                     // 2\nTemplate[\"nav\"] = new Template(\"Template.nav\", (function() {                                     // 3\n  var view = this;                                                                               // 4\n  return HTML.NAV({                                                                              // 5\n    \"class\": \"navbar navbar-default navbar-fixed-top nav-color\"                                  // 6\n  }, \"\\n    \", HTML.DIV({                                                                        // 7\n    \"class\": \"container-fluid\"                                                                   // 8\n  }, \"\\n      \", HTML.Raw(\"<!-- Brand and toggle get grouped for better mobile display -->\"), \"\\n      \", HTML.Raw('<div class=\"navbar-header\">\\n        <button type=\"button\" class=\"navbar-toggle collapsed\" data-toggle=\"collapse\" data-target=\"#bs-example-navbar-collapse-1\" aria-expanded=\"false\">\\n          <span class=\"sr-only\">Toggle navigation</span>\\n          <span class=\"icon-bar\"></span>\\n          <span class=\"icon-bar\"></span>\\n          <span class=\"icon-bar\"></span>\\n        </button>\\n        <a class=\"navbar-brand\" href=\"/home\">\\n        <i class=\"fa fa-commenting-o fa-fw\" aria-hidden=\"true\"></i>\\n        INSTAM</a>\\n      </div>'), \"\\n\\n      \", HTML.Raw(\"<!-- Collect the nav links, forms, and other content for toggling -->\"), \"\\n      \", HTML.DIV({\n    \"class\": \"collapse navbar-collapse\",                                                         // 10\n    id: \"bs-example-navbar-collapse-1\"                                                           // 11\n  }, \"\\n        \", HTML.Raw('<ul class=\"nav navbar-nav\">\\n          <li class=\"active\"><a href=\"#\">Profile <span class=\"sr-only\">(current)</span></a></li>\\n          <li><a href=\"#\">Messages</a></li>\\n        </ul>'), \"\\n        \\n        \", HTML.UL({\n    \"class\": \"nav navbar-nav navbar-right\"                                                       // 13\n  }, \"\\n          \", HTML.LI(HTML.P({                                                            // 14\n    \"class\": \"navbar-text\"                                                                       // 15\n  }, Blaze._TemplateWith(function() {                                                            // 16\n    return {                                                                                     // 17\n      align: Spacebars.call(\"right\")                                                             // 18\n    };                                                                                           // 19\n  }, function() {                                                                                // 20\n    return Spacebars.include(view.lookupTemplate(\"loginButtons\"));                               // 21\n  }))), \"\\n          \", HTML.Raw('<li><a href=\"/about\">About</a></li>'), \"\\n        \"), \"\\n      \"), HTML.Raw(\"<!-- /.navbar-collapse -->\"), \"\\n    \"), HTML.Raw(\"<!-- /.container-fluid -->\\n  \"));\n}));                                                                                             // 23\n                                                                                                 // 24\n///////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.userList.js\":function(){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                               //\n// client/template.userList.js                                                                   //\n//                                                                                               //\n///////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                 //\n                                                                                                 // 1\nTemplate.__checkName(\"userList\");                                                                // 2\nTemplate[\"userList\"] = new Template(\"Template.userList\", (function() {                           // 3\n  var view = this;                                                                               // 4\n  return HTML.DIV({                                                                              // 5\n    \"class\": \"container top-under\"                                                               // 6\n  }, HTML.Raw(\"\\n\t\t<br>\\n\t\t\"), Blaze.Each(function() {                                           // 7\n    return Spacebars.call(view.lookup(\"user\"));                                                  // 8\n  }, function() {                                                                                // 9\n    return [ \"\\n\t\t\t\", HTML.DIV({                                                                 // 10\n      \"class\": \"col-md-3 col-xs-12\"                                                              // 11\n    }, \"\\n\t\t\t\t\", HTML.A({                                                                        // 12\n      href: function() {                                                                         // 13\n        return [ \"/chat/\", Spacebars.mustache(view.lookup(\"_id\")) ];                             // 14\n      },                                                                                         // 15\n      \"class\": \"js_user_selected\"                                                                // 16\n    }, \"\\n\t\t\t\t\t\", HTML.IMG({                                                                     // 17\n      src: function() {                                                                          // 18\n        return [ \"/\", Spacebars.mustache(Spacebars.dot(view.lookup(\"profile\"), \"avatar\")) ];     // 19\n      }                                                                                          // 20\n    }), \"\\n\t\t\t\t\t\", HTML.BR(), \"\\n\t\t\t\t\t\", HTML.H4({                                               // 21\n      \"class\": \"user-name\"                                                                       // 22\n    }, HTML.SPAN({                                                                               // 23\n      \"class\": \"label label-default\"                                                             // 24\n    }, Blaze.View(\"lookup:profile.username\", function() {                                        // 25\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"profile\"), \"username\"));              // 26\n    })), \"\\n\t\t\t\t\t\", HTML.SPAN({                                                                  // 27\n      \"class\": \"label label-info\"                                                                // 28\n    }, Blaze.View(\"lookup:me\", function() {                                                      // 29\n      return Spacebars.mustache(view.lookup(\"me\"), view.lookup(\"_id\"));                          // 30\n    })), \"\\n\\n\t\t\t\t\t\"), \"\\n\\n\t\t\t\t\"), \"\\n\t\t\t\"), \"\\n\t\t\" ];                                          // 31\n  }), \"\\n\t\");                                                                                    // 32\n}));                                                                                             // 33\n                                                                                                 // 34\n///////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.main.js\":function(){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                               //\n// client/template.main.js                                                                       //\n//                                                                                               //\n///////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                 //\n                                                                                                 // 1\nTemplate.body.addContent((function() {                                                           // 2\n  var view = this;                                                                               // 3\n  return \"\";                                                                                     // 4\n}));                                                                                             // 5\nMeteor.startup(Template.body.renderToDocument);                                                  // 6\n                                                                                                 // 7\nTemplate.__checkName(\"main\");                                                                    // 8\nTemplate[\"main\"] = new Template(\"Template.main\", (function() {                                   // 9\n  var view = this;                                                                               // 10\n  return [ Blaze._TemplateWith(function() {                                                      // 11\n    return \"navbar\";                                                                             // 12\n  }, function() {                                                                                // 13\n    return Spacebars.include(view.lookupTemplate(\"yield\"));                                      // 14\n  }), \"\\n\t\", Blaze._TemplateWith(function() {                                                    // 15\n    return \"main\";                                                                               // 16\n  }, function() {                                                                                // 17\n    return Spacebars.include(view.lookupTemplate(\"yield\"));                                      // 18\n  }) ];                                                                                          // 19\n}));                                                                                             // 20\n                                                                                                 // 21\n///////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"accounts.js\":function(){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                               //\n// client/accounts.js                                                                            //\n//                                                                                               //\n///////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                 //\nTemplate.loginButtons.rendered = function () {                                                   // 1\n\tvar userId = Meteor.userId();                                                                   // 2\n\tif (!userId) {                                                                                  // 3\n\t\tAccounts._loginButtonsSession.set('dropdownVisible', true);                                    // 4\n\t} else {                                                                                        // 5\n\t\tAccounts._loginButtonsSession.set('dropdownVisible', false);                                   // 6\n\t}                                                                                               // 7\n};                                                                                               // 8\n                                                                                                 //\nAccounts.ui.config({                                                                             // 10\n\tpasswordSignupFields: \"USERNAME_AND_EMAIL\"                                                      // 11\n});                                                                                              // 10\n///////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"events.js\":function(){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                               //\n// client/events.js                                                                              //\n//                                                                                               //\n///////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                 //\nTemplate.userList.events({                                                                       // 1\n\t'click .js_user_selected': function () {                                                        // 2\n\t\tfunction clickJs_user_selected(event) {                                                        // 2\n\t\t\tSession.set(\"now\", this._id);                                                                 // 3\n\t\t\t//console.log(Session.get(\"now\"));                                                            //\n\t\t\tMeteor.call(\"sendValue\", Session.get(\"now\"));                                                 // 5\n\t\t}                                                                                              // 6\n                                                                                                 //\n\t\treturn clickJs_user_selected;                                                                  // 2\n\t}()                                                                                             // 2\n});                                                                                              // 1\n///////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"helpers.js\":function(){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                               //\n// client/helpers.js                                                                             //\n//                                                                                               //\n///////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                 //\nTemplate.userList.helpers({                                                                      // 1\n  user: function () {                                                                            // 2\n    function user() {                                                                            // 2\n      return Meteor.users.find();                                                                // 3\n    }                                                                                            // 4\n                                                                                                 //\n    return user;                                                                                 // 2\n  }(),                                                                                           // 2\n                                                                                                 //\n  me: function () {                                                                              // 6\n    function me(id) {                                                                            // 6\n      var user = Meteor.users.findOne({ _id: id });                                              // 7\n      if (user._id == Meteor.userId()) {                                                         // 8\n        return \"me\";                                                                             // 9\n      }                                                                                          // 10\n    }                                                                                            // 11\n                                                                                                 //\n    return me;                                                                                   // 6\n  }()                                                                                            // 6\n});                                                                                              // 1\n                                                                                                 //\nTemplate.chat.helpers({                                                                          // 14\n  nowUser: function () {                                                                         // 15\n    function nowUser() {                                                                         // 15\n      var now = Meteor.users.findOne({ _id: Session.get(\"now\") });                               // 16\n      if (now) {                                                                                 // 17\n        return now.profile.username;                                                             // 18\n      }                                                                                          // 19\n    }                                                                                            // 20\n                                                                                                 //\n    return nowUser;                                                                              // 15\n  }(),                                                                                           // 15\n                                                                                                 //\n  history: function () {                                                                         // 22\n    function history() {                                                                         // 22\n      var me, user, filter, chats;                                                               // 23\n      me = Meteor.userId();                                                                      // 24\n      user = Session.get(\"now\");                                                                 // 25\n      filter = {                                                                                 // 26\n        $or: [{ from: user, to: me }, { from: me, to: user }]                                    // 27\n      };                                                                                         // 26\n      chats = Chats.find(filter);                                                                // 32\n      return chats;                                                                              // 33\n    }                                                                                            // 34\n                                                                                                 //\n    return history;                                                                              // 22\n  }(),                                                                                           // 22\n                                                                                                 //\n  getUsername: function () {                                                                     // 36\n    function getUsername(id) {                                                                   // 36\n      var user = Meteor.users.findOne({ _id: id });                                              // 37\n      if (user._id == Meteor.userId()) {                                                         // 38\n        return \"me\";                                                                             // 39\n      } else {                                                                                   // 40\n        return user.profile.username;                                                            // 41\n      }                                                                                          // 42\n    }                                                                                            // 43\n                                                                                                 //\n    return getUsername;                                                                          // 36\n  }(),                                                                                           // 36\n                                                                                                 //\n  getAvatar: function () {                                                                       // 45\n    function getAvatar(id) {                                                                     // 45\n      var user = Meteor.users.findOne({ _id: id });                                              // 46\n      return user.profile.avatar;                                                                // 47\n    }                                                                                            // 48\n                                                                                                 //\n    return getAvatar;                                                                            // 45\n  }()                                                                                            // 45\n});                                                                                              // 14\n///////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"routes.js\":function(){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                               //\n// client/routes.js                                                                              //\n//                                                                                               //\n///////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                 //\nRouter.configure({                                                                               // 1\n\tlayoutTemplate: \"main\"                                                                          // 2\n});                                                                                              // 1\n                                                                                                 //\nRouter.route('/', function () {                                                                  // 5\n\tthis.render('home');                                                                            // 6\n});                                                                                              // 7\n                                                                                                 //\nif (Meteor.userId()) {                                                                           // 9\n\tRouter.route('/home', function () {                                                             // 10\n\t\tthis.render('nav', {                                                                           // 11\n\t\t\tto: 'navbar'                                                                                  // 12\n\t\t});                                                                                            // 11\n\t\tthis.render('userList', {                                                                      // 14\n\t\t\tto: 'main'                                                                                    // 15\n\t\t});                                                                                            // 14\n\t});                                                                                             // 17\n                                                                                                 //\n\tRouter.route('/chat/:_id', function () {                                                        // 19\n\t\tthis.render('nav', {                                                                           // 20\n\t\t\tto: 'navbar'                                                                                  // 21\n\t\t});                                                                                            // 20\n\t\tthis.render('chat', {                                                                          // 23\n\t\t\tto: 'main'                                                                                    // 24\n\t\t});                                                                                            // 23\n\t});                                                                                             // 26\n}                                                                                                // 27\n                                                                                                 //\nRouter.route('/about', function () {                                                             // 29\n\tthis.render('nav', {                                                                            // 30\n\t\tto: 'navbar'                                                                                   // 31\n\t});                                                                                             // 30\n\tthis.render('about', {                                                                          // 33\n\t\tto: 'main'                                                                                     // 34\n\t});                                                                                             // 33\n});                                                                                              // 36\n///////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"main.js\":function(){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                               //\n// client/main.js                                                                                //\n//                                                                                               //\n///////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                 //\nMeteor.subscribe(\"users\");                                                                       // 1\nMeteor.subscribe(\"chats\");                                                                       // 2\n                                                                                                 //\nfunction home() {                                                                                // 5\n\tSession.set(\"currentUser\", Meteor.userId());                                                    // 6\n\tif (Session.get(\"currentUser\") != null) {                                                       // 7\n\t\t$(\"#continueBtn\").click();                                                                     // 8\n\t\tvar currentLocation = window.location;                                                         // 9\n\t\tif (currentLocation == \"http://localhost:3000/home\") {                                         // 10\n\t\t\tclearInterval(setHome);                                                                       // 11\n\t\t}                                                                                              // 12\n\t}                                                                                               // 13\n};                                                                                               // 14\n                                                                                                 //\nvar setHome = setInterval(home, 9);                                                              // 16\n///////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"lib\":{\"collections.js\":function(){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                               //\n// lib/collections.js                                                                            //\n//                                                                                               //\n///////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                 //\nChats = new Mongo.Collection(\"chats\");                                                           // 1\n///////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"schema.js\":function(){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                               //\n// lib/schema.js                                                                                 //\n//                                                                                               //\n///////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                 //\nChats.attachSchema(new SimpleSchema({                                                            // 1\n\tmessage: {                                                                                      // 2\n\t\ttype: String,                                                                                  // 3\n\t\tmax: 500                                                                                       // 4\n\t},                                                                                              // 2\n\tfrom: {                                                                                         // 6\n\t\ttype: String,                                                                                  // 7\n\t\toptional: true                                                                                 // 8\n\t},                                                                                              // 6\n\tto: {                                                                                           // 10\n\t\ttype: String,                                                                                  // 11\n\t\toptional: true                                                                                 // 12\n\t},                                                                                              // 10\n\tcreatedOn: {                                                                                    // 14\n\t\ttype: Date,                                                                                    // 15\n\t\toptional: true                                                                                 // 16\n\t}                                                                                               // 14\n}));                                                                                             // 1\n///////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"common\":{\"methods.js\":function(){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                               //\n// common/methods.js                                                                             //\n//                                                                                               //\n///////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                 //\nvar now;                                                                                         // 1\n                                                                                                 //\nMeteor.methods({                                                                                 // 3\n\tsendValue: function () {                                                                        // 4\n\t\tfunction sendValue(value) {                                                                    // 4\n\t\t\tnow = value;                                                                                  // 5\n\t\t\t//console.log(now + \" server\");                                                               //\n\t\t}                                                                                              // 7\n                                                                                                 //\n\t\treturn sendValue;                                                                              // 4\n\t}(),                                                                                            // 4\n                                                                                                 //\n\tsendMsg: function () {                                                                          // 9\n\t\tfunction sendMsg(message) {                                                                    // 9\n\t\t\tmessage.from = this.userId;                                                                   // 10\n\t\t\tmessage.to = now;                                                                             // 11\n\t\t\tmessage.createdOn = new Date();                                                               // 12\n\t\t\tChats.insert(message);                                                                        // 13\n\t\t}                                                                                              // 14\n                                                                                                 //\n\t\treturn sendMsg;                                                                                // 9\n\t}()                                                                                             // 9\n});                                                                                              // 3\n///////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}},{\"extensions\":[\".js\",\".json\",\".html\",\".css\"]});\nrequire(\"./client/template.about.js\");\nrequire(\"./client/template.chat.js\");\nrequire(\"./client/template.home.js\");\nrequire(\"./client/template.messageForm.js\");\nrequire(\"./client/template.nav.js\");\nrequire(\"./client/template.userList.js\");\nrequire(\"./client/template.main.js\");\nrequire(\"./lib/collections.js\");\nrequire(\"./lib/schema.js\");\nrequire(\"./client/accounts.js\");\nrequire(\"./client/events.js\");\nrequire(\"./client/helpers.js\");\nrequire(\"./client/routes.js\");\nrequire(\"./common/methods.js\");\nrequire(\"./client/main.js\");","servePath":"/app.js","sourceMap":{"version":3,"sources":["/client/template.about.js","/client/template.chat.js","/client/template.home.js","/client/template.messageForm.js","/client/template.nav.js","/client/template.userList.js","/client/template.main.js","/client/accounts.js","/client/events.js","/client/helpers.js","/client/routes.js","/client/main.js","/lib/collections.js","/lib/schema.js","/common/methods.js"],"names":[],"mappings":";;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA,qG;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sG;;;;;;;;;;;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sG;;;;;;;;;;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sG;;;;;;;;;;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sG;;;;;;;;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sG;;;;;;;;;;;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sG;;;;;;;;;;;ACpBA,SAAS,YAAT,CAAsB,QAAtB,GAAiC,YAAW;AAC3C,KAAI,SAAS,OAAO,MAAP,EAAb;AACA,KAAI,CAAC,MAAL,EAAa;AACZ,WAAS,oBAAT,CAA8B,GAA9B,CAAkC,iBAAlC,EAAqD,IAArD;AACA,EAFD,MAEO;AACN,WAAS,oBAAT,CAA8B,GAA9B,CAAkC,iBAAlC,EAAqD,KAArD;AACA;AACD,C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","file":"/app.js","sourcesContent":["\nTemplate.__checkName(\"about\");\nTemplate[\"about\"] = new Template(\"Template.about\", (function() {\n  var view = this;\n  return HTML.Raw('<div class=\"container\">\\n\t\t<div class=\"row\">\\n\t\t\t<div class=\"jumbotron top-under well-color\">\\n\t\t\t  <h1>INSTAM :)</h1>\\n\t\t\t  <p>An instant messaging app*. Created with Meteor.</p>\\n\t\t\t  <h5>* still under heavy development</h5>\\n\t\t\t  <p><a class=\"btn btn-primary btn-lg\" href=\"https://github.com/sudosparrowhawk/full-stack/tree/master/instam\" target=\"blank\" role=\"button\">Learn more</a></p>\\n\t\t\t</div>\\n\t\t</div>\\n\t</div>');\n}));\n","\nTemplate.__checkName(\"chat\");\nTemplate[\"chat\"] = new Template(\"Template.chat\", (function() {\n  var view = this;\n  return HTML.DIV({\n    \"class\": \"container top-under\"\n  }, \"\\n\t\t\", HTML.DIV({\n    \"class\": \"row\"\n  }, \"\\n\t\t\t\", HTML.DIV({\n    \"class\": \"nowUser\"\n  }, \"\\n\t\t\t\t\", HTML.H4(HTML.SPAN({\n    \"class\": \"label label-info\"\n  }, Blaze.View(\"lookup:nowUser\", function() {\n    return Spacebars.mustache(view.lookup(\"nowUser\"));\n  }))), \"\\n\t\t\t\"), \"\\n\t\t\t\", HTML.DIV({\n    \"class\": \"col-md-6 col-xs-12\"\n  }, \"\\n\t\t\t\t\", HTML.DIV({\n    \"class\": \"well well-lg well-color level-up-this\"\n  }, \"\\n\t\t\t\t\t\", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"history\"));\n  }, function() {\n    return [ \"\\n\t\t\t\t\t\t\", HTML.IMG({\n      src: function() {\n        return [ \"/\", Spacebars.mustache(view.lookup(\"getAvatar\"), view.lookup(\"from\")) ];\n      },\n      \"class\": \"small-avatar\"\n    }), \"\\n\t\t\t\t\t\t\", HTML.SPAN({\n      \"class\": \"label label-default\"\n    }, Blaze.View(\"lookup:getUsername\", function() {\n      return Spacebars.mustache(view.lookup(\"getUsername\"), view.lookup(\"from\"));\n    })), \"\\n\t\t\t\t\t\t : \", Blaze.View(\"lookup:message\", function() {\n      return Spacebars.mustache(view.lookup(\"message\"));\n    }), \"\\n\t\t\t\t\t\t\", HTML.BR(), \"\\n\t\t\t\t\t\" ];\n  }), \"\\n\t\t\t\t\"), \"\\n\t\t\t\"), \"\\n\\n\t\t\t\", HTML.DIV({\n    \"class\": \"col-md-6 col-xs-12\"\n  }, \"\\n\t\t\t\t\", Spacebars.include(view.lookupTemplate(\"messageForm\")), \"\\n\t\t\t\"), \"\\n\t\t\"), \"\\n\t\");\n}));\n","\nTemplate.__checkName(\"home\");\nTemplate[\"home\"] = new Template(\"Template.home\", (function() {\n  var view = this;\n  return HTML.DIV({\n    \"class\": \"container\"\n  }, \"\\n\t\t\", HTML.DIV({\n    \"class\": \"jumbotron jumbo-color\"\n  }, \"\\n\t\t\t\", HTML.Raw('<div class=\"jumbo-text\">\\n\t\t\t\t<h2>LogIn/SignUp before continue.</h2>\\n\t\t\t</div>'), \"\\n\t\t\t\", HTML.Raw(\"<br>\"), \"\\n\t\t\t\", HTML.DIV({\n    \"class\": \"login-buttons\"\n  }, \"\\n\t\t\t\t\", Spacebars.include(view.lookupTemplate(\"loginButtons\")), \"\\n\t\t\t\"), \"\\n\t\t\t\", HTML.Raw('<a href=\"/home\" id=\"continueBtn\" hidden=\"\"></a>'), \"\\n\t\t\"), \"\\n\t\");\n}));\n","\nTemplate.__checkName(\"messageForm\");\nTemplate[\"messageForm\"] = new Template(\"Template.messageForm\", (function() {\n  var view = this;\n  return Blaze._TemplateWith(function() {\n    return {\n      collection: Spacebars.call(\"Chats\"),\n      id: Spacebars.call(\"messageForm\"),\n      type: Spacebars.call(\"method\"),\n      meteormethod: Spacebars.call(\"sendMsg\")\n    };\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"autoForm\"), function() {\n      return [ \"\\n    \", HTML.DIV({\n        \"class\": \"row\"\n      }, \"\\n      \", HTML.DIV({\n        \"class\": \"col-md-10\"\n      }, \"\\n        \", HTML.FIELDSET(\"\\n          \", Blaze._TemplateWith(function() {\n        return {\n          name: Spacebars.call(\"message\"),\n          rows: Spacebars.call(2)\n        };\n      }, function() {\n        return Spacebars.include(view.lookupTemplate(\"afQuickField\"));\n      }), \"\\n         \"), \"\\n      \"), \"\\n      \", HTML.DIV({\n        \"class\": \"col-md-2\"\n      }, \"\\n        \", HTML.BUTTON({\n        type: \"submit\",\n        \"class\": \"btn send-btn\"\n      }, \"\\n        \", HTML.I({\n        \"class\": \"fa fa-paper-plane\",\n        \"aria-hidden\": \"true\"\n      }), \"\\n        SEND\"), \"\\n      \"), \"\\n    \"), \"\\n  \" ];\n    });\n  });\n}));\n","\nTemplate.__checkName(\"nav\");\nTemplate[\"nav\"] = new Template(\"Template.nav\", (function() {\n  var view = this;\n  return HTML.NAV({\n    \"class\": \"navbar navbar-default navbar-fixed-top nav-color\"\n  }, \"\\n    \", HTML.DIV({\n    \"class\": \"container-fluid\"\n  }, \"\\n      \", HTML.Raw(\"<!-- Brand and toggle get grouped for better mobile display -->\"), \"\\n      \", HTML.Raw('<div class=\"navbar-header\">\\n        <button type=\"button\" class=\"navbar-toggle collapsed\" data-toggle=\"collapse\" data-target=\"#bs-example-navbar-collapse-1\" aria-expanded=\"false\">\\n          <span class=\"sr-only\">Toggle navigation</span>\\n          <span class=\"icon-bar\"></span>\\n          <span class=\"icon-bar\"></span>\\n          <span class=\"icon-bar\"></span>\\n        </button>\\n        <a class=\"navbar-brand\" href=\"/home\">\\n        <i class=\"fa fa-commenting-o fa-fw\" aria-hidden=\"true\"></i>\\n        INSTAM</a>\\n      </div>'), \"\\n\\n      \", HTML.Raw(\"<!-- Collect the nav links, forms, and other content for toggling -->\"), \"\\n      \", HTML.DIV({\n    \"class\": \"collapse navbar-collapse\",\n    id: \"bs-example-navbar-collapse-1\"\n  }, \"\\n        \", HTML.Raw('<ul class=\"nav navbar-nav\">\\n          <li class=\"active\"><a href=\"#\">Profile <span class=\"sr-only\">(current)</span></a></li>\\n          <li><a href=\"#\">Messages</a></li>\\n        </ul>'), \"\\n        \\n        \", HTML.UL({\n    \"class\": \"nav navbar-nav navbar-right\"\n  }, \"\\n          \", HTML.LI(HTML.P({\n    \"class\": \"navbar-text\"\n  }, Blaze._TemplateWith(function() {\n    return {\n      align: Spacebars.call(\"right\")\n    };\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"loginButtons\"));\n  }))), \"\\n          \", HTML.Raw('<li><a href=\"/about\">About</a></li>'), \"\\n        \"), \"\\n      \"), HTML.Raw(\"<!-- /.navbar-collapse -->\"), \"\\n    \"), HTML.Raw(\"<!-- /.container-fluid -->\\n  \"));\n}));\n","\nTemplate.__checkName(\"userList\");\nTemplate[\"userList\"] = new Template(\"Template.userList\", (function() {\n  var view = this;\n  return HTML.DIV({\n    \"class\": \"container top-under\"\n  }, HTML.Raw(\"\\n\t\t<br>\\n\t\t\"), Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"user\"));\n  }, function() {\n    return [ \"\\n\t\t\t\", HTML.DIV({\n      \"class\": \"col-md-3 col-xs-12\"\n    }, \"\\n\t\t\t\t\", HTML.A({\n      href: function() {\n        return [ \"/chat/\", Spacebars.mustache(view.lookup(\"_id\")) ];\n      },\n      \"class\": \"js_user_selected\"\n    }, \"\\n\t\t\t\t\t\", HTML.IMG({\n      src: function() {\n        return [ \"/\", Spacebars.mustache(Spacebars.dot(view.lookup(\"profile\"), \"avatar\")) ];\n      }\n    }), \"\\n\t\t\t\t\t\", HTML.BR(), \"\\n\t\t\t\t\t\", HTML.H4({\n      \"class\": \"user-name\"\n    }, HTML.SPAN({\n      \"class\": \"label label-default\"\n    }, Blaze.View(\"lookup:profile.username\", function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"profile\"), \"username\"));\n    })), \"\\n\t\t\t\t\t\", HTML.SPAN({\n      \"class\": \"label label-info\"\n    }, Blaze.View(\"lookup:me\", function() {\n      return Spacebars.mustache(view.lookup(\"me\"), view.lookup(\"_id\"));\n    })), \"\\n\\n\t\t\t\t\t\"), \"\\n\\n\t\t\t\t\"), \"\\n\t\t\t\"), \"\\n\t\t\" ];\n  }), \"\\n\t\");\n}));\n","\nTemplate.body.addContent((function() {\n  var view = this;\n  return \"\";\n}));\nMeteor.startup(Template.body.renderToDocument);\n\nTemplate.__checkName(\"main\");\nTemplate[\"main\"] = new Template(\"Template.main\", (function() {\n  var view = this;\n  return [ Blaze._TemplateWith(function() {\n    return \"navbar\";\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"yield\"));\n  }), \"\\n\t\", Blaze._TemplateWith(function() {\n    return \"main\";\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"yield\"));\n  }) ];\n}));\n","Template.loginButtons.rendered = function() {\n\tvar userId = Meteor.userId();\n\tif (!userId) {\n\t\tAccounts._loginButtonsSession.set('dropdownVisible', true);\n\t} else {\n\t\tAccounts._loginButtonsSession.set('dropdownVisible', false);\n\t}\n};\n\nAccounts.ui.config({\n\tpasswordSignupFields: \"USERNAME_AND_EMAIL\"\n});\n","Template.userList.events({\n\t'click .js_user_selected': function(event) {\n\t\tSession.set(\"now\", this._id);\n\t\t//console.log(Session.get(\"now\"));\n\t\tMeteor.call(\"sendValue\", Session.get(\"now\"));\n\t}\n});","Template.userList.helpers({\n\tuser: function() {\n\t\treturn Meteor.users.find();\n\t},\n\n  me: function(id) {\n    var user = Meteor.users.findOne({_id: id});\n    if (user._id == Meteor.userId()) {\n      return \"me\"\n    }\n  }\n});\n\nTemplate.chat.helpers({\n  nowUser: function() {\n    var now = Meteor.users.findOne({_id: Session.get(\"now\")});\n    if (now) {\n      return now.profile.username;\n    }\n  },\n\n  history: function() {\n    var me, user, filter, chats;\n    me = Meteor.userId();\n    user = Session.get(\"now\");\n    filter = {\n      $or: [\n        {from: user, to: me},\n        {from:me, to:user}\n      ]\n    };\n    chats = Chats.find(filter);\n    return chats;\n  },\n\n  getUsername: function(id) {\n    var user = Meteor.users.findOne({_id: id});\n    if (user._id == Meteor.userId()) {\n      return \"me\"\n    } else {\n      return user.profile.username;\n    }\n  },\n\n  getAvatar: function(id) {\n    var user = Meteor.users.findOne({_id: id});\n    return user.profile.avatar;\n  }\n})","Router.configure({\n\tlayoutTemplate: \"main\"\n});\n\nRouter.route('/', function() {\n\tthis.render('home');\n});\n\nif (Meteor.userId()) {\n\tRouter.route('/home', function() {\n\t\tthis.render('nav', {\n\t\t\tto: 'navbar'\n\t\t});\n\t\tthis.render('userList', {\n\t\t\tto: 'main'\n\t\t});\n\t});\n\n\tRouter.route('/chat/:_id', function() {\n\t\tthis.render('nav', {\n\t\t\tto: 'navbar'\n\t\t});\n\t\tthis.render('chat', {\n\t\t\tto: 'main'\n\t\t});\n\t});\n}\n\nRouter.route('/about', function() {\n\tthis.render('nav', {\n\t\tto: 'navbar'\n\t});\n\tthis.render('about', {\n\t\tto: 'main'\n\t});\n});","Meteor.subscribe(\"users\");\nMeteor.subscribe(\"chats\");\n\n\nfunction home() {\n\tSession.set(\"currentUser\", Meteor.userId());\n\tif (Session.get(\"currentUser\") != null) {\n\t\t$(\"#continueBtn\").click();\n\t\tvar currentLocation = window.location;\n\t\tif (currentLocation == \"http://localhost:3000/home\") {\n\t\t\tclearInterval(setHome);\n\t\t}\n\t}\n};\n\nvar setHome = setInterval(home, 9);","Chats = new Mongo.Collection(\"chats\");","Chats.attachSchema(new SimpleSchema({\n\tmessage: {\n\t\ttype: String,\n\t\tmax: 500\n\t},\n\tfrom: {\n\t\ttype: String,\n\t\toptional: true\n\t},\n\tto: {\n\t\ttype: String,\n\t\toptional: true\n\t},\n\tcreatedOn: {\n\t\ttype: Date,\n\t \toptional: true\n\t}\n}));","var now;\n\nMeteor.methods({\n\tsendValue: function(value) {\n\t\tnow = value;\n\t\t//console.log(now + \" server\");\n\t},\n\n\tsendMsg: function(message) {\n\t\tmessage.from = this.userId;\n\t\tmessage.to = now;\n\t\tmessage.createdOn = new Date();\n\t\tChats.insert(message);\n\t}\n});"]}}]