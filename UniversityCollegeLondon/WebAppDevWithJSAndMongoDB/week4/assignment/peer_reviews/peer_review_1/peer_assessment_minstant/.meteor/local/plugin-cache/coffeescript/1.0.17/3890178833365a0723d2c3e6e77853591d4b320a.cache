{"source":"__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;\nEmojis.seed = function() {\n  var count, emojis;\n  Emojis.remove({});\n  emojis = JSON.parse(Assets.getText('seed/emojis.json'));\n  count = 0;\n  if (emojis && Array.isArray(emojis)) {\n    count = emojis.reduce(function(memo, emoji) {\n      emoji.alias = emoji.aliases[0];\n      emoji.tags = emoji.tags.concat(_.rest(emoji.aliases));\n      delete emoji.aliases;\n      Emojis.insert(emoji);\n      return memo + 1;\n    }, 0);\n  }\n  return count;\n};\n\nMeteor.startup(function() {\n  if (Emojis.find().count() === 0) {\n    return Emojis.seed();\n  }\n});\n","sourceMap":{"version":3,"file":"/seed/seed.coffee.js","sourceRoot":"","sources":["/packages/lookback_emoji/seed/seed.coffee"],"names":[],"mappings":";AAAA,MAAM,CAAC,IAAP,GAAc,SAAA,GAAA;AACZ,MAAA,aAAA;AAAA,EAAA,MAAM,CAAC,MAAP,CAAc,EAAd,CAAA,CAAA;AAAA,EACA,MAAA,GAAS,IAAI,CAAC,KAAL,CAAW,MAAM,CAAC,OAAP,CAAe,kBAAf,CAAX,CADT,CAAA;AAAA,EAEA,KAAA,GAAQ,CAFR,CAAA;AAIA,EAAA,IAAG,MAAA,IAAW,KAAK,CAAC,OAAN,CAAc,MAAd,CAAd;AACE,IAAA,KAAA,GAAQ,MAAM,CAAC,MAAP,CAAc,SAAC,IAAD,EAAO,KAAP,GAAA;AAKpB,MAAA,KAAK,CAAC,KAAN,GAAc,KAAK,CAAC,OAAQ,CAAA,CAAA,CAA5B,CAAA;AAAA,MACA,KAAK,CAAC,IAAN,GAAa,KAAK,CAAC,IAAI,CAAC,MAAX,CAAkB,CAAC,CAAC,IAAF,CAAO,KAAK,CAAC,OAAb,CAAlB,CADb,CAAA;AAAA,MAGA,MAAA,CAAA,KAAY,CAAC,OAHb,CAAA;AAAA,MAIA,MAAM,CAAC,MAAP,CAAc,KAAd,CAJA,CAAA;AAMA,aAAO,IAAA,GAAO,CAAd,CAXoB;IAAA,CAAd,EAYN,CAZM,CAAR,CADF;GAJA;AAmBA,SAAO,KAAP,CApBY;AAAA,CAAd,CAAA;;AAAA,MAsBM,CAAC,OAAP,CAAe,SAAA,GAAA;AACb,EAAA,IAAG,MAAM,CAAC,IAAP,CAAA,CAAa,CAAC,KAAd,CAAA,CAAA,KAAyB,CAA5B;WACE,MAAM,CAAC,IAAP,CAAA,EADF;GADa;AAAA,CAAf,CAtBA,CAAA","sourcesContent":["Emojis.seed = ->\n  Emojis.remove({})\n  emojis = JSON.parse(Assets.getText 'seed/emojis.json')\n  count = 0\n\n  if emojis and Array.isArray(emojis)\n    count = emojis.reduce (memo, emoji) ->\n\n      # I wanna have a canonical alias, not an array of them.\n      # Thus fetch the first alias and put the rest, if exists,\n      # in the tags array.\n      emoji.alias = emoji.aliases[0]\n      emoji.tags = emoji.tags.concat(_.rest(emoji.aliases))\n\n      delete emoji.aliases\n      Emojis.insert(emoji)\n\n      return memo + 1\n    , 0\n\n  return count\n\nMeteor.startup ->\n  if Emojis.find().count() is 0\n    Emojis.seed()\n"]}}