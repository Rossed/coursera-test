{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/server/main.js","filenameRelative":"/server/main.js","env":{},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/server/main.js.map","sourceFileName":"/server/main.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"basename":"main"},"ignored":false,"code":"// start up script that creates some users for testing\n// users have the username 'user1@test.com' .. 'user8@test.com'\n// and the password test123\n\nMeteor.startup(function () {\n  if (!Meteor.users.findOne()) {\n    for (var i = 1; i < 9; i++) {\n      var email = \"user\" + i + \"@test.com\";\n      var username = \"user\" + i;\n      var avatar = \"ava\" + i + \".png\";\n      console.log(\"creating a user with password 'test123' and username/ email: \" + email);\n      Meteor.users.insert({ profile: { username: username, avatar: avatar }, emails: [{ address: email }], services: { password: { \"bcrypt\": \"$2a$10$I3erQ084OiyILTv8ybtQ4ON6wusgPbMZ6.P33zzSDei.BbDL.Q4EO\" } } });\n    }\n  }\n});\nAccounts.onCreateUser(function (options, user) {\n  console.log(options.profile);\n  user.profile = {};\n  user.profile = options.profile;\n\n  if (user.profile.gender == \"m\") {\n    user.profile.avatar = \"ava2.png\";\n  } else {\n    user.profile.avatar = \"ava1.png\";\n  }\n  return user;\n});\nMeteor.publish(\"chats\", function () {\n  // var user_chats = [];\n  // for (i=0; i<Chats.find({user1Id:this.userId}).fetch().length; i++){\n  //   user_chats.push(Chats.find({user1Id:this.userId}).fetch()[i]);\n  //   console.log(user_chats);\n  // };\n  // for (i=0; i<Chats.find({user2Id:this.userId}).fetch().length; i++){\n  //   user_chats.push(Chats.find({user2Id:this.userId}).fetch()[i]);\n  //   console.log(user_chats);\n  // };\n  var filter = { $or: [{ user1Id: this.userId }, { user2Id: this.userId }] };\n  console.log(Chats.find({ filter: filter }).fetch());\n  // console.log(this.userId);\n  // console.log(\"Chats.find(): \"+Chats.find());\n  // console.log(\"user1ID: \"+Chats.findOne({user1Id:this.userId}));\n  // console.log(\"user2ID: \"+Chats.findOne({user2Id:this.userId}));\n  // console.log(\"Chats: \"+Chats.find());\n  return Chats.find();\n});\nMeteor.publish(\"users\", function () {\n  return Meteor.users.find();\n});","ast":null,"map":{"version":3,"sources":["/server/main.js"],"names":[],"mappings":";;;;AAIA,OAAO,OAAP,CAAe,YAAY;AACzB,MAAI,CAAC,OAAO,KAAP,CAAa,OAAb,EAAD,EAAwB;AAC1B,SAAK,IAAI,IAAE,CAAF,EAAI,IAAE,CAAF,EAAI,GAAjB,EAAqB;AACnB,UAAI,QAAQ,SAAO,CAAP,GAAS,WAAT,CADO;AAEnB,UAAI,WAAW,SAAO,CAAP,CAFI;AAGnB,UAAI,SAAS,QAAM,CAAN,GAAQ,MAAR,CAHM;AAInB,cAAQ,GAAR,CAAY,kEAAgE,KAAhE,CAAZ,CAJmB;AAKnB,aAAO,KAAP,CAAa,MAAb,CAAoB,EAAC,SAAQ,EAAC,UAAS,QAAT,EAAmB,QAAO,MAAP,EAA5B,EAA4C,QAAO,CAAC,EAAC,SAAQ,KAAR,EAAF,CAAP,EAAyB,UAAS,EAAE,UAAS,EAAC,UAAW,8DAAX,EAAV,EAAX,EAA1F,EALmB;KAArB;GADF;CADa,CAAf;AAWA,SAAS,YAAT,CAAsB,UAAU,OAAV,EAAmB,IAAnB,EAAyB;AAC7C,UAAQ,GAAR,CAAY,QAAQ,OAAR,CAAZ,CAD6C;AAE7C,OAAK,OAAL,GAAe,EAAf,CAF6C;AAG7C,OAAK,OAAL,GAAe,QAAQ,OAAR,CAH8B;;AAK7C,MAAG,KAAK,OAAL,CAAa,MAAb,IAAuB,GAAvB,EAA4B;AAC7B,SAAK,OAAL,CAAa,MAAb,GAAsB,UAAtB,CAD6B;GAA/B,MAEO;AACL,SAAK,OAAL,CAAa,MAAb,GAAsB,UAAtB,CADK;GAFP;AAKA,SAAO,IAAP,CAV6C;CAAzB,CAAtB;AAYA,OAAO,OAAP,CAAe,OAAf,EAAwB,YAAW;;;;;;;;;;AAUjC,MAAI,SAAS,EAAC,KAAI,CACJ,EAAC,SAAQ,KAAK,MAAL,EADL,EAEJ,EAAC,SAAQ,KAAK,MAAL,EAFL,CAAJ,EAAV,CAV6B;AAcjC,UAAQ,GAAR,CAAY,MAAM,IAAN,CAAW,EAAC,cAAD,EAAX,EAAqB,KAArB,EAAZ;;;;;;AAdiC,SAoB3B,MAAM,IAAN,EAAP,CApBkC;CAAX,CAAxB;AAsBA,OAAO,OAAP,CAAe,OAAf,EAAwB,YAAW;AAClC,SAAO,OAAO,KAAP,CAAa,IAAb,EAAP,CADkC;CAAX,CAAxB","file":"/server/main.js.map","sourcesContent":["// start up script that creates some users for testing\n// users have the username 'user1@test.com' .. 'user8@test.com'\n// and the password test123 \n\nMeteor.startup(function () {\n  if (!Meteor.users.findOne()){\n    for (var i=1;i<9;i++){\n      var email = \"user\"+i+\"@test.com\";\n      var username = \"user\"+i;\n      var avatar = \"ava\"+i+\".png\"\n      console.log(\"creating a user with password 'test123' and username/ email: \"+email);\n      Meteor.users.insert({profile:{username:username, avatar:avatar}, emails:[{address:email}],services:{ password:{\"bcrypt\" : \"$2a$10$I3erQ084OiyILTv8ybtQ4ON6wusgPbMZ6.P33zzSDei.BbDL.Q4EO\"}}});\n    }\n  } \n});\nAccounts.onCreateUser(function (options, user) {\n  console.log(options.profile);\n  user.profile = {};\n  user.profile = options.profile;\n\n  if(user.profile.gender == \"m\") {\n    user.profile.avatar = \"ava2.png\";\n  } else {\n    user.profile.avatar = \"ava1.png\";\n  }\n  return user;\n});\nMeteor.publish(\"chats\", function() {\n  // var user_chats = [];\n  // for (i=0; i<Chats.find({user1Id:this.userId}).fetch().length; i++){\n  //   user_chats.push(Chats.find({user1Id:this.userId}).fetch()[i]);\n  //   console.log(user_chats);\n  // };\n  // for (i=0; i<Chats.find({user2Id:this.userId}).fetch().length; i++){\n  //   user_chats.push(Chats.find({user2Id:this.userId}).fetch()[i]);\n  //   console.log(user_chats);\n  // };\n  var filter = {$or:[\n                {user1Id:this.userId}, \n                {user2Id:this.userId}\n                ]};\n  console.log(Chats.find({filter}).fetch());\n  // console.log(this.userId);\n  // console.log(\"Chats.find(): \"+Chats.find());\n  // console.log(\"user1ID: \"+Chats.findOne({user1Id:this.userId}));\n  // console.log(\"user2ID: \"+Chats.findOne({user2Id:this.userId}));\n  // console.log(\"Chats: \"+Chats.find());\n\treturn Chats.find();\n});\nMeteor.publish(\"users\", function() {\n\treturn Meteor.users.find();\n});"]},"hash":"501350b3758b8df5422088dd60df6dc832b820b2"}
